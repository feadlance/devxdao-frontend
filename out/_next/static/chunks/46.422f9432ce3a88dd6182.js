(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[46],{Lph7:function(e,t,s){"use strict";s.r(t);var c=s("nKUr"),r=s("1OyB"),p=s("vuIU"),o=s("JX7q"),a=s("Ji7U"),n=s("md7G"),i=s("foSv"),u=s("rePB"),l=s("q1tI"),d=s("/MKj"),f=s("Ty5D"),h=(s("fVC1"),s("xDwY")),b=s("e+cM"),j=s("ZpDd"),O=s("LADp");function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,c=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;s=Reflect.construct(c,arguments,r)}else s=c.apply(this,arguments);return Object(n.a)(this,s)}}var y=function(e){Object(a.a)(s,e);var t=v(s);function s(e){var c;return Object(r.a)(this,s),c=t.call(this,e),Object(u.a)(Object(o.a)(c),"create",(function(e,t){c.props.dispatch(Object(O.tc)(e,(function(){c.props.dispatch(Object(j.wb)())}),(function(e){var s=c.props.history;if(e.success&&e.proposal&&e.proposal.id)if(t&&t.length){var r=new FormData;t.forEach((function(e){r.append("files[]",e),r.append("names[]",e.name)})),r.append("proposal",e.proposal.id),c.props.dispatch(Object(O.Qc)(r,(function(){c.props.dispatch(Object(j.wb)())}),(function(e){e.success&&(s.push("/app/proposals"),c.props.dispatch(Object(j.vb)("You have successfully submitted your proposal. We will review it and keep you posted.","success")),c.props.dispatch(Object(j.P)()))})))}else s.push("/app/proposals"),c.props.dispatch(Object(j.vb)("You have successfully submitted your proposal. We will review it and keep you posted.","success")),c.props.dispatch(Object(j.P)());else c.props.dispatch(Object(j.P)())})))})),c}return Object(p.a)(s,[{key:"render",value:function(){var e=this.props.authUser;return e&&e.id?e.is_admin?Object(c.jsx)(f.a,{to:"/"}):Object(c.jsxs)("div",{id:"app-new-proposal-page",children:[Object(c.jsx)("div",{style:{marginTop:"50px"},children:Object(c.jsx)(b.h,{title:"New Proposal",link:"/app/proposals"})}),Object(c.jsxs)("p",{children:["Please read"," ",Object(c.jsx)("a",{href:"https://portal.devxdao.com/guide.pdf",target:"_blank",rel:"noreferrer",className:"dynamic-color",children:Object(c.jsx)("u",{children:"the guide"})})," ","first to understand this form."]}),Object(c.jsx)(h.a,{onChange:this.create})]}):null}}]),s}(l.Component);t.default=Object(d.b)((function(e){return{authUser:e.global.authUser}}))(Object(f.g)(y))}}]);