(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[42],{Fsso:function(t,e,s){"use strict";s.r(e);var o=s("nKUr"),p=s("1OyB"),r=s("vuIU"),a=s("JX7q"),c=s("Ji7U"),n=s("md7G"),i=s("foSv"),l=s("rePB"),u=s("q1tI"),d=s("/MKj"),h=s("Ty5D"),f=(s("LHQS"),s("xDwY")),b=s("e+cM"),j=s("LADp"),v=s("ZpDd");function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,o=Object(i.a)(t);if(e){var p=Object(i.a)(this).constructor;s=Reflect.construct(o,arguments,p)}else s=o.apply(this,arguments);return Object(n.a)(this,s)}}var y=function(t){Object(c.a)(s,t);var e=O(s);function s(t){var o;return Object(p.a)(this,s),o=e.call(this,t),Object(l.a)(Object(a.a)(o),"edit",(function(t,e){o.props.dispatch(Object(j.Mc)({id:o.state.proposalId,type:t.type},t,(function(){o.props.dispatch(Object(v.wb)())}),(function(t){var s=o.props.history;if(t.success&&t.proposal&&t.proposal.id)if(e&&e.length){var p=new FormData;ids_to_remove.length&&p.append("ids_to_remove",ids_to_remove.join(",")),e.forEach((function(t){t.id||(p.append("files[]",t),p.append("names[]",t.name))})),p.append("proposal",t.proposal.id),o.props.dispatch(Object(j.Pc)(p,(function(){}),(function(t){t.success&&(s.push("/app/proposals"),o.props.dispatch(Object(v.vb)("You have successfully re-submitted your proposal. We will review it and keep you posted.","success")),o.props.dispatch(Object(v.P)()))})))}else s.push("/app/proposals"),o.props.dispatch(Object(v.vb)("You have successfully re-submitted your proposal. We will review it and keep you posted.","success")),o.props.dispatch(Object(v.P)());else o.props.dispatch(Object(v.P)())})))})),o.state={proposal:null,proposalId:0,loading:!1},o}return Object(r.a)(s,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.proposalId;this.props.dispatch(Object(j.Lb)(e,(function(){t.setState({loading:!0}),t.props.dispatch(Object(v.wb)())}),(function(s){t.props.dispatch(Object(v.P)());var o=s.proposal||{};t.setState({loading:!1,proposalId:e,proposal:o})})))}},{key:"render",value:function(){var t=this.props.authUser,e=this.state.proposal;return t&&t.id?Object(o.jsxs)("div",{id:"app-edit-proposal-page",children:[Object(o.jsx)("div",{style:{marginTop:"50px"},children:Object(o.jsx)(b.h,{title:"Edit Proposal: "+(e?null===e||void 0===e?void 0:e.title:""),link:"/app/proposals"})}),Object(o.jsxs)("p",{children:["Please read"," ",Object(o.jsx)("a",{href:"https://portal.devxdao.com/guide.pdf",target:"_blank",rel:"noreferrer",className:"dynamic-color",children:Object(o.jsx)("u",{children:"the guide"})})," ","first to understand this form."]}),e&&Object(o.jsx)(f.a,{proposal:e,onChange:this.edit})]}):null}}]),s}(u.Component);e.default=Object(d.b)((function(t){return{authUser:t.global.authUser}}))(Object(h.g)(y))}}]);