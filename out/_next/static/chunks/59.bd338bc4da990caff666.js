(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[59],{XxLS:function(e,t,c){"use strict";c.r(t);var s=c("nKUr"),l=c("1OyB"),i=c("vuIU"),n=c("Ji7U"),a=c("md7G"),r=c("foSv"),o=c("q1tI"),d=c.n(o),j=c("/MKj"),m=c("Ty5D"),u=c("s/m+"),b=c("KQm4"),h=c("JX7q"),p=c("rePB"),f=c("17x9"),v=c.n(f);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var c,s,l=function(e,t){if(null==e)return{};var c,s,l={},i=Object.keys(e);for(s=0;s<i.length;s++)c=i[s],t.indexOf(c)>=0||(l[c]=e[c]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)c=i[s],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(l[c]=e[c])}return l}var N=Object(o.forwardRef)((function(e,t){var c=e.color,s=void 0===c?"currentColor":c,l=e.size,i=void 0===l?24:l,n=x(e,["color","size"]);return d.a.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),d.a.createElement("polyline",{points:"20 6 9 17 4 12"}))}));N.propTypes={color:v.a.string,size:v.a.oneOfType([v.a.string,v.a.number])},N.displayName="Check";var _=N,k=c("wHH0"),g=c("Cup8"),y=c("I6fM"),z=c("csfp"),T=c("e+cM"),S=c("LADp"),C=c("ZpDd"),R=(c("O1Ha"),c("YW6W"));function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(r.a)(e);if(t){var l=Object(r.a)(this).constructor;c=Reflect.construct(s,arguments,l)}else c=s.apply(this,arguments);return Object(a.a)(this,c)}}var H=c("wd/R"),I=function(e){Object(n.a)(c,e);var t=w(c);function c(e){var s;return Object(l.a)(this,c),s=t.call(this,e),Object(p.a)(Object(h.a)(s),"trackScroll",(function(){s.$elem&&s.$elem.scrollTop+s.$elem.clientHeight>=s.$elem.scrollHeight&&s.runNextPage()})),Object(p.a)(Object(h.a)(s),"handleSearch",(function(e){s.setState({search:e.target.value},(function(){s.timer&&(clearTimeout(s.timer),s.timer=null),s.timer=setTimeout((function(){s.reloadTable()}),500)}))})),s.state={loading:!1,votes:[],sort_key:"timeLeft",sort_direction:"asc",search:"",page_id:1,calling:!1,finished:!1},s.$elem=null,s.timer=null,s}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.informalBallotTableStatus;!e.informalBallotTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(C.nb)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-active-informal-votes-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,c=t.calling,s=t.loading,l=t.finished,i=t.page_id;c||s||l||this.setState({page_id:i+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=this.state,s=c.calling,l=c.loading,i=c.finished,n=c.sort_key,a=c.sort_direction,r=c.search,o=c.page_id,d=c.votes;if(!(l||s||i)){var j={sort_key:n,sort_direction:a,search:r,page_id:o};this.props.dispatch(Object(S.hb)(j,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var c=t.votes||[],s=t.finished||!1;e.setState({loading:!1,calling:!1,finished:s,votes:[].concat(Object(b.a)(d),Object(b.a)(c))})})))}}},{key:"clickRow",value:function(e){var t=this.props,c=t.authUser,s=t.history;c.is_guest?(this.props.dispatch(Object(C.gb)({"voting-access-alert":{render:!0,title:"Sorry, you can't access a live vote."}})),this.props.dispatch(Object(C.Z)("custom-global-modal"))):s.push("/app/proposal/".concat(e.proposal_id))}},{key:"renderTriangle",value:function(e){var t=this.state,c=t.sort_key,l=t.sort_direction;return c!=e?Object(s.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==l?Object(s.jsx)("span",{children:"\u25b2"}):Object(s.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,c=this.state,s=c.sort_key,l=c.sort_direction;s==e?l="asc"==l?"desc":"asc":(s=e,l="desc"),this.setState({sort_key:s,sort_direction:l},(function(){t.reloadTable()}))}},{key:"renderQuorum",value:function(e){var t=this.props,c=t.authUser,l=t.settings,i=0;if("simple"===e.content_type?i=+l.quorum_rate_simple:"grant"===e.content_type?i=+l.quorum_rate:"milestone"===e.content_type&&(i=+l.quorum_rate_milestone),i){var n=+e.result_count/+c.totalMembers>=+i/100;return Object(s.jsxs)("div",{className:"font-size-14",children:[Object(s.jsx)("label",{children:e.result_count})," /"," ",Object(s.jsx)("label",{className:"pr-2",children:c.totalMembers}),n?Object(s.jsx)(_,{size:"14"}):Object(s.jsx)(k.a,{size:"14"})]})}}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,c=null;return c=t&&t.is_member?Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(s.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("timeLeft")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("timeLeft")]}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}):Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsxs)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickHeader("timeLeft")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("timeLeft")]}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}),Object(s.jsx)("div",{className:"infinite-header",children:Object(s.jsx)("div",{className:"infinite-headerInner",children:c})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(s.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(s.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(s.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(s.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderTooltip",value:function(){return Object(s.jsx)(o.Fragment,{children:Object(s.jsx)("p",{className:"font-size-13",children:"This area displays informal votes currently in progress. If you are a Voting Associate, you should review and vote."})})}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,c=this.props,l=c.authUser,i=c.settings,n=[];return t&&t.length?(t.forEach((function(t,c){var a=0;"grant"==t.content_type?i.time_unit_informal&&i.time_informal&&("min"==i.time_unit_informal?a=parseInt(i.time_informal):"hour"==i.time_unit_informal?a=60*parseInt(i.time_informal):"day"==i.time_unit_informal&&(a=24*parseInt(i.time_informal)*60)):"simple"==t.content_type?i.time_unit_simple&&i.time_simple&&("min"==i.time_unit_simple?a=parseInt(i.time_simple):"hour"==i.time_unit_simple?a=60*parseInt(i.time_simple):"day"==i.time_unit_simple&&(a=24*parseInt(i.time_simple)*60)):"milestone"==t.content_type&&i.time_unit_milestone&&i.time_milestone&&("min"==i.time_unit_milestone?a=parseInt(i.time_milestone):"hour"==i.time_unit_milestone?a=60*parseInt(i.time_milestone):"day"==i.time_unit_milestone&&(a=24*parseInt(i.time_milestone)*60));var r=0,o=0,d=0,j=H(t.created_at).add(a,"minutes").diff(H(),"minutes");j>0&&(r=j%60,o=parseInt(j/60),d=parseInt(o/24),o%=24),l&&l.is_member?n.push(Object(s.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:e.renderMyVote(t)}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:e.renderRep(t)}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsxs)("div",{className:"vote-clock-wrap",children:[Object(s.jsx)(g.a,{size:14,color:"#ffffff"}),Object(s.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(o,"H:").concat(r,"MIN")})]})}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:e.renderQuorum(t)})}),Object(s.jsx)("div",{className:"c-col-8 c-cols",children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[H(t.created_at).local().format("M/D/YYYY")," ",H(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(c))):n.push(Object(s.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsxs)("div",{className:"vote-clock-wrap",children:[Object(s.jsx)(g.a,{size:14,color:"#ffffff"}),Object(s.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(o,"H:").concat(r,"MIN")})]})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:e.renderQuorum(t)})}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[H(t.created_at).local().format("M/D/YYYY")," ",H(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(c)))})),Object(s.jsx)("ul",{children:n})):Object(s.jsx)("div",{id:"infinite-no-result",children:Object(s.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,c=t.loading,l=t.search,i=e&&e.is_member?"member":"";return i+=" app-infinite-box",Object(s.jsx)(u.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(s.jsxs)("section",{id:"app-active-informal-votes-section",className:i,children:[Object(s.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(s.jsx)("label",{children:"Active Informal Votes"}):Object(s.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(s.jsx)("label",{children:"Active Informal Votes"}),Object(s.jsx)(z.a,{title:this.renderTooltip(),placement:"right-end",children:Object(s.jsx)(y.a,{size:16})})]}),Object(s.jsx)("input",{type:"text",value:l,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(s.jsx)("div",{className:"infinite-content",children:Object(s.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(s.jsx)("div",{className:"infinite-body",id:"app-active-informal-votes-sectionBody",children:c?Object(s.jsx)(T.k,{}):this.renderVotes()})]})})]})})}}]),c}(o.Component),V=Object(j.b)((function(e){return{authUser:e.global.authUser,informalBallotTableStatus:e.admin.informalBallotTableStatus,settings:e.global.settings}}))(Object(m.g)(I));c("DZqd");function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(r.a)(e);if(t){var l=Object(r.a)(this).constructor;c=Reflect.construct(s,arguments,l)}else c=s.apply(this,arguments);return Object(a.a)(this,c)}}var M=c("wd/R"),D=function(e){Object(n.a)(c,e);var t=U(c);function c(e){var s;return Object(l.a)(this,c),s=t.call(this,e),Object(p.a)(Object(h.a)(s),"trackScroll",(function(){s.$elem&&s.$elem.scrollTop+s.$elem.clientHeight>=s.$elem.scrollHeight&&s.runNextPage()})),Object(p.a)(Object(h.a)(s),"handleSearch",(function(e){s.setState({search:e.target.value},(function(){s.timer&&(clearTimeout(s.timer),s.timer=null),s.timer=setTimeout((function(){s.reloadTable()}),500)}))})),s.state={loading:!1,votes:[],sort_key:"timeLeft",sort_direction:"asc",search:"",page_id:1,calling:!1,finished:!1},s.$elem=null,s.timer=null,s}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.formalBallotTableStatus;!e.formalBallotTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(C.kb)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-active-formal-votes-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,c=t.calling,s=t.loading,l=t.finished,i=t.page_id;c||s||l||this.setState({page_id:i+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=this.state,s=c.calling,l=c.loading,i=c.finished,n=c.sort_key,a=c.sort_direction,r=c.search,o=c.page_id,d=c.votes;if(!(l||s||i)){var j={sort_key:n,sort_direction:a,search:r,page_id:o};this.props.dispatch(Object(S.gb)(j,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var c=t.votes||[],s=t.finished||!1;e.setState({loading:!1,calling:!1,finished:s,votes:[].concat(Object(b.a)(d),Object(b.a)(c))})})))}}},{key:"clickRow",value:function(e){var t=this.props,c=t.authUser,s=t.history;c.is_guest?(this.props.dispatch(Object(C.gb)({"voting-access-alert":{render:!0,title:"Sorry, you can't access a live vote."}})),this.props.dispatch(Object(C.Z)("custom-global-modal"))):s.push("/app/proposal/".concat(e.proposal_id))}},{key:"renderTriangle",value:function(e){var t=this.state,c=t.sort_key,l=t.sort_direction;return c!=e?Object(s.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==l?Object(s.jsx)("span",{children:"\u25b2"}):Object(s.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,c=this.state,s=c.sort_key,l=c.sort_direction;s==e?l="asc"==l?"desc":"asc":(s=e,l="desc"),this.setState({sort_key:s,sort_direction:l},(function(){t.reloadTable()}))}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,c=null;return c=t&&t.is_member?Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(s.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("timeLeft")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("timeLeft")]}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}):Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsxs)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickHeader("timeLeft")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("timeLeft")]}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}),Object(s.jsx)("div",{className:"infinite-header",children:Object(s.jsx)("div",{className:"infinite-headerInner",children:c})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(s.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(s.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(s.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(s.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderTooltip",value:function(){return Object(s.jsx)(o.Fragment,{children:Object(s.jsx)("p",{className:"font-size-13",children:"This area displays formal votes currently in progress. If you are a Voting Associate, you should review and vote."})})}},{key:"renderQuorum",value:function(e){var t=this.props.settings,c=0;if("simple"===e.content_type?c=+t.quorum_rate_simple:"grant"===e.content_type?c=+t.quorum_rate:"milestone"===e.content_type&&(c=+t.quorum_rate_milestone),c){var l=+e.result_count/+e.total_member>=+c/100;return Object(s.jsxs)("div",{className:"font-size-14",children:[Object(s.jsx)("label",{children:e.result_count})," /"," ",Object(s.jsx)("label",{className:"pr-2",children:e.total_member}),l?Object(s.jsx)(_,{size:"14"}):Object(s.jsx)(k.a,{size:"14"})]})}}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,c=this.props,l=c.authUser,i=c.settings,n=[];return t&&t.length?(t.forEach((function(t,c){var a=0;"grant"==t.content_type?i.time_unit_formal&&i.time_formal&&("min"==i.time_unit_formal?a=parseInt(i.time_formal):"hour"==i.time_unit_formal?a=60*parseInt(i.time_formal):"day"==i.time_unit_formal&&(a=24*parseInt(i.time_formal)*60)):"simple"==t.content_type?i.time_unit_simple&&i.time_simple&&("min"==i.time_unit_simple?a=parseInt(i.time_simple):"hour"==i.time_unit_simple?a=60*parseInt(i.time_simple):"day"==i.time_unit_simple&&(a=24*parseInt(i.time_simple)*60)):"milestone"==t.content_type&&i.time_unit_milestone&&i.time_milestone&&("min"==i.time_unit_milestone?a=parseInt(i.time_milestone):"hour"==i.time_unit_milestone?a=60*parseInt(i.time_milestone):"day"==i.time_unit_milestone&&(a=24*parseInt(i.time_milestone)*60));var r=0,o=0,d=0,j=M(t.created_at).add(a,"minutes").diff(M(),"minutes");j>0&&(r=j%60,o=parseInt(j/60),d=parseInt(o/24),o%=24),l&&l.is_member?n.push(Object(s.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:e.renderMyVote(t)}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:e.renderRep(t)}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsxs)("div",{className:"vote-clock-wrap",children:[Object(s.jsx)(g.a,{size:14,color:"#ffffff"}),Object(s.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(o,"H:").concat(r,"MIN")})]})}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:e.renderQuorum(t)}),Object(s.jsx)("div",{className:"c-col-8 c-cols",children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[M(t.created_at).local().format("M/D/YYYY")," ",M(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(c))):n.push(Object(s.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsxs)("div",{className:"vote-clock-wrap",children:[Object(s.jsx)(g.a,{size:14,color:"#ffffff"}),Object(s.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(o,"H:").concat(r,"MIN")})]})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:e.renderQuorum(t)})}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[M(t.created_at).local().format("M/D/YYYY")," ",M(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(c)))})),Object(s.jsx)("ul",{children:n})):Object(s.jsx)("div",{id:"infinite-no-result",children:Object(s.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,c=t.loading,l=t.search,i=e&&e.is_member?"member":"";return i+=" app-infinite-box",Object(s.jsx)(u.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(s.jsxs)("section",{id:"app-active-formal-votes-section",className:i,children:[Object(s.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(s.jsx)("label",{children:"Active Formal Votes"}):Object(s.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(s.jsx)("label",{children:"Active Formal Votes"}),Object(s.jsx)(z.a,{title:this.renderTooltip(),placement:"right-end",children:Object(s.jsx)(y.a,{size:16})})]}),Object(s.jsx)("input",{type:"text",value:l,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(s.jsx)("div",{className:"infinite-content",children:Object(s.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(s.jsx)("div",{className:"infinite-body",id:"app-active-formal-votes-sectionBody",children:c?Object(s.jsx)(T.k,{}):this.renderVotes()})]})})]})})}}]),c}(o.Component),$=Object(j.b)((function(e){return{authUser:e.global.authUser,formalBallotTableStatus:e.admin.formalBallotTableStatus,settings:e.global.settings}}))(Object(m.g)(D));c("gTb6");function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(r.a)(e);if(t){var l=Object(r.a)(this).constructor;c=Reflect.construct(s,arguments,l)}else c=s.apply(this,arguments);return Object(a.a)(this,c)}}var B=c("wd/R"),Y=function(e){Object(n.a)(c,e);var t=F(c);function c(e){var s;return Object(l.a)(this,c),s=t.call(this,e),Object(p.a)(Object(h.a)(s),"trackScroll",(function(){s.$elem&&s.$elem.scrollTop+s.$elem.clientHeight>=s.$elem.scrollHeight&&s.runNextPage()})),Object(p.a)(Object(h.a)(s),"handleSearch",(function(e){s.setState({search:e.target.value},(function(){s.timer&&(clearTimeout(s.timer),s.timer=null),s.timer=setTimeout((function(){s.reloadTable()}),500)}))})),s.state={loading:!1,votes:[],sort_key:"vote.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1},s.$elem=null,s.timer=null,s}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentDidUpdate",value:function(e){var t=this.props.completedVotesTableStatus;!e.completedVotesTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(C.fb)(!1)))}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-completed-votes-sectionBody"),this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,c=t.calling,s=t.loading,l=t.finished,i=t.page_id;c||s||l||this.setState({page_id:i+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=this.state,s=c.calling,l=c.loading,i=c.finished,n=c.sort_key,a=c.sort_direction,r=c.search,o=c.page_id,d=c.votes;if(!(l||s||i)){var j={sort_key:n,sort_direction:a,search:r,page_id:o};this.props.dispatch(Object(S.tb)(j,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var c=t.votes||[],s=t.finished||!1;e.setState({loading:!1,calling:!1,finished:s,votes:[].concat(Object(b.a)(d),Object(b.a)(c))})})))}}},{key:"clickRow",value:function(e){var t=this.props,c=t.authUser,s=t.history;if(c.is_member||c.is_admin||c.is_participant||c.id==e.user_id){var l="/app/proposal/".concat(e.proposal_id,"/informal-vote");"milestone"==e.content_type?l="/app/proposal/".concat(e.proposal_id,"/milestone-vote/").concat(e.id):"formal"==e.type&&(l="/app/proposal/".concat(e.proposal_id,"/formal-vote")),s.push(l)}else this.props.dispatch(Object(C.gb)({"voting-access-alert":{render:!0,title:"Sorry, only voting associates may access a live vote."}})),this.props.dispatch(Object(C.Z)("custom-global-modal"))}},{key:"renderTriangle",value:function(e){var t=this.state,c=t.sort_key,l=t.sort_direction;return c!=e?Object(s.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==l?Object(s.jsx)("span",{children:"\u25b2"}):Object(s.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,c=this.state,s=c.sort_key,l=c.sort_direction;s==e?l="asc"==l?"desc":"asc":(s=e,l="desc"),this.setState({sort_key:s,sort_direction:l},(function(){t.reloadTable()}))}},{key:"clickRevote",value:function(e){this.props.dispatch(Object(C.gb)({revote:{render:!0,title:"You are restarting this vote",data:e}})),this.props.dispatch(Object(C.Z)("custom-global-modal"))}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,c=null;return c=t&&t.is_member?Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Type"}),this.renderTriangle("vote.type")]}),Object(s.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Result"})}),Object(s.jsx)("div",{className:"c-col-8 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Stake For/Against"})}),Object(s.jsx)("div",{className:"c-col-9 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-10 c-cols",onClick:function(){return e.clickHeader("vote.updated_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Completed Date"}),this.renderTriangle("vote.updated_at")]})]}):Object(s.jsxs)(o.Fragment,{children:[Object(s.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(s.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(s.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Type"}),this.renderTriangle("vote.type")]}),Object(s.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(s.jsx)("div",{className:"c-col-4 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(s.jsx)("div",{className:"c-col-5 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Result"})}),Object(s.jsx)("div",{className:"c-col-6 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Stake For/Against"})}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:Object(s.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(s.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.updated_at")},children:[Object(s.jsx)("label",{className:"font-size-14",children:"Completed Date"}),this.renderTriangle("vote.updated_at")]})]}),Object(s.jsx)("div",{className:"infinite-header",children:Object(s.jsx)("div",{className:"infinite-headerInner",children:c})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(s.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(s.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(s.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(s.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(s.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderResult",value:function(e){return e.result_count&&"success"==e.result?Object(s.jsx)("label",{className:"font-size-14 color-success d-block",children:"Pass"}):"no-quorum"==e.result?Object(s.jsx)("label",{className:"font-size-14 color-danger d-block",children:"No Quorum"}):Object(s.jsx)("label",{className:"font-size-14 color-danger d-block",children:"Fail"})}},{key:"renderStake",value:function(e){return e.result_count&&"success"==e.result?Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{className:"font-size-14 color-success",children:e.for_value}),"\xa0","/","\xa0",Object(s.jsx)("label",{className:"font-size-14",children:e.against_value})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{className:"font-size-14",children:e.for_value}),"\xa0","/","\xa0",Object(s.jsx)("label",{className:"font-size-14 color-danger",children:e.against_value})]})}},{key:"renderQuorum",value:function(e){var t=this,c=this.props.authUser;if("no-quorum"==e.result){var l=!1;return(c.is_admin||c.id==e.user_id)&&(l=!0),Object(s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(s.jsxs)("div",{className:"font-size-14 color-danger text-nowrap",children:[Object(s.jsx)("label",{children:e.result_count})," /"," ",Object(s.jsx)("label",{children:c.totalMembers})]}),l?Object(s.jsx)("a",{style:{marginLeft:"10px"},className:"btn btn-primary extra-small btn-fluid-small",onClick:function(){return t.clickRevote(e)},children:"Revote"}):null]})}return Object(s.jsxs)("div",{className:"font-size-14 color-success",children:[Object(s.jsx)("label",{children:e.result_count})," /"," ",Object(s.jsx)("label",{children:c.totalMembers})]})}},{key:"renderTooltip",value:function(){return Object(s.jsx)(o.Fragment,{children:Object(s.jsx)("p",{className:"font-size-13",children:"This area displays the votes that have already completed in the system."})})}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,c=this.props.authUser,l=[];return t&&t.length?(t.forEach((function(t,i){c&&c.is_member?l.push(Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"informal"==t.type?"Informal":"Formal"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickRow(t)},children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderMyVote(t)}),Object(s.jsx)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderRep(t)}),Object(s.jsx)("div",{className:"c-col-7 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderResult(t)}),Object(s.jsx)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderStake(t)}),Object(s.jsx)("div",{className:"c-col-9 c-cols",children:e.renderQuorum(t)}),Object(s.jsx)("div",{className:"c-col-10 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[B(t.updated_at).local().format("M/D/YYYY")," ",B(t.updated_at).local().format("h:mm A")]})})]})},"vote_".concat(i))):l.push(Object(s.jsx)("li",{children:Object(s.jsxs)("div",{className:"infinite-row",children:[Object(s.jsx)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(s.jsx)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)(z.a,{title:t.title,placement:"bottom",children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:t.title})})}),Object(s.jsx)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"informal"==t.type?"Informal":"Formal"})}),Object(s.jsx)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(s.jsx)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickRow(t)},children:R.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(s.jsx)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderResult(t)}),Object(s.jsx)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderStake(t)}),Object(s.jsx)("div",{className:"c-col-7 c-cols",children:e.renderQuorum(t)}),Object(s.jsx)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickRow(t)},children:Object(s.jsxs)("label",{className:"font-size-14 d-block",children:[B(t.updated_at).local().format("M/D/YYYY")," ",B(t.updated_at).local().format("h:mm A")]})})]})},"vote_".concat(i)))})),Object(s.jsx)("ul",{children:l})):Object(s.jsx)("div",{id:"infinite-no-result",children:Object(s.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,c=t.loading,l=t.search,i=e&&e.is_member?"member":"";return i+=" app-infinite-box",Object(s.jsx)(u.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(s.jsxs)("section",{id:"app-completed-votes-section",className:i,children:[Object(s.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(s.jsx)("label",{children:"Completed Votes"}):Object(s.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(s.jsx)("label",{children:"Completed Votes"}),Object(s.jsx)(z.a,{title:this.renderTooltip(),placement:"right-end",children:Object(s.jsx)(y.a,{size:16})})]}),Object(s.jsx)("input",{type:"text",value:l,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(s.jsx)("div",{className:"infinite-content",children:Object(s.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(s.jsx)("div",{className:"infinite-body",id:"app-completed-votes-sectionBody",children:c?Object(s.jsx)(T.k,{}):this.renderVotes()})]})})]})})}}]),c}(o.Component),L=Object(j.b)((function(e){return{authUser:e.global.authUser,settings:e.global.settings,completedVotesTableStatus:e.admin.completedVotesTableStatus}}))(Object(m.g)(Y));c("3ase");function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var c,s=Object(r.a)(e);if(t){var l=Object(r.a)(this).constructor;c=Reflect.construct(s,arguments,l)}else c=s.apply(this,arguments);return Object(a.a)(this,c)}}var P=function(e){Object(n.a)(c,e);var t=E(c);function c(e){var s;return Object(l.a)(this,c),(s=t.call(this,e)).state={tab:"active"},s}return Object(i.a)(c,[{key:"render",value:function(){var e=this,t=this.props.authUser,c=this.state.tab;return t&&t.id?Object(s.jsxs)("div",{id:"app-votes-page",children:[Object(s.jsx)(u.Fade,{distance:"20px",bottom:!0,duration:400,delay:600,children:Object(s.jsxs)("ul",{id:"app-votes-pageHeader",children:[Object(s.jsx)("li",{className:"active"==c?"active":"",onClick:function(){return e.setState({tab:"active"})},children:"Active"}),Object(s.jsx)("li",{className:"completed"==c?"active":"",onClick:function(){return e.setState({tab:"completed"})},children:"Completed"})]})}),"active"==c?Object(s.jsxs)(o.Fragment,{children:[Object(s.jsx)(V,{}),Object(s.jsx)($,{})]}):Object(s.jsx)(o.Fragment,{children:Object(s.jsx)(L,{})})]}):null}}]),c}(o.Component);t.default=Object(j.b)((function(e){return{authUser:e.global.authUser}}))(Object(m.g)(P))}}]);