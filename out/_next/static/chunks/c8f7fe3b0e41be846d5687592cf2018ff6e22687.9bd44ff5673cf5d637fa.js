(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[2],{"/PZL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},"5svO":function(e,t,n){"use strict";var i=n("nKUr"),s=n("KQm4"),r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),l=n("md7G"),d=n("foSv"),u=n("rePB"),p=n("q1tI"),h=n("/MKj"),m=n("I6fM"),f=n("LADp"),b=n("e+cM"),j=n("ZpDd"),v=n("Ty5D"),O=(n("8lVd"),n("Iowh")),_=n.n(O),g=n("IwCS");function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var y=n("wd/R"),k=function(e){Object(c.a)(n,e);var t=x(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(a.a)(i),"trackScroll",(function(){i.$elem&&i.$elem.scrollTop+i.$elem.clientHeight>=i.$elem.scrollHeight&&i.runNextPage()})),Object(u.a)(Object(a.a)(i),"handleSearch",(function(e){i.setState({search:e.target.value},(function(){i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){i.reloadTable()}),500)}))})),Object(u.a)(Object(a.a)(i),"filterV",(function(e){var t={filter_v:e};e||(t.start_date=null,t.end_date=null,i.reloadTable()),i.setState(t),i.setState(t,(function(){e||i.reloadTable()}))})),Object(u.a)(Object(a.a)(i),"recalculate",(function(){i.reloadTable()})),Object(u.a)(Object(a.a)(i),"downloadCSV",(function(){var e=i.state,t=e.calling,n=e.loading,s=e.sort_key,r=e.sort_direction,o=e.search,a=e.is_va,c=e.filter_v,l=e.start_date,d=e.end_date;if(!n&&!t){var u={sort_key:s,sort_direction:r,search:o};a&&(u.is_va=a),c&&(u.start_date=l,u.end_date=d),i.props.dispatch(Object(f.T)(u,(function(){i.props.dispatch(Object(j.Cb)())}),(function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download","portal-users.csv"),document.body.appendChild(n),n.click(),i.props.dispatch(Object(j.U)())})))}})),i.state={users:[],loading:!1,sort_key:"users.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1,is_va:null,filter_v:!1,start_date:"",end_date:""},i.$elem=null,i.timer=null,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.startTracking(),this.getUsers()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.userTableStatus;!e.userTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(j.eb)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-users-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,users:[],finished:!1},(function(){e.getUsers()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,i=t.loading,s=t.finished,r=t.page_id;n||i||s||this.setState({page_id:r+1},(function(){e.getUsers(!1)}))}},{key:"clickRow",value:function(e){this.props.history.push("/app/user/".concat(e.id))}},{key:"getUsers",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,i=n.calling,r=n.loading,o=n.finished,a=n.sort_key,c=n.sort_direction,l=n.search,d=n.page_id,u=n.users,p=n.is_va,h=n.filter_v,m=n.start_date,b=n.end_date;if(!(r||i||o)){var j={sort_key:a,sort_direction:c,search:l,page_id:d};p&&(j.is_va=p),h&&(j.start_date=m,j.end_date=b),this.props.dispatch(Object(f.ic)(j,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.users||[],i=t.finished||!1;e.setState({loading:!1,calling:!1,finished:i,users:[].concat(Object(s.a)(u),Object(s.a)(n))})})))}}},{key:"changeVA",value:function(e){var t=this;this.setState({is_va:e?1:0},(function(){t.timer&&(clearTimeout(t.timer),t.timer=null),t.timer=setTimeout((function(){t.reloadTable()}),500)}))}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,s=t.sort_direction;return n!=e?Object(i.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==s?Object(i.jsx)("span",{children:"\u25b2"}):Object(i.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,i=n.sort_key,s=n.sort_direction;i==e?s="asc"==s?"desc":"asc":(i=e,s="desc"),this.setState({sort_key:i,sort_direction:s},(function(){t.reloadTable()}))}},{key:"renderHeader",value:function(){var e=this;return Object(i.jsx)("div",{className:"infinite-header",children:Object(i.jsxs)("div",{className:"infinite-headerInner",children:[Object(i.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("users.email")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Email"}),this.renderTriangle("users.email")]}),Object(i.jsx)("div",{className:"c-col-2 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Telegram"})}),Object(i.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("users.first_name")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"First Name"}),this.renderTriangle("users.first_name")]}),Object(i.jsxs)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickHeader("users.last_name")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Last Name"}),this.renderTriangle("users.last_name")]}),Object(i.jsxs)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickHeader("users.forum_name")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Forum Name"}),this.renderTriangle("users.forum_name")]}),Object(i.jsx)("div",{className:"c-col-6 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"V%"})}),Object(i.jsx)("div",{className:"c-col-7 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Total Rep"})}),Object(i.jsx)("div",{className:"c-col-8 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"User Type"})}),Object(i.jsx)("div",{className:"c-col-9 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Action"})}),Object(i.jsxs)("div",{className:"c-col-10 c-cols",onClick:function(){return e.clickHeader("users.created_at")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Registered Date"}),this.renderTriangle("users.created_at")]})]})})}},{key:"renderUserType",value:function(e){return e.is_member?"Voting Associate":e.is_participant?"Associate":e.is_proposer?"Proposer":e.is_guest?"Guest":""}},{key:"renderUsers",value:function(){var e=this,t=this.state.users,n=[];return t&&t.length?(t.forEach((function(t,s){var r,o;n.push(Object(i.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(i.jsxs)("div",{className:"infinite-row",children:[Object(i.jsx)("div",{className:"c-col-1 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:Object(i.jsx)("b",{children:t.email})})}),Object(i.jsx)("div",{className:"c-col-2 c-cols",children:Object(i.jsx)("label",{className:"font-size-14 text-elipse",children:t.telegram})}),Object(i.jsx)("div",{className:"c-col-3 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:t.first_name})}),Object(i.jsx)("div",{className:"c-col-4 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:t.last_name})}),Object(i.jsx)("div",{className:"c-col-5 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:t.forum_name})}),Object(i.jsx)("div",{className:"c-col-6 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Voting Associate"===e.renderUserType(t)&&Object(i.jsxs)(i.Fragment,{children:[t.total_voted&&t.total_informal_votes?(t.total_voted/t.total_informal_votes*100).toFixed(2):0,"%"]})})}),Object(i.jsx)("div",{className:"c-col-7 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:null===(r=(o=t.total_rep).toFixed)||void 0===r?void 0:r.call(o,g.d)})}),Object(i.jsx)("div",{className:"c-col-8 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:e.renderUserType(t)})}),Object(i.jsx)("div",{className:"c-col-9 c-cols",children:Object(i.jsx)("a",{className:"btn btn-primary extra-small",children:"View"})}),Object(i.jsx)("div",{className:"c-col-10 c-cols",children:Object(i.jsxs)("label",{className:"font-size-14",children:[y(t.created_at).local().format("M/D/YYYY")," ",y(t.created_at).local().format("h:mm A")]})})]})},"user_".concat(s)))})),Object(i.jsx)("ul",{children:n})):Object(i.jsx)("div",{id:"infinite-no-result",children:Object(i.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,s=t.search,r=t.filter_v,o=t.end_date,a=t.start_date;return Object(i.jsxs)("section",{id:"app-users-section",className:"app-infinite-box",children:[Object(i.jsxs)("div",{className:"align-items-start flex-column app-infinite-search-wrap",children:[Object(i.jsxs)("label",{children:["Users Table\xa0\xa0",Object(i.jsx)(m.a,{size:16})]}),Object(i.jsxs)("div",{className:"pt-4 align-items-center d-flex w-100",children:[Object(i.jsxs)("div",{className:"align-items-end tool-box d-flex tool-1",children:[Object(i.jsx)(b.f,{text:"Filter V%",value:r,onChange:function(t){return e.filterV(t)}}),r&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"d-flex flex-column",children:[Object(i.jsx)("label",{className:"pb-2",children:"Start date"}),Object(i.jsx)(_.a,{format:"M/d/yyyy",value:a?new Date(a):null,onChange:function(t){return e.setState({start_date:t?y(t).local().format("YYYY-MM-DD"):null})},onCalendarClose:function(){},calendarIcon:"",clearIcon:""})]}),Object(i.jsxs)("div",{className:"d-flex flex-column",children:[Object(i.jsx)("label",{className:"pb-2",children:"End date"}),Object(i.jsx)(_.a,{format:"M/d/yyyy",value:o?new Date(o):null,onChange:function(t){return e.setState({end_date:t?y(t).local().format("YYYY-MM-DD"):null})},onCalendarClose:function(){},calendarIcon:"",clearIcon:""})]}),Object(i.jsx)("button",{className:"btn btn-primary btn-download extra-small",onClick:function(){return e.recalculate()},children:"Recalculate"})]})]}),Object(i.jsxs)("div",{className:"tool-box d-flex tool-2 justify-content-end align-items-end h-100",children:[Object(i.jsx)(b.f,{text:"Show only VAs",onChange:function(t){return e.changeVA(t)}}),Object(i.jsx)("button",{className:"btn btn-primary btn-download extra-small",onClick:function(){return e.downloadCSV()},children:"Download CSV"}),Object(i.jsx)("input",{type:"text",value:s,onChange:this.handleSearch,placeholder:"Search..."})]})]})]}),Object(i.jsx)("div",{className:"infinite-content",children:Object(i.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(i.jsx)("div",{className:"infinite-body",id:"app-users-sectionBody",children:n?Object(i.jsx)(b.k,{}):this.renderUsers()})]})})]})}}]),n}(p.Component);t.a=Object(h.b)((function(e){return{authUser:e.global.authUser,userTableStatus:e.admin.userTableStatus}}))(Object(v.g)(k))},"7FV1":function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n("q1tI"),l=(n("i8i4"),n("xFC4"),n("wT0s")),d=n("zPnG"),u=n("17x9"),p=n("Dy/p"),h={to:u.string.isRequired,containerId:u.string,container:u.object,activeClass:u.string,spy:u.bool,smooth:u.oneOfType([u.bool,u.string]),offset:u.number,delay:u.number,isDynamic:u.bool,onClick:u.func,duration:u.oneOfType([u.number,u.func]),absolute:u.bool,onSetActive:u.func,onSetInactive:u.func,ignoreCancelEvents:u.bool,hashSpy:u.bool},m={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var n=t||d,u=function(t){function d(e){r(this,d);var t=o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return m.call(t),t.state={active:!1},t}return a(d,t),s(d,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();l.isMounted(e)||l.mount(e),this.props.hashSpy&&(p.isMounted()||p.mount(n),p.mapContainer(this.props.to,e)),this.props.spy&&l.addStateHandler(this.stateHandler),l.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){l.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=i({},this.props);for(var s in h)n.hasOwnProperty(s)&&delete n[s];return n.className=t,n.onClick=this.handleClick,c.createElement(e,n)}}]),d}(c.Component),m=function(){var e=this;this.scrollTo=function(t,s){n.scrollTo(t,i({},e.state,s))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.stateHandler=function(){n.getActiveLink()!==e.props.to&&(null!==e.state&&e.state.active&&e.props.onSetInactive&&e.props.onSetInactive(),e.setState({active:!1}))},this.spyHandler=function(t){var i=e.getScrollSpyContainer();if(!p.isMounted()||p.isInitialized()){var s=e.props.to,r=null,o=0,a=0,c=0;if(i.getBoundingClientRect)c=i.getBoundingClientRect().top;if(!r||e.props.isDynamic){if(!(r=n.get(s)))return;var d=r.getBoundingClientRect();a=(o=d.top-c+t)+d.height}var u=t-e.props.offset,h=u>=Math.floor(o)&&u<Math.floor(a),m=u<Math.floor(o)||u>=Math.floor(a),f=n.getActiveLink();return m?(s===f&&n.setActiveLink(void 0),e.props.hashSpy&&p.getHash()===s&&p.changeHash(),e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive()),l.updateStates()):h&&f!==s?(n.setActiveLink(s),e.props.hashSpy&&p.changeHash(s),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(s)),l.updateStates()):void 0}}};return u.propTypes=h,u.defaultProps={offset:0},u},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(t){function n(e){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return a(n,t),s(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;d.unregister(this.props.name)}},{key:"registerElems",value:function(e){d.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return c.createElement(e,i({},this.props,{parentBindings:this.childBindings}))}}]),n}(c.Component);return t.propTypes={name:u.string,id:u.string},t}};e.exports=m},"7wkA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=o(n("q1tI")),r=o(n("pUFB"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=function(e){function t(){return a(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("input",this.props,this.props.children)}}]),t}(s.default.Component);t.default=(0,r.default)(l)},"8QoP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("QLqi"),s=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!==typeof document&&s.forEach((function(t){return(0,i.addPassiveEventListener)(document,t,e)}))}}},"8lVd":function(e,t,n){},"9qeg":function(e,t,n){"use strict";var i=n("nKUr"),s=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),a=n("md7G"),c=n("foSv"),l=n("q1tI"),d=n("/MKj"),u=n("Ty5D"),p=n("JX7q"),h=n("rePB"),m=n("ZpDd"),f=n("LADp");function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var j=function(e){Object(o.a)(n,e);var t=b(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(h.a)(Object(p.a)(e),"startInformal",(function(t){t&&t.preventDefault();var n=e.props,i=n.proposal,s=n.onRefresh;e.props.dispatch(Object(f.Sc)(i.id,(function(){e.props.dispatch(Object(m.Cb)())}),(function(t){e.props.dispatch(Object(m.U)()),t.success&&(e.props.dispatch(Object(m.Bb)("Informal voting process has been started successfully","success")),s&&s())})))})),e}return Object(r.a)(n,[{key:"renderButton",value:function(){var e=this.props,t=e.authUser,n=e.proposal,s=e.settings,r=n.pendingChangeCount?"btn btn-primary btn-fluid less-small disabled":"btn btn-primary btn-fluid less-small";return Object(i.jsxs)(l.Fragment,{children:[n.pendingChangeCount?Object(i.jsxs)("p",{className:"color-danger",children:["You must approve or deny ",n.pendingChangeCount," changes before starting the vote."]}):Object(i.jsx)(i.Fragment,{children:"yes"===s.gate_new_grant_votes?Object(i.jsx)("p",{children:"Your proposal has passed the required discussion time period but needs approval from the DEVxDAO Voting Member community to start the voting process. Please join us on telegram anytime or join the Jitsi call on Mondays at 5PM UTC to request approval."}):Object(i.jsx)("p",{children:"All conditions have been met to start the voting process. Would you like to lock discussion and begin voting?"})}),!!t.is_admin&&Object(i.jsx)("a",{className:r,onClick:this.startInformal,children:"Force Start Informal Vote"}),!t.is_admin&&"no"===s.gate_new_grant_votes&&Object(i.jsx)("a",{className:r,onClick:this.startInformal,children:"Start Informal Voting Process"}),!t.is_admin&&"yes"===s.gate_new_grant_votes&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("a",{className:"btn-telegram mr-2 ".concat(r),href:"https://t.me/devxdao",children:"Go to Telegram"}),Object(i.jsx)("a",{className:r,href:"https://jitsi.devdao.ch/va",children:"Join Jitsi (only live 5pm UTC Mondays)"})]})]})}},{key:"render",value:function(){var e=this.props,t=e.authUser,n=e.proposal;return t&&t.id&&n&&n.id?Object(i.jsx)("div",{id:"app-spd-informal-start-wrap",children:Object(i.jsx)("div",{children:this.renderButton()})}):null}}]),n}(l.Component),v=Object(d.b)((function(e){return{authUser:e.global.authUser,settings:e.global.settings}}))(Object(u.g)(j)),O=n("I6fM"),_=n("IwCS"),g=n("e+cM"),x=n("YW6W");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var k=n("wd/R"),N=function(e){Object(o.a)(n,e);var t=y(n);function n(e){var i;return Object(s.a)(this,n),i=t.call(this,e),Object(h.a)(Object(p.a)(i),"inputStakeAmount",(function(e){var t=e.target.value;t&&+t<=0&&(t=""),i.setState({stakeAmount:t})})),i.state={stakeAmount:"",day:"00",hours:"00",min:"00",secs:"00"},i.diff=0,i.timer=null,i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.vote,i=t.mins;if(this.diff=k(n.created_at).add(i,"minutes").diff(k(),"seconds"),this.diff){var s=this.diff%60,r=parseInt(this.diff/60),o=parseInt(r/60);r%=60;var a=parseInt(o/24);o%=24,s=s.toString().padStart(2,"0"),r=r.toString().padStart(2,"0"),o=o.toString().padStart(2,"0"),a=a.toString().padStart(2,"0"),this.setState({day:a,hours:o,min:r,secs:s},(function(){e.timer=setTimeout((function(){e.runTimer()}),1e3)}))}}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"runTimer",value:function(){var e=this,t=this.state,n=t.day,i=t.hours,s=t.min,r=t.secs;r=parseInt(r),n=parseInt(n),i=parseInt(i),s=parseInt(s),(n||i||s||r)&&(r?r--:s?(s--,r=59):i?(i--,s=59,r=59):(n--,i=23,s=59,r=59),r=r.toString().padStart(2,"0"),s=s.toString().padStart(2,"0"),i=i.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),this.setState({day:n,hours:i,min:s,secs:r},(function(){e.timer=setTimeout((function(){e.runTimer()}),1e3)})))}},{key:"submitVote",value:function(e){var t,n=this,i=this.state,s=i.stakeAmount,r=i.day,o=i.hours,a=i.min,c=i.secs,l=this.props,d=l.proposal,u=l.vote,p=l.onRefresh,h=l.authUser,b=0;if(h.profile.rep&&(b=parseFloat(h.profile.rep)),t=parseFloat(b/2),r=parseInt(r),o=parseInt(o),a=parseInt(a),c=parseInt(c),r||o||a||c)if(s.trim()){var j=+s;if(j<0||j>t){var v,O;this.props.dispatch(Object(m.Bb)("Please input value greater than 0 to ".concat(null===(v=t)||void 0===v||null===(O=v.toFixed)||void 0===O?void 0:O.call(v,_.d))))}else{var g={proposalId:d.id,voteId:u.id,type:e,value:j};this.props.dispatch(Object(f.Zc)(g,(function(){n.props.dispatch(Object(m.Cb)())}),(function(e){n.props.dispatch(Object(m.U)()),e.success&&(n.props.dispatch(Object(m.Bb)("You've successfully submitted your vote","success")),p&&p())})))}}else this.props.dispatch(Object(m.Bb)("Please input stake amount"));else this.props.dispatch(Object(m.Bb)("You can't submit your vote"))}},{key:"renderTitle",value:function(){var e=this.props.proposal;return Object(i.jsx)("label",{className:"font-size-18 font-weight-700 mb-3 d-block",children:e.title})}},{key:"renderInfo",value:function(){var e,t,n,s,r,o=this.props.authUser,a=0;return o.profile.rep&&(a=parseFloat(o.profile.rep)),r=parseFloat(a/2),Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsxs)("label",{className:"d-block font-size-14",children:["Available Reputation: ",Object(i.jsx)("b",{children:null===(e=a)||void 0===e||null===(t=e.toFixed)||void 0===t?void 0:t.call(e,_.d)})]}),Object(i.jsxs)("label",{className:"d-block font-size-14 mt-1",children:["Max Reputation for Voting (50%): ",Object(i.jsx)("b",{children:null===(n=r)||void 0===n||null===(s=n.toFixed)||void 0===s?void 0:s.call(n,_.d)})]})]})}},{key:"renderMilestoneInfo",value:function(){var e,t,n,s,r=this.props,o=r.proposal,a=r.vote;if("milestone"!=a.content_type)return null;var c=o.milestones||[],l=a.milestone_id,d={};for(var u in c)if(c[u].id==l){d=c[u];break}var p=c.findIndex((function(e){return e.id===l}));return d&&d.id?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{className:"font-size-14 mt-4",children:["Milestone Information:"," ",Object(i.jsxs)("b",{children:["Milestone ",p+1," of ",null===c||void 0===c?void 0:c.length," - resubmission"," ",d.time_submit]})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-4",children:["Milestone Title: ",Object(i.jsx)("b",{children:d.title})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Acceptance criteria: ",Object(i.jsx)("b",{children:d.details})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Grant Portion: ",Object(i.jsx)("b",{children:d.grant})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["OP milestone submission url: ",Object(i.jsx)("b",{children:d.url})]}),Object(i.jsxs)("div",{className:"font-size-14 mt-2",children:[Object(i.jsx)("span",{className:"align-top text-nowrap",children:"OP milestone submission notes:"}),Object(i.jsx)("span",{className:"pl-1 text-pre-wrap",children:Object(i.jsx)("b",{children:d.comment})})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Code reviewer: ",Object(i.jsx)("b",{children:null===(e=d.milestone_review)||void 0===e?void 0:e.user.email})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Review date:",Object(i.jsx)("b",{className:"pl-1",children:k(d.reviewed_at).format("M/D/YYYY")})]}),Object(i.jsxs)("div",{className:"font-size-14 mt-2",children:[Object(i.jsx)("span",{className:"align-top text-nowrap",children:"Reviewer notes:"}),Object(i.jsx)("span",{className:"pl-1 text-pre-wrap",children:Object(i.jsx)("b",{children:d.notes})})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Reviewer attachments:",Object(i.jsx)("b",{children:Object(i.jsx)("a",{className:"pl-1 text-underline",target:"_blank",href:null===(t=d)||void 0===t?void 0:t.support_file_url,rel:"noreferrer",children:null===(n=d)||void 0===n||null===(s=n.support_file)||void 0===s?void 0:s.split("/").pop()})})]})]}):null}},{key:"renderVoteInfo",value:function(){var e=this.props,t=e.proposal,n=e.settings,s=e.vote,r=t.totalMembers||0;r=parseInt(r);var o=0;o="grant"==s.content_type?n.quorum_rate||0:"simple"==s.content_type?n.quorum_rate_simple||0:n.quorum_rate_milestone||0,o=parseFloat(o);var a=parseFloat(r*o/100);return a=Math.ceil(a),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"app-simple-section mt-3",style:{flexDirection:"column"},children:[Object(i.jsxs)("p",{className:"font-size-14",children:["Informal Vote Type:"," ",Object(i.jsx)("b",{children:"grant"==s.content_type?"Grant":"simple"==s.content_type?"Simple":"Milestone"})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["This ballot requires ",Object(i.jsxs)("b",{children:[o,"%"]})," of Voting Associates to vote. ",Object(i.jsx)("b",{children:a})," Voting Associates must vote of the total"," ",Object(i.jsx)("b",{children:r})," Voting Associates."," ",Object(i.jsx)("b",{children:s.totalVotes})," have voted."]}),this.renderMilestoneInfo()]})})}},{key:"redirectActiveVote",value:function(){var e=this.props,t=e.proposal,n=e.vote;["grant","simple"].includes(n.content_type)?this.props.history.push("".concat(t.id,"/informal-vote")):"milestone"===n.content_type&&this.props.history.push("".concat(t.id,"/milestone-vote/").concat(n.id))}},{key:"render",value:function(){var e,t,n,s,r,o,a,c,l,d,u,p,h,m,f,b,j,v,_,y,N,w,S,C,P,D,E,T,I,R,M,A,z,F,Y,B,U,H,V,L,q,G,W,K,$,Q,J,X,Z,ee,te=this,ne=this.state,ie=ne.stakeAmount,se=ne.day,re=ne.hours,oe=ne.min,ae=ne.secs,ce=this.props,le=ce.proposal,de=ce.authUser,ue=ce.vote,pe=null===le||void 0===le?void 0:le.milestones.find((function(e){return e.id===ue.milestone_id})),he=!1;if(le.voteResults&&le.voteResults.length)for(var me in le.voteResults)if(le.voteResults[me].vote_id==ue.id){he=!0;break}return Object(i.jsxs)("div",{id:"app-spd-informal-process-wrap",children:[Object(i.jsxs)("div",{className:"justify-content-between",children:[Object(i.jsxs)("article",{className:"app-simple-section",children:[Object(i.jsx)("label",{children:"Time Remaining:"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:se}),Object(i.jsx)("label",{children:"day"}),Object(i.jsx)("span",{children:re}),Object(i.jsx)("label",{children:"hours"}),Object(i.jsx)("span",{children:oe}),Object(i.jsx)("label",{children:"min"}),Object(i.jsx)("span",{children:ae}),Object(i.jsx)("label",{children:"sec"})]})]}),!!de.is_admin&&Object(i.jsx)("button",{type:"button",className:"btn btn-primary btn-fluid less-small",onClick:function(){return te.redirectActiveVote()},children:"Admin Active Vote Viewer"})]}),this.renderVoteInfo(),!he&&de.id!=le.user_id&&de.is_member?Object(i.jsxs)("form",{action:"",method:"POST",onSubmit:function(e){return e.preventDefault()},children:[Object(i.jsxs)("div",{id:"app-spd-informal-process-header",children:[Object(i.jsx)("label",{children:"Active Loosely Coupled Vote"}),Object(i.jsx)(O.a,{size:16})]}),Object(i.jsxs)("div",{id:"app-spd-informal-process-body",children:[this.renderTitle(),Object(i.jsx)("span",{className:"spacer"}),Object(i.jsx)("label",{className:"font-size-14 font-weight-700 mt-3",children:"This proposal is now in the loosely coupled voting stage"}),Object(i.jsx)("p",{className:"font-size-12 mt-1",children:"Loosely coupled votes are used in determining the overall feelings on the group. You are encouraged to vote your conscience."}),this.renderInfo(),Object(i.jsx)("input",{type:"number",min:"0",placeholder:"Stake Amount",value:ie,onChange:this.inputStakeAmount}),Object(i.jsxs)("p",{className:"font-size-12",style:{maxWidth:"518px"},children:["Please enter the amount of reputation you would like to stake. This will affect the weight of your vote and indicates how strongly you feel. Remember, you can vote with up to 50% of your"," ","available reputation. Keep in mind, the losing side of the vote"," ","loses any staked reputation to the winning side and reputation is valuable."]}),Object(i.jsxs)("div",{id:"c-buttons-wrap",children:[Object(i.jsx)("button",{type:"button",className:"btn btn-success btn-fluid less-small",onClick:function(){return te.submitVote("for")},children:"Vote For"}),Object(i.jsx)("button",{type:"button",className:"btn btn-danger btn-fluid less-small",onClick:function(){return te.submitVote("against")},children:"Vote Against"})]})]})]}):null,"milestone"===ue.content_type&&(null===pe||void 0===pe?void 0:pe.milestone_check_list)&&Object(i.jsxs)(g.b,{className:"mt-3 mw-100",children:[Object(i.jsx)(g.d,{children:Object(i.jsx)("div",{className:"app-simple-section__titleInner w-100",style:{display:"flex",justifyContent:"space-between"},children:Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"pr-2",children:"Applicant checklist"}),Object(i.jsx)(O.a,{size:16})]})})}),Object(i.jsxs)(g.e,{children:[Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(e=pe.milestone_check_list)||void 0===e?void 0:e.appl_accepted_corprus)&&+(null===pe||void 0===pe||null===(t=pe.milestone_check_list)||void 0===t?void 0:t.appl_accepted_definition)&&+(null===pe||void 0===pe||null===(n=pe.milestone_check_list)||void 0===n?void 0:n.appl_accepted_pm)&&+(null===pe||void 0===pe||null===(s=pe.milestone_check_list)||void 0===s?void 0:s.appl_attests_accounting)&&+(null===pe||void 0===pe||null===(r=pe.milestone_check_list)||void 0===r?void 0:r.appl_attests_criteria)&&+(null===pe||void 0===pe||null===(o=pe.milestone_check_list)||void 0===o?void 0:o.appl_submitted_corprus)?1:0,text:"Application Checklist",readOnly:!0})}),Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(a=pe.milestone_check_list)||void 0===a?void 0:a.pm_submitted_evidence)&&+(null===pe||void 0===pe||null===(c=pe.milestone_check_list)||void 0===c?void 0:c.pm_submitted_admin)&&+(null===pe||void 0===pe||null===(l=pe.milestone_check_list)||void 0===l?void 0:l.pm_verified_crdao)&&+(null===pe||void 0===pe||null===(d=pe.milestone_check_list)||void 0===d?void 0:d.pm_verified_corprus)&&+(null===pe||void 0===pe||null===(u=pe.milestone_check_list)||void 0===u?void 0:u.pm_verified_subs)?1:0,text:"Program Management Checklist",readOnly:!0})}),Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(p=pe.milestone_check_list)||void 0===p?void 0:p.crdao_acknowledged_project)&&+(null===pe||void 0===pe||null===(h=pe.milestone_check_list)||void 0===h?void 0:h.crdao_accepted_pm)&&+(null===pe||void 0===pe||null===(m=pe.milestone_check_list)||void 0===m?void 0:m.crdao_acknowledged_receipt)&&+(null===pe||void 0===pe||null===(f=pe.milestone_check_list)||void 0===f?void 0:f.crdao_submitted_review)&&+(null===pe||void 0===pe||null===(b=pe.milestone_check_list)||void 0===b?void 0:b.crdao_submitted_subs)?1:0,text:"CRdao Checklist",readOnly:!0})})]}),Object(i.jsx)(g.c,{children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(g.f,{value:!0,text:"All attestations accepted on ".concat(k(null===pe||void 0===pe||null===(j=pe.milestone_check_list)||void 0===j?void 0:j.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsx)("h6",{className:"mt-5",children:"CRdao checklist:"}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(v=pe.milestone_check_list)||void 0===v?void 0:v.crdao_acknowledged_project),text:"CRDAO has acknowledged the project Definition of Done? ".concat(k(null===pe||void 0===pe||null===(_=pe.milestone_check_list)||void 0===_?void 0:_.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(y=pe.milestone_check_list)||void 0===y?void 0:y.crdao_acknowledged_project_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(N=pe.milestone_check_list)||void 0===N?void 0:N.crdao_accepted_pm),text:"CRDAO has accepted the Program Management T&C? ".concat(k(null===pe||void 0===pe||null===(w=pe.milestone_check_list)||void 0===w?void 0:w.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(S=pe.milestone_check_list)||void 0===S?void 0:S.crdao_accepted_pm_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(C=pe.milestone_check_list)||void 0===C?void 0:C.crdao_acknowledged_receipt),text:"CRDAO has acknowledged receipt of the corprus of work? ".concat(k(null===pe||void 0===pe||null===(P=pe.milestone_check_list)||void 0===P?void 0:P.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(D=pe.milestone_check_list)||void 0===D?void 0:D.crdao_acknowledged_receipt_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(E=pe.milestone_check_list)||void 0===E?void 0:E.crdao_submitted_review),text:"CRDAO has submitted a review of the corprus of work? ".concat(k(null===pe||void 0===pe||null===(T=pe.milestone_check_list)||void 0===T?void 0:T.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(I=pe.milestone_check_list)||void 0===I?void 0:I.crdao_submitted_review_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(R=pe.milestone_check_list)||void 0===R?void 0:R.crdao_submitted_subs),text:"CRDAO has acknowledged the project Definition of Done? ".concat(k(null===pe||void 0===pe||null===(M=pe.milestone_check_list)||void 0===M?void 0:M.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(A=pe.milestone_check_list)||void 0===A?void 0:A.crdao_submitted_subs_notes]})]}),Object(i.jsx)("h6",{className:"mt-5",children:"Program Management checklist:"}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(z=pe.milestone_check_list)||void 0===z?void 0:z.pm_submitted_evidence),text:"CRDAO Program Management has submitted the Evidence of Work location? ".concat(k(null===pe||void 0===pe||null===(F=pe.milestone_check_list)||void 0===F?void 0:F.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(Y=pe.milestone_check_list)||void 0===Y?void 0:Y.pm_submitted_evidence_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(B=pe.milestone_check_list)||void 0===B?void 0:B.pm_submitted_admin),text:"CRDAO Program Management has submitted Administrator notes? ".concat(k(null===pe||void 0===pe||null===(U=pe.milestone_check_list)||void 0===U?void 0:U.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(H=pe.milestone_check_list)||void 0===H?void 0:H.pm_submitted_admin_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(V=pe.milestone_check_list)||void 0===V?void 0:V.pm_verified_corprus),text:"Program Management has verified corprus existence? ".concat(k(null===pe||void 0===pe||null===(L=pe.milestone_check_list)||void 0===L?void 0:L.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(q=pe.milestone_check_list)||void 0===q?void 0:q.pm_verified_corprus_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===(G=pe.milestone_check_list)||void 0===G?void 0:G.pm_verified_crdao),text:"Program Management has verified CRDAO's review exists? ".concat(k(null===pe||void 0===pe||null===(W=pe.milestone_check_list)||void 0===W?void 0:W.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(K=pe.milestone_check_list)||void 0===K?void 0:K.pm_verified_crdao_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===pe||void 0===pe||null===($=pe.milestone_check_list)||void 0===$?void 0:$.pm_verified_subs),text:"Program Management has verified CRDAO substantiation (voting record) existence? ".concat(k(null===pe||void 0===pe||null===(Q=pe.milestone_check_list)||void 0===Q?void 0:Q.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===pe||void 0===pe||null===(J=pe.milestone_check_list)||void 0===J?void 0:J.pm_verified_subs_notes]})]}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Other general reviewer notes:",Object(i.jsx)("span",{className:"pl-2",children:null===pe||void 0===pe||null===(X=pe.milestone_check_list)||void 0===X?void 0:X.addition_note})]})}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Program manager review submission timestamp:",Object(i.jsx)("span",{className:"pl-2",children:k(null===pe||void 0===pe?void 0:pe.reviewed_at).format("M/D/YYYY")})]})}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Program manager reviewer email:",Object(i.jsx)("span",{className:"pl-2",children:null===pe||void 0===pe?void 0:pe.admin_reviewer_email})]})})]})})})]}),(null===pe||void 0===pe||null===(Z=pe.milestone_submit_histories)||void 0===Z?void 0:Z.length)>0&&(null===pe||void 0===pe||null===(ee=pe.milestone_submit_histories)||void 0===ee?void 0:ee.map((function(e,t){return Object(i.jsxs)(g.b,{className:"mt-3 mw-100",children:[Object(i.jsx)(g.d,{children:Object(i.jsx)("div",{className:"app-simple-section__titleInner w-100",style:{display:"flex",justifyContent:"space-between"},children:Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"pr-2",children:"Milestone ".concat(e.milestone_position," - Submission ").concat(e.time_submit)}),Object(i.jsx)(O.a,{size:16})]})})}),Object(i.jsxs)(g.c,{children:[Object(i.jsxs)("div",{className:"py-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Milestone Title:"})}),Object(i.jsx)("p",{children:pe.title})]}),Object(i.jsxs)("div",{className:"pb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Grant Protion:"})}),Object(i.jsx)("p",{children:x.a.formatPriceNumber(pe.grant||"","\u20ac")})]}),Object(i.jsxs)("div",{className:"pb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Milestone Submission URL:"})}),Object(i.jsx)("p",{children:e.url})]})]})]},t)})))]})}}]),n}(l.Component),w=Object(d.b)((function(e){return{authUser:e.global.authUser,settings:e.global.settings}}))(Object(u.g)(N)),S=n("55Ip");function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var P=function(e){Object(o.a)(n,e);var t=C(n);function n(e){var i;return Object(s.a)(this,n),i=t.call(this,e),Object(h.a)(Object(p.a)(i),"clickRevote",(function(e){var t=i.props.vote;e.preventDefault(),i.props.dispatch(Object(m.gb)({revote:{render:!0,title:"You are restarting this vote",data:t}})),i.props.dispatch(Object(m.Z)("custom-global-modal"))})),Object(h.a)(Object(p.a)(i),"startFormal",(function(e){e.preventDefault();var t=i.props,n=t.proposal,s=t.onRefresh;i.props.dispatch(Object(f.Qc)(n.id,(function(){i.props.dispatch(Object(m.Cb)())}),(function(e){i.props.dispatch(Object(m.U)()),e.success&&(i.props.dispatch(Object(m.Bb)("Formal voting process has been started successfully","success")),s&&s())})))})),Object(h.a)(Object(p.a)(i),"startFormalMilestoneVote",(function(e){i.props.dispatch(Object(f.Oc)(e.proposal_id,(function(){i.props.dispatch(Object(m.Cb)())}),(function(e){i.props.dispatch(Object(m.U)()),e.success&&i.props.dispatch(Object(m.Bb)("Formal voting process has been started successfully","success"))})))})),i.state={forP:0,againstP:0},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.vote,t=parseInt(e.for_value),n=t+parseInt(e.against_value),i=0,s=0;n&&(i=100*parseFloat(t/n),s=100-(i=parseInt(i))),this.setState({forP:i,againstP:s})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.customModalData,i=t.onRefresh,s=e.customModalData;!s||!s.revote||n&&n.revote||i&&i()}},{key:"renderAlert2",value:function(){var e=this,t=this.props,n=t.authUser,s=t.vote,r=t.proposal;if("success"==s.result&&"completed"==s.status&&"informal"==s.type)if(n.id==r.user_id&&r.onboarding&&r.onboarding.id){var o=r.onboarding;if(o&&"pending"==o.status)return Object(i.jsx)("div",{className:"app-simple-section mb-3",children:Object(i.jsx)("div",{style:{padding:0},className:"font-size-14 font-weight-700",children:"This proposal passed the informal vote stage. You need to submit your KYC, fill out the payment form, and esign the form sent to your email to move this to the formal vote. Go to the My Proposals tab and complete this in the upper table to complete these actions."})});if("informal"===s.type&&"milestone"==s.content_type)return Object(i.jsxs)("div",{className:"app-simple-section mb-3 align-items-center",children:[Object(i.jsx)("a",{style:{width:"250px",marginRight:"30px"},className:"btn btn-primary btn-fluid less-small",onClick:function(){return e.startFormalMilestoneVote(s)},children:"Start Formal Milestone Vote"}),Object(i.jsx)("div",{style:{padding:0},className:"font-size-14 font-weight-700",children:"Your Grant has completed the milestone informal vote. Please click the button to begin the formal vote."})]})}else if(n.id==r.user_id&&"simple"==r.type)return Object(i.jsx)("a",{className:"btn btn-primary btn-fluid less-small mb-3",onClick:this.startFormal,children:"Start Formal Voting Process"});return null}},{key:"renderAlert",value:function(){var e=this.props,t=e.authUser,n=e.vote,s=e.proposal;return"no-quorum"!=n.result||"completed"!=n.status||!t.is_admin&&t.id!=s.user_id?null:Object(i.jsx)("div",{className:"app-simple-section mb-3",children:Object(i.jsxs)("div",{style:{padding:0},children:[Object(i.jsx)("label",{className:"font-size-14",children:"This vote did not reach quorum. Not enough Voting Associates voted. Another vote is needed."}),Object(i.jsx)("a",{className:"btn btn-primary small mt-2",onClick:this.clickRevote,children:"Revote"})]})})}},{key:"render",value:function(){var e=this.props.vote,t=this.state,n=t.forP,s=t.againstP,r="/app/proposal/".concat(e.proposal_id,"/informal-vote");return"milestone"==e.content_type&&(r="/app/proposal/".concat(e.proposal_id,"/milestone-vote/").concat(e.id)),Object(i.jsxs)("div",{id:"app-spd-informal-done-wrap",children:[this.renderAlert(),this.renderAlert2(),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"app-simple-section",children:[Object(i.jsxs)("label",{children:["Informal Vote Results:"," ",Object(i.jsx)(S.b,{to:r,style:{fontSize:"14px"},className:"color-info",children:Object(i.jsx)("u",{children:"(view vote detail)"})})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(n,"%"),backgroundColor:"#33C333"}}),Object(i.jsxs)("label",{children:[n,"%"]})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(s,"%"),backgroundColor:"#EA5454"}}),Object(i.jsxs)("label",{children:[s,"%"]})]})]})})]})}}]),n}(l.Component),D=Object(d.b)((function(e){return{authUser:e.global.authUser,customModalData:e.global.customModalData}}))(Object(u.g)(P));function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var T=n("wd/R"),I=function(e){Object(o.a)(n,e);var t=E(n);function n(e){var i;return Object(s.a)(this,n),i=t.call(this,e),Object(h.a)(Object(p.a)(i),"inputStakeAmount",(function(e){var t=e.target.value;t&&+t<=0&&(t=""),i.setState({stakeAmount:t})})),i.state={stakeAmount:"",day:"00",hours:"00",min:"00",secs:"00",forP:0,againstP:0},i.diff=0,i.timer=null,i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.vote,i=t.informalVote,s=t.mins,r=parseInt(i.for_value),o=r+parseInt(i.against_value),a=0,c=0;if(o&&(a=100*parseFloat(r/o),c=100-(a=parseInt(a))),this.setState({forP:a,againstP:c}),this.diff=T(n.created_at).add(s,"minutes").diff(T(),"seconds"),this.diff){var l=this.diff%60,d=parseInt(this.diff/60),u=parseInt(d/60);d%=60;var p=parseInt(u/24);u%=24,l=l.toString().padStart(2,"0"),d=d.toString().padStart(2,"0"),u=u.toString().padStart(2,"0"),p=p.toString().padStart(2,"0"),this.setState({day:p,hours:u,min:d,secs:l},(function(){e.timer=setTimeout((function(){e.runTimer()}),1e3)}))}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.customModalData,i=t.onRefresh,s=e.customModalData;n["vote-confirm"]&&n["vote-confirm"].render||!s["vote-confirm"]||!s["vote-confirm"].render||i&&i()}},{key:"componentWillUnmount",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"runTimer",value:function(){var e=this,t=this.state,n=t.day,i=t.hours,s=t.min,r=t.secs;r=parseInt(r),n=parseInt(n),i=parseInt(i),s=parseInt(s),(n||i||s||r)&&(r?r--:s?(s--,r=59):i?(i--,s=59,r=59):(n--,i=23,s=59,r=59),r=r.toString().padStart(2,"0"),s=s.toString().padStart(2,"0"),i=i.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),this.setState({day:n,hours:i,min:s,secs:r},(function(){e.timer=setTimeout((function(){e.runTimer()}),1e3)})))}},{key:"submitVote",value:function(e){var t,n=this.state,i=n.stakeAmount,s=n.day,r=n.hours,o=n.min,a=n.secs,c=this.props,l=c.proposal,d=c.vote,u=c.authUser,p=c.informalVote,h=0;if(u.profile.rep&&(h=parseFloat(u.profile.rep)),t=parseFloat(h/2),s=parseInt(s),r=parseInt(r),o=parseInt(o),a=parseInt(a),s||r||o||a)if(i.trim()){var f=+i;if(f<0||f>t){var b;this.props.dispatch(Object(m.Bb)("Please input value greater than 0 to ".concat(+(null===(b=t)||void 0===b?void 0:b.toFixed(_.d)))))}else{var j={rep:h,max:t,proposalId:l.id,voteId:d.id,type:e,value:f,informalVote:p};this.props.dispatch(Object(m.gb)({"vote-confirm":{render:!0,title:"This action will use your Reputation points.",data:j}})),this.props.dispatch(Object(m.Z)("custom-global-modal"))}}else this.props.dispatch(Object(m.Bb)("Please input stake amount"));else this.props.dispatch(Object(m.Bb)("You can't submit your vote"))}},{key:"renderTitle",value:function(){var e=this.props.proposal;return Object(i.jsx)("label",{className:"font-size-18 font-weight-700 mb-3 d-block",children:e.title})}},{key:"renderInfo",value:function(){var e,t,n,s,r,o=this.props.authUser,a=0;return o.profile.rep&&(a=parseFloat(o.profile.rep)),r=parseFloat(a/2),Object(i.jsxs)("div",{className:"mt-3",children:[Object(i.jsxs)("label",{className:"d-block font-size-14",children:["Available Reputation: ",Object(i.jsx)("b",{children:null===(e=a)||void 0===e||null===(t=e.toFixed)||void 0===t?void 0:t.call(e,_.d)})]}),Object(i.jsxs)("label",{className:"d-block font-size-14 mt-1",children:["Max Reputation for Voting (50%): ",Object(i.jsx)("b",{children:null===(n=r)||void 0===n||null===(s=n.toFixed)||void 0===s?void 0:s.call(n,_.d)})]})]})}},{key:"renderForm",value:function(){var e=this,t=this.state.stakeAmount,n=this.props,s=n.proposal,r=n.vote,o=n.authUser,a=!1;if(s.voteResults&&s.voteResults.length)for(var c in s.voteResults)if(s.voteResults[c].vote_id==r.id){a=!0;break}var l="approved"==s.status&&s.votes.length>1&&"active"==s.votes[s.votes.length-1].status&&"formal"==s.votes[s.votes.length-1].type;if(!a&&o.id!=s.user_id&&o.is_member){if(l)if(!s.votes[s.votes.length-2].results.map((function(e){return e.user_id})).includes(o.id))return null;return Object(i.jsxs)("form",{action:"",method:"POST",onSubmit:function(e){return e.preventDefault()},children:[Object(i.jsxs)("div",{id:"app-spd-formal-process-header",children:[Object(i.jsx)("label",{children:"Active Tighly Coupled Vote"}),Object(i.jsx)(O.a,{size:16})]}),Object(i.jsxs)("div",{id:"app-spd-formal-process-body",children:[this.renderTitle(),Object(i.jsx)("span",{className:"spacer"}),Object(i.jsx)("label",{className:"font-size-14 font-weight-700 mt-3",children:"This proposal is now in the final voting process"}),Object(i.jsx)("p",{className:"font-size-12 mt-1",children:"Tightly coupled votes affect reputation and those voting\n              against the winning side will lose the reputation they staked\n              towards the vote."}),this.renderInfo(),Object(i.jsx)("input",{type:"number",placeholder:"Stake Amount",value:t,onChange:this.inputStakeAmount}),Object(i.jsx)("p",{className:"font-size-12",style:{maxWidth:"518px"},children:"Please enter the amount of reputation you would like to stake. This will affect the weight of your vote and indicates how strongly you feel."}),Object(i.jsxs)("div",{id:"c-buttons-wrap",children:[Object(i.jsx)("button",{type:"button",className:"btn btn-success btn-fluid less-small",onClick:function(){return e.submitVote("for")},children:"Vote For"}),Object(i.jsx)("button",{type:"button",className:"btn btn-danger btn-fluid less-small",onClick:function(){return e.submitVote("against")},children:"Vote Against"})]})]})]})}return null}},{key:"renderMilestoneInfo",value:function(){var e=this.props,t=e.proposal,n=e.vote;if("milestone"!=n.content_type)return null;var s=t.milestones||[],r=n.milestone_id,o={};for(var a in s)if(s[a].id==r){o=s[a];break}var c=s.findIndex((function(e){return e.id===r}));return o&&o.id?Object(i.jsxs)(l.Fragment,{children:[Object(i.jsxs)("p",{className:"font-size-14 mt-4",children:["Milestone Information:",Object(i.jsxs)("b",{children:["Milestone ",c+1," of ",null===s||void 0===s?void 0:s.length," - resubmission"," ",o.time_submit]})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-4",children:["Milestone Title: ",Object(i.jsx)("b",{children:o.title})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Details: ",Object(i.jsx)("b",{children:o.details})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Grant Portion: ",Object(i.jsx)("b",{children:o.grant})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["URL: ",Object(i.jsx)("b",{children:o.url})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["Comment: ",Object(i.jsx)("b",{children:o.comment})]})]}):null}},{key:"renderVoteInfo",value:function(){var e=this.props,t=e.proposal,n=e.settings,s=e.vote,r=t.totalMembers||0;r=parseInt(r);var o=0;o="grant"==s.content_type?n.quorum_rate||0:"simple"==s.content_type?n.quorum_rate_simple||0:n.quorum_rate_milestone||0,o=parseFloat(o);var a=parseFloat(r*o/100);return a=Math.ceil(a),Object(i.jsxs)("div",{className:"app-simple-section mt-3",style:{flexDirection:"column"},children:[Object(i.jsxs)("p",{className:"font-size-14",children:["Formal Vote Type:"," ",Object(i.jsx)("b",{children:"grant"==s.content_type?"Grant":"simple"==s.content_type?"Simple":"Milestone"})]}),Object(i.jsxs)("p",{className:"font-size-14 mt-2",children:["This ballot requires ",Object(i.jsxs)("b",{children:[o,"%"]})," of Voting Associates to vote. ",Object(i.jsx)("b",{children:a})," Voting Associates must vote of the total"," ",Object(i.jsx)("b",{children:r})," Voting Associates."," ",Object(i.jsx)("b",{children:s.totalVotes})," have voted."]}),this.renderMilestoneInfo()]})}},{key:"redirectActiveVote",value:function(){var e=this.props,t=e.proposal,n=e.vote;["grant","simple"].includes(n.content_type)?this.props.history.push("".concat(t.id,"/formal-vote")):"milestone"===n.content_type&&this.props.history.push("".concat(t.id,"/milestone-vote/").concat(n.id))}},{key:"render",value:function(){var e,t,n,s,r,o,a,c,l,d,u,p,h,m,f,b,j,v,_,y,k,N,w,C,P,D,E,I,R,M,A,z,F,Y,B,U,H,V,L,q,G,W,K,$,Q,J,X,Z,ee,te,ne=this,ie=this.state,se=ie.day,re=ie.hours,oe=ie.min,ae=ie.secs,ce=ie.forP,le=ie.againstP,de=this.props,ue=de.informalVote,pe=de.proposal,he=de.authUser,me=de.vote,fe=null===pe||void 0===pe?void 0:pe.milestones.find((function(e){return e.id===me.milestone_id})),be="/app/proposal/".concat(ue.proposal_id,"/informal-vote");return"milestone"==ue.content_type&&(be="/app/proposal/".concat(ue.proposal_id,"/milestone-vote/").concat(ue.id)),Object(i.jsxs)("div",{id:"app-spd-formal-process-wrap",children:[Object(i.jsx)("div",{className:"d-flex justify-content-end mb-3 ",children:!!he.is_admin&&Object(i.jsx)("button",{type:"button",className:"btn btn-primary btn-fluid less-small",onClick:function(){return ne.redirectActiveVote()},children:"Admin Active Vote Viewer"})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("article",{className:"app-simple-section",children:[Object(i.jsx)("label",{children:"Time Remaining in vote:"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{children:se}),Object(i.jsx)("label",{children:"day"}),Object(i.jsx)("span",{children:re}),Object(i.jsx)("label",{children:"hours"}),Object(i.jsx)("span",{children:oe}),Object(i.jsx)("label",{children:"min"}),Object(i.jsx)("span",{children:ae}),Object(i.jsx)("label",{children:"sec"})]})]}),Object(i.jsxs)("div",{className:"app-simple-section",children:[Object(i.jsxs)("label",{children:["Informal Vote Results:"," ",Object(i.jsx)(S.b,{className:"color-info",to:be,style:{fontSize:"14px"},children:Object(i.jsx)("u",{children:"(view vote detail)"})})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(ce,"%"),backgroundColor:"#33C333"}}),Object(i.jsxs)("label",{children:[ce,"%"]})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(le,"%"),backgroundColor:"#EA5454"}}),Object(i.jsxs)("label",{children:[le,"%"]})]})]})]}),this.renderVoteInfo(),this.renderForm(),"milestone"===me.content_type&&(null===fe||void 0===fe?void 0:fe.milestone_check_list)&&Object(i.jsxs)(g.b,{className:"mt-3 mw-100",children:[Object(i.jsx)(g.d,{children:Object(i.jsx)("div",{className:"app-simple-section__titleInner w-100",style:{display:"flex",justifyContent:"space-between"},children:Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"pr-2",children:"Applicant checklist"}),Object(i.jsx)(O.a,{size:16})]})})}),Object(i.jsxs)(g.e,{children:[Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(e=fe.milestone_check_list)||void 0===e?void 0:e.appl_accepted_corprus)&&+(null===fe||void 0===fe||null===(t=fe.milestone_check_list)||void 0===t?void 0:t.appl_accepted_definition)&&+(null===fe||void 0===fe||null===(n=fe.milestone_check_list)||void 0===n?void 0:n.appl_accepted_pm)&&+(null===fe||void 0===fe||null===(s=fe.milestone_check_list)||void 0===s?void 0:s.appl_attests_accounting)&&+(null===fe||void 0===fe||null===(r=fe.milestone_check_list)||void 0===r?void 0:r.appl_attests_criteria)&&+(null===fe||void 0===fe||null===(o=fe.milestone_check_list)||void 0===o?void 0:o.appl_submitted_corprus)?1:0,text:"Application Checklist",readOnly:!0})}),Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(a=fe.milestone_check_list)||void 0===a?void 0:a.pm_submitted_evidence)&&+(null===fe||void 0===fe||null===(c=fe.milestone_check_list)||void 0===c?void 0:c.pm_submitted_admin)&&+(null===fe||void 0===fe||null===(l=fe.milestone_check_list)||void 0===l?void 0:l.pm_verified_crdao)&&+(null===fe||void 0===fe||null===(d=fe.milestone_check_list)||void 0===d?void 0:d.pm_verified_corprus)&&+(null===fe||void 0===fe||null===(u=fe.milestone_check_list)||void 0===u?void 0:u.pm_verified_subs)?1:0,text:"Program Management Checklist",readOnly:!0})}),Object(i.jsx)("div",{className:"py-2",children:Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(p=fe.milestone_check_list)||void 0===p?void 0:p.crdao_acknowledged_project)&&+(null===fe||void 0===fe||null===(h=fe.milestone_check_list)||void 0===h?void 0:h.crdao_accepted_pm)&&+(null===fe||void 0===fe||null===(m=fe.milestone_check_list)||void 0===m?void 0:m.crdao_acknowledged_receipt)&&+(null===fe||void 0===fe||null===(f=fe.milestone_check_list)||void 0===f?void 0:f.crdao_submitted_review)&&+(null===fe||void 0===fe||null===(b=fe.milestone_check_list)||void 0===b?void 0:b.crdao_submitted_subs)?1:0,text:"CRdao Checklist",readOnly:!0})})]}),Object(i.jsx)(g.c,{children:Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:[Object(i.jsx)(g.f,{value:!0,text:"All attestations accepted on ".concat(T(null===fe||void 0===fe||null===(j=fe.milestone_check_list)||void 0===j?void 0:j.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsx)("h6",{className:"mt-5",children:"CRdao checklist:"}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(v=fe.milestone_check_list)||void 0===v?void 0:v.crdao_acknowledged_project),text:"CRDAO has acknowledged the project Definition of Done? ".concat(T(null===fe||void 0===fe||null===(_=fe.milestone_check_list)||void 0===_?void 0:_.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(y=fe.milestone_check_list)||void 0===y?void 0:y.crdao_acknowledged_project_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(k=fe.milestone_check_list)||void 0===k?void 0:k.crdao_accepted_pm),text:"CRDAO has accepted the Program Management T&C? ".concat(T(null===fe||void 0===fe||null===(N=fe.milestone_check_list)||void 0===N?void 0:N.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(w=fe.milestone_check_list)||void 0===w?void 0:w.crdao_accepted_pm_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(C=fe.milestone_check_list)||void 0===C?void 0:C.crdao_acknowledged_receipt),text:"CRDAO has acknowledged receipt of the corprus of work? ".concat(T(null===fe||void 0===fe||null===(P=fe.milestone_check_list)||void 0===P?void 0:P.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(D=fe.milestone_check_list)||void 0===D?void 0:D.crdao_acknowledged_receipt_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(E=fe.milestone_check_list)||void 0===E?void 0:E.crdao_submitted_review),text:"CRDAO has submitted a review of the corprus of work? ".concat(T(null===fe||void 0===fe||null===(I=fe.milestone_check_list)||void 0===I?void 0:I.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(R=fe.milestone_check_list)||void 0===R?void 0:R.crdao_submitted_review_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(M=fe.milestone_check_list)||void 0===M?void 0:M.crdao_submitted_subs),text:"CRDAO has acknowledged the project Definition of Done? ".concat(T(null===fe||void 0===fe||null===(A=fe.milestone_check_list)||void 0===A?void 0:A.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(z=fe.milestone_check_list)||void 0===z?void 0:z.crdao_submitted_subs_notes]})]}),Object(i.jsx)("h6",{className:"mt-5",children:"Program Management checklist:"}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(F=fe.milestone_check_list)||void 0===F?void 0:F.pm_submitted_evidence),text:"CRDAO Program Management has submitted the Evidence of Work location? ".concat(T(null===fe||void 0===fe||null===(Y=fe.milestone_check_list)||void 0===Y?void 0:Y.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(B=fe.milestone_check_list)||void 0===B?void 0:B.pm_submitted_evidence_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(U=fe.milestone_check_list)||void 0===U?void 0:U.pm_submitted_admin),text:"CRDAO Program Management has submitted Administrator notes? ".concat(T(null===fe||void 0===fe||null===(H=fe.milestone_check_list)||void 0===H?void 0:H.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(V=fe.milestone_check_list)||void 0===V?void 0:V.pm_submitted_admin_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(L=fe.milestone_check_list)||void 0===L?void 0:L.pm_verified_crdao),text:"Program Management has verified corprus existence? ".concat(T(null===fe||void 0===fe||null===(q=fe.milestone_check_list)||void 0===q?void 0:q.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(G=fe.milestone_check_list)||void 0===G?void 0:G.pm_verified_corprus_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(W=fe.milestone_check_list)||void 0===W?void 0:W.pm_verified_crdao),text:"Program Management has verified CRDAO's review exists? ".concat(T(null===fe||void 0===fe||null===(K=fe.milestone_check_list)||void 0===K?void 0:K.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===($=fe.milestone_check_list)||void 0===$?void 0:$.pm_verified_crdao_notes]})]}),Object(i.jsxs)("div",{className:"my-3",children:[Object(i.jsx)(g.g,{value:+(null===fe||void 0===fe||null===(Q=fe.milestone_check_list)||void 0===Q?void 0:Q.pm_verified_subs),text:"Program Management has verified CRDAO substantiation (voting record) existence? ".concat(T(null===fe||void 0===fe||null===(J=fe.milestone_check_list)||void 0===J?void 0:J.created_at).format("M/D/YYYY")),readOnly:!0}),Object(i.jsxs)("p",{className:"padding-notes",children:["Notes:"," ",null===fe||void 0===fe||null===(X=fe.milestone_check_list)||void 0===X?void 0:X.pm_verified_subs_notes]})]}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Other general reviewer notes:",Object(i.jsx)("span",{className:"pl-2",children:null===fe||void 0===fe||null===(Z=fe.milestone_check_list)||void 0===Z?void 0:Z.addition_note})]})}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Program manager review submission timestamp:",Object(i.jsx)("span",{className:"pl-2",children:T(null===fe||void 0===fe?void 0:fe.reviewed_at).format("M/D/YYYY")})]})}),Object(i.jsx)("div",{className:"my-3",children:Object(i.jsxs)("p",{className:"padding-notes",children:["Program manager reviewer email:",Object(i.jsx)("span",{className:"pl-2",children:null===fe||void 0===fe?void 0:fe.admin_reviewer_email})]})})]})})})]}),(null===fe||void 0===fe||null===(ee=fe.milestone_submit_histories)||void 0===ee?void 0:ee.length)>0&&(null===fe||void 0===fe||null===(te=fe.milestone_submit_histories)||void 0===te?void 0:te.map((function(e,t){return Object(i.jsxs)(g.b,{className:"mt-3 mw-100",children:[Object(i.jsx)(g.d,{children:Object(i.jsx)("div",{className:"app-simple-section__titleInner w-100",style:{display:"flex",justifyContent:"space-between"},children:Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"pr-2",children:"Milestone ".concat(e.milestone_position," - Submission ").concat(e.time_submit)}),Object(i.jsx)(O.a,{size:16})]})})}),Object(i.jsxs)(g.c,{children:[Object(i.jsxs)("div",{className:"py-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Milestone Title:"})}),Object(i.jsx)("p",{children:fe.title})]}),Object(i.jsxs)("div",{className:"pb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Grant Protion:"})}),Object(i.jsx)("p",{children:x.a.formatPriceNumber(fe.grant||"","\u20ac")})]}),Object(i.jsxs)("div",{className:"pb-3",children:[Object(i.jsx)("label",{children:Object(i.jsx)("b",{children:"Milestone Submission URL:"})}),Object(i.jsx)("p",{children:e.url})]})]})]},t)})))]})}}]),n}(l.Component),R=Object(d.b)((function(e){return{authUser:e.global.authUser,customModalData:e.global.customModalData,settings:e.global.settings}}))(Object(u.g)(I));function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var A=function(e){Object(o.a)(n,e);var t=M(n);function n(e){var i;return Object(s.a)(this,n),i=t.call(this,e),Object(h.a)(Object(p.a)(i),"clickRevote",(function(e){var t=i.props.vote;e.preventDefault(),i.props.dispatch(Object(m.gb)({revote:{render:!0,title:"You are restarting this vote",data:t}})),i.props.dispatch(Object(m.Z)("custom-global-modal"))})),i.state={forP:0,againstP:0},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.vote,t=parseInt(e.for_value),n=t+parseInt(e.against_value),i=0,s=0;n&&(i=100*parseFloat(t/n),s=100-(i=parseInt(i))),this.setState({forP:i,againstP:s})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.customModalData,i=t.onRefresh,s=e.customModalData;!s||!s.revote||n&&n.revote||i&&i()}},{key:"renderAlert",value:function(){var e=this.props,t=e.authUser,n=e.vote,s=e.proposal;if("no-quorum"==n.result&&"completed"==n.status&&(t.is_admin||t.id==s.user_id))return Object(i.jsx)("div",{className:"app-simple-section mb-3",children:Object(i.jsxs)("div",{style:{padding:0},children:[Object(i.jsx)("label",{className:"font-size-14",children:"This vote did not reach quorum. Not enough Voting Associates voted. Another vote is needed."}),Object(i.jsx)("a",{className:"btn btn-primary small mt-2",onClick:this.clickRevote,children:"Revote"})]})})}},{key:"render",value:function(){var e=this.props.vote,t=this.state,n=t.forP,s=t.againstP,r="/app/proposal/".concat(e.proposal_id,"/formal-vote");return"milestone"==e.content_type&&(r="/app/proposal/".concat(e.proposal_id,"/milestone-vote/").concat(e.id)),Object(i.jsxs)("div",{id:"app-spd-formal-done-wrap",children:[this.renderAlert(),Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"app-simple-section",children:[Object(i.jsxs)("label",{children:["Formal Vote Results:"," ",Object(i.jsx)(S.b,{className:"color-info",to:r,style:{fontSize:"14px"},children:Object(i.jsx)("u",{children:"(view vote detail)"})})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(n,"%"),backgroundColor:"#33C333"}}),Object(i.jsxs)("label",{children:[n,"%"]})]}),Object(i.jsxs)("div",{className:"vote-result-row",children:[Object(i.jsx)("span",{style:{width:"".concat(s,"%"),backgroundColor:"#EA5454"}}),Object(i.jsxs)("label",{children:[s,"%"]})]})]})})]})}}]),n}(l.Component),z=Object(d.b)((function(e){return{authUser:e.global.authUser,customModalData:e.global.customModalData}}))(Object(u.g)(A));n("LSuC");function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}var Y=n("wd/R"),B=function(e){Object(o.a)(n,e);var t=F(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"renderContent",value:function(){var e=this.props,t=e.settings,n=e.authUser,s=e.proposal,r=e.onRefresh;if("approved"!=s.status&&"completed"!=s.status)return null;if(!t.time_before_op_informal||!t.time_unit_before_op_informal||!t.time_before_op_informal_simple||!t.time_unit_before_op_informal_simple||!t.can_op_start_informal)return null;if(s.votes&&s.votes.length){if(1==s.votes.length){var o=s.votes[0],a=0;return"grant"==o.content_type?"min"==t.time_unit_informal?a=parseInt(t.time_informal):"hour"==t.time_unit_informal?a=60*parseInt(t.time_informal):"day"==t.time_unit_informal&&(a=24*parseInt(t.time_informal)*60):"simple"==o.content_type&&("min"==t.time_unit_simple?a=parseInt(t.time_simple):"hour"==t.time_unit_simple?a=60*parseInt(t.time_simple):"day"==t.time_unit_simple&&(a=24*parseInt(t.time_simple)*60)),Y(o.created_at).add(a,"minutes").diff(Y())>0&&"active"==o.status?Object(i.jsx)(w,{vote:o,mins:a,proposal:s,onRefresh:r}):Object(i.jsx)(D,{onRefresh:r,vote:o,proposal:s})}if(2==s.votes.length){var c=s.votes[0],l=s.votes[1],d=0;return"grant"==l.content_type?"min"==t.time_unit_formal?d=parseInt(t.time_formal):"hour"==t.time_unit_formal?d=60*parseInt(t.time_formal):"day"==t.time_unit_formal&&(d=24*parseInt(t.time_formal)*60):"simple"==l.content_type&&("min"==t.time_unit_simple?d=parseInt(t.time_simple):"hour"==t.time_unit_simple?d=60*parseInt(t.time_simple):"day"==t.time_unit_simple&&(d=24*parseInt(t.time_simple)*60)),Y(l.created_at).add(d,"minutes").diff(Y())>0&&"active"==l.status?Object(i.jsx)(R,{informalVote:c,vote:l,mins:d,proposal:s,onRefresh:r}):Object(i.jsx)(z,{vote:l,proposal:s,onRefresh:r})}if(s.votes.length>2){var u=s.votes[s.votes.length-1],p=0;if("milestone"==u.content_type&&("min"==t.time_unit_milestone?p=parseInt(t.time_milestone):"hour"==t.time_unit_milestone?p=60*parseInt(t.time_milestone):"day"==t.time_unit_milestone&&(p=24*parseInt(t.time_milestone)*60)),Y(u.created_at).add(p,"minutes").diff(Y())>0&&"active"==u.status){if("informal"==u.type)return Object(i.jsx)(w,{vote:u,mins:p,proposal:s,onRefresh:r});var h=s.votes[s.votes.length-2];return Object(i.jsx)(R,{informalVote:h,vote:u,mins:p,proposal:s,onRefresh:r})}return"informal"==u.type?Object(i.jsx)(D,{vote:u,proposal:s,onRefresh:r}):Object(i.jsx)(z,{vote:u,proposal:s,onRefresh:r})}}else{var m=0;"grant"==s.type?"min"==t.time_unit_before_op_informal?m=parseInt(t.time_before_op_informal):"hour"==t.time_unit_before_op_informal?m=60*parseInt(t.time_before_op_informal):"day"==t.time_unit_before_op_informal&&(m=24*parseInt(t.time_before_op_informal)*60):"simple"==s.type&&("min"==t.time_unit_before_op_informal_simple?m=parseInt(t.time_before_op_informal_simple):"hour"==t.time_unit_before_op_informal_simple?m=60*parseInt(t.time_before_op_informal_simple):"day"==t.time_unit_before_op_informal_simple&&(m=24*parseInt(t.time_before_op_informal_simple)*60));var f=Y(s.approved_at+".000Z").add(m,"minutes").diff(Y());if(f<=0&&n.is_admin)return Object(i.jsx)(v,{proposal:s,onRefresh:r});if(f<=0&&"yes"==t.can_op_start_informal&&n.id==s.user_id)return Object(i.jsx)(v,{proposal:s,onRefresh:r})}return null}},{key:"render",value:function(){var e=this.props.proposal;return e&&e.id?Object(i.jsx)("section",{id:"app-single-proposal-vote-section",children:this.renderContent()}):null}}]),n}(l.Component);t.a=Object(d.b)((function(e){return{authUser:e.global.authUser,settings:e.global.settings}}))(Object(u.g)(B))},CSQo:function(e,t,n){},Cup8:function(e,t,n){"use strict";var i=n("q1tI"),s=n.n(i),r=n("17x9"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var l=Object(i.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,r=e.size,o=void 0===r?24:r,l=c(e,["color","size"]);return s.a.createElement("svg",a({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),s.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.a.createElement("polyline",{points:"12 6 12 12 16 14"}))}));l.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},l.displayName="Clock",t.a=l},"Dy/p":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("QLqi");var i,s=n("xFC4"),r=(i=s)&&i.__esModule?i:{default:i};var o={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout((function(){e.scrollTo(t,!0),e.initialized=!0}),10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;if(n.get(e)&&(t||e!==n.getActiveLink())){var i=this.containers[e]||document;n.scrollTo(e,{container:i})}},getHash:function(){return r.default.getHash()},changeHash:function(e,t){this.isInitialized()&&r.default.getHash()!==e&&r.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=o},GsS2:function(e,t,n){},H2Bi:function(e,t,n){"use strict";var i=n("nKUr"),s=n("KQm4"),r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),l=n("md7G"),d=n("foSv"),u=n("rePB"),p=n("q1tI"),h=n("/MKj"),m=n("I6fM"),f=n("LADp"),b=n("e+cM"),j=n("ZpDd"),v=n("Ty5D");n("pNW6");function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var _=n("wd/R"),g=function(e){Object(c.a)(n,e);var t=O(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(a.a)(i),"trackScroll",(function(){i.$elem&&i.$elem.scrollTop+i.$elem.clientHeight>=i.$elem.scrollHeight&&i.runNextPage()})),Object(u.a)(Object(a.a)(i),"handleSearch",(function(e){i.setState({search:e.target.value},(function(){i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){i.reloadTable()}),500)}))})),i.state={users:[],loading:!1,sort_key:"users.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1,callCount:0},i.$elem=null,i.timer=null,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.users;this.getUsers(),e&&e.length&&this.startTracking()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e,t){var n=this,i=this.props.pendingUserTableStatus,s=this.state.users;t.users&&t.users.length||!s||!s.length||this.startTracking(),!e.pendingUserTableStatus&&i&&(this.setState({callCount:0},(function(){n.reloadTable()})),this.props.dispatch(Object(j.db)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-pending-users-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,users:[],finished:!1},(function(){e.getUsers()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,i=t.loading,s=t.finished,r=t.page_id;n||i||s||this.setState({page_id:r+1},(function(){e.getUsers(!1)}))}},{key:"clickManage",value:function(e){this.props.dispatch(Object(j.gb)({"manage-access":{render:!0,title:"You can allow/deny access of this user.",data:e}})),this.props.dispatch(Object(j.Z)("custom-global-modal"))}},{key:"clickRow",value:function(e){this.props.history.push("/app/user/".concat(e.id))}},{key:"getUsers",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,i=n.calling,r=n.loading,o=n.finished,a=n.sort_key,c=n.sort_direction,l=n.search,d=n.page_id,u=n.users,p=n.callCount;if(!(r||i||o)){var h={sort_key:a,sort_direction:c,search:l,page_id:d};this.props.dispatch(Object(f.Ib)(h,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.users||[],i=t.finished||!1;e.setState({loading:!1,calling:!1,finished:i,users:[].concat(Object(s.a)(u),Object(s.a)(n)),callCount:p+1})})))}}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,s=t.sort_direction;return n!=e?Object(i.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==s?Object(i.jsx)("span",{children:"\u25b2"}):Object(i.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,i=n.sort_key,s=n.sort_direction;i==e?s="asc"==s?"desc":"asc":(i=e,s="desc"),this.setState({sort_key:i,sort_direction:s},(function(){t.reloadTable()}))}},{key:"renderHeader",value:function(){var e=this;return Object(i.jsx)("div",{className:"infinite-header",children:Object(i.jsxs)("div",{className:"infinite-headerInner",children:[Object(i.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("users.email")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Email"}),this.renderTriangle("users.email")]}),Object(i.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("users.first_name")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Alias"}),this.renderTriangle("users.first_name")]}),Object(i.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("profile.telegram")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Telegram"}),this.renderTriangle("profile.telegram")]}),Object(i.jsx)("div",{className:"c-col-4 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Action"})}),Object(i.jsxs)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickHeader("users.created_at")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Registered Date"}),this.renderTriangle("users.created_at")]})]})})}},{key:"renderUsers",value:function(){var e=this,t=this.state.users,n=[];return t&&t.length?(t.forEach((function(t,s){n.push(Object(i.jsx)("li",{children:Object(i.jsxs)("div",{className:"infinite-row",children:[Object(i.jsx)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickRow(t)},children:Object(i.jsx)("label",{className:"font-size-14",children:Object(i.jsx)("b",{children:t.email})})}),Object(i.jsx)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickRow(t)},children:Object(i.jsxs)("label",{className:"font-size-14",children:[t.first_name," ",t.last_name]})}),Object(i.jsx)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickRow(t)},children:Object(i.jsx)("label",{className:"font-size-14",children:t.telegram})}),Object(i.jsx)("div",{className:"c-col-4 c-cols",children:Object(i.jsx)("a",{className:"btn btn-primary extra-small btn-fluid-small",onClick:function(){return e.clickManage(t)},children:"Manage Access"})}),Object(i.jsx)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickRow(t)},children:Object(i.jsxs)("label",{className:"font-size-14",children:[_(t.created_at).local().format("M/D/YYYY")," ",_(t.created_at).local().format("h:mm A")]})})]})},"user_".concat(s)))})),Object(i.jsx)("ul",{children:n})):Object(i.jsx)("div",{id:"infinite-no-result",children:Object(i.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.search,s=e.callCount,r=e.users,o=this.props.authUser;return o&&o.id&&(r&&r.length||!(s<2))?Object(i.jsxs)("section",{id:"app-pending-users-section",className:"app-infinite-box",children:[Object(i.jsxs)("div",{className:"app-infinite-search-wrap",children:[Object(i.jsxs)("label",{children:["Pending Users Table\xa0\xa0",Object(i.jsx)(m.a,{size:16})]}),Object(i.jsx)("input",{type:"text",value:n,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(i.jsx)("div",{className:"infinite-content",children:Object(i.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(i.jsx)("div",{className:"infinite-body",id:"app-pending-users-sectionBody",children:t?Object(i.jsx)(b.k,{}):this.renderUsers()})]})})]}):null}}]),n}(p.Component);t.a=Object(h.b)((function(e){return{authUser:e.global.authUser,pendingUserTableStatus:e.admin.pendingUserTableStatus}}))(Object(v.g)(g))},LSuC:function(e,t,n){},NEP4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=(a(n("xFC4")),a(n("/PZL"))),r=a(n("8QoP")),o=a(n("QQPg"));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return s.default[e.smooth]||s.default.defaultEasing},l=function(){if("undefined"!==typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())},d=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var n=void 0!==window.pageXOffset,i="CSS1Compat"===(document.compatMode||"");return n?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},u=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var n=void 0!==window.pageXOffset,i="CSS1Compat"===(document.compatMode||"");return n?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},p=function e(t,n,i){var s=n.data;if(n.ignoreCancelEvents||!s.cancel)if(s.delta=Math.round(s.targetPosition-s.startPosition),null===s.start&&(s.start=i),s.progress=i-s.start,s.percent=s.progress>=s.duration?1:t(s.progress/s.duration),s.currentPosition=s.startPosition+Math.ceil(s.delta*s.percent),s.containerElement&&s.containerElement!==document&&s.containerElement!==document.body?n.horizontal?s.containerElement.scrollLeft=s.currentPosition:s.containerElement.scrollTop=s.currentPosition:n.horizontal?window.scrollTo(s.currentPosition,0):window.scrollTo(0,s.currentPosition),s.percent<1){var r=e.bind(null,t,n);l.call(window,r)}else o.default.registered.end&&o.default.registered.end(s.to,s.target,s.currentPosition);else o.default.registered.end&&o.default.registered.end(s.to,s.target,s.currentPositionY)},h=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},m=function(e,t,n,i){if(t.data=t.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(t.data.delayTimeout),r.default.subscribe((function(){t.data.cancel=!0})),h(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?d(t):u(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition){var s;t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"===typeof(s=t.duration)?s:function(){return s})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=i;var a=c(t),m=p.bind(null,a,t);t&&t.delay>0?t.data.delayTimeout=window.setTimeout((function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),l.call(window,m)}),t.delay):(o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),l.call(window,m))}else o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)},f=function(e){return(e=i({},e)).data=e.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},e.absolute=!0,e};t.default={animateTopScroll:m,getAnimationType:c,scrollToTop:function(e){m(0,f(e))},scrollToBottom:function(e){e=f(e),h(e),m(e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var n=document.body,i=document.documentElement;return Math.max(n.scrollWidth,n.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}(e):function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var n=document.body,i=document.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}(e),e)},scrollTo:function(e,t){m(e,f(t))},scrollMore:function(e,t){t=f(t),h(t);var n=t.horizontal?d(t):u(t);m(e+n,t)}}},PGca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q1tI")),s=r(n("pUFB"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){var e,n,s;o(this,t);for(var r=arguments.length,c=Array(r),l=0;l<r;l++)c[l]=arguments[l];return n=s=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),s.render=function(){return i.default.createElement("a",s.props,s.props.children)},a(s,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Component);t.default=(0,s.default)(c)},QLqi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var i=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}();e.addEventListener(t,n,!!i&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},QQPg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={registered:{},scrollEvent:{register:function(e,t){i.registered[e]=t},remove:function(e){i.registered[e]=null}}};t.default=i},Y30y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n("q1tI")),o=c(n("w2Tm")),a=c(n("17x9"));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){var e=this,t=i({},this.props);return t.parentBindings&&delete t.parentBindings,r.default.createElement("div",i({},t,{ref:function(t){e.props.parentBindings.domNode=t}}),this.props.children)}}]),t}(r.default.Component);u.propTypes={name:a.default.string,id:a.default.string},t.default=(0,o.default)(u)},a5z9:function(e,t,n){},f8UJ:function(e,t,n){"use strict";var i=n("nKUr"),s=n("KQm4"),r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),l=n("md7G"),d=n("foSv"),u=n("rePB"),p=n("wd/R"),h=n.n(p),m=n("q1tI"),f=n("/MKj"),b=n("e+cM"),j=n("Ty5D"),v=n("LADp"),O=(n("GsS2"),n("55Ip")),_=n("ZpDd"),g=n("YW6W");function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e){Object(c.a)(n,e);var t=x(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(a.a)(i),"trackScroll",(function(){i.$elem&&i.$elem.scrollTop+i.$elem.clientHeight>=i.$elem.scrollHeight-100&&i.runNextPage()})),Object(u.a)(Object(a.a)(i),"openListSurveyVotersModal",(function(e,t,n){e&&i.props.dispatch(Object(_.Z)("list-survey-voters",{surveyId:i.props.id,proposal_id:t,place_choice:n}))})),Object(u.a)(Object(a.a)(i),"handleSearch",(function(e){i.setState({search:e.target.value},(function(){i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){i.reloadTable()}),500)}))})),i.state={loading:!1,data:[],sort_key:"",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1},i.$elem=null,i.timer=null,i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.authUser;e&&e.id&&this.startTracking(),this.getData()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.authUser;e.authUser&&e.authUser.id||!t||!t.id||this.startTracking()}},{key:"openFullPageView",value:function(){this.props.history.push("/app/surveys/".concat(this.props.id,"/full-page"))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("current-votes-scroll-track"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,i=t.loading,s=t.finished,r=t.page_id;n||i||s||this.setState({page_id:r+1},(function(){e.getData(!1)}))}},{key:"getData",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,i=n.calling,r=n.loading,o=n.finished,a=n.sort_key,c=n.sort_direction,l=n.search,d=n.page_id,u=n.data;if(!(r||i||o)){var p={sort_key:a,sort_direction:c,search:l,page_id:d,limit:10};this.props.dispatch(Object(v.ec)(this.props.id,p,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.proposals||[],i=t.finished||!1;e.setState({loading:!1,calling:!1,finished:i,data:[].concat(Object(s.a)(u),Object(s.a)(n))})})))}}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,data:[],finished:!1},(function(){e.getData()}))}},{key:"downloadCSV",value:function(){var e=this;this.props.dispatch(Object(v.U)(this.props.id,{search:this.state.search},(function(){e.props.dispatch(Object(_.Cb)())}),(function(t){var n=window.URL.createObjectURL(new Blob([t])),i=document.createElement("a");i.href=n,i.setAttribute("download","surveying.csv"),document.body.appendChild(i),i.click(),e.props.dispatch(Object(_.U)())})))}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,s=t.sort_direction;return n!=e?Object(i.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==s?Object(i.jsx)("span",{children:"\u25b2"}):Object(i.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,i=n.sort_key,s=n.sort_direction;i==e?s="asc"==s?"desc":"asc":(i=e,s="desc"),this.setState({sort_key:i,sort_direction:s},(function(){t.reloadTable()}))}},{key:"renderResult",value:function(){var e=this,t=this.state.data,n=this.props.cols,s=[];return t&&t.length?(t.forEach((function(t){s.push(Object(i.jsx)("li",{children:Object(i.jsxs)("div",{className:"infinite-row align-items-center d-flex py-3 font-size-14 font-weight-700",children:[Object(i.jsx)("div",{className:"c-col-1 c-cols",children:Object(i.jsx)(O.b,{to:"/app/proposal/".concat(t.id),children:Object(i.jsx)("p",{children:t.id})})}),Object(i.jsx)("div",{className:"c-col-2 c-cols",children:Object(i.jsx)("p",{children:h()(t.created_at).local().format("M/D/YYYY")})}),Object(i.jsx)("div",{className:"c-col-3 c-cols",children:Object(i.jsx)("p",{children:t.title})}),Object(i.jsx)("div",{className:"c-col-custom c-cols text-center",style:{width:"calc(".concat(55,"% / ").concat(n+1,")")},children:Object(i.jsx)("a",{className:"px-3",onClick:function(){return e.openListSurveyVotersModal(t.total_vote,t.id)},children:t.total_vote})}),Array(n).fill(1).map((function(s,r){return Object(i.jsx)("div",{className:"c-col-custom c-cols text-center",style:{width:"calc(".concat(55,"% / ").concat(n+1,")")},children:Object(i.jsx)("a",{className:"px-3",onClick:function(){return e.openListSurveyVotersModal(t["".concat(r+1,"_place")],t.id,1)},children:t["".concat(r+1,"_place")]})},r)}))]})},"mile_".concat(t.id)))})),Object(i.jsx)("ul",{children:s})):Object(i.jsx)("div",{id:"infinite-no-result",children:Object(i.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,s=t.search,r=this.props,o=r.cols,a=r.removeFullPageButton;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"app-infinite-search-wrap",children:[Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)("h4",{className:"pr-2",children:"Current votes by proposal"}),!a&&Object(i.jsx)("button",{className:"mr-4 btn btn-primary btn-download small ml-2",onClick:function(){return e.openFullPageView()},children:"Full Page View"})]}),Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)("button",{className:"mr-4 btn btn-primary btn-download small ml-2",onClick:function(){return e.downloadCSV()},children:"Download"}),Object(i.jsx)("input",{type:"text",value:s,onChange:this.handleSearch,placeholder:"Search..."})]})]}),Object(i.jsx)("div",{className:"survey-votes-table infinite-content ".concat(this.props.hideWonColumn?"hide-won-column":""),children:Object(i.jsxs)("div",{className:"infinite-contentInner",children:[Object(i.jsx)("div",{className:"infinite-header",children:Object(i.jsxs)("div",{className:"infinite-headerInner",children:[Object(i.jsx)("div",{className:"c-col-1 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Proposal number"})}),Object(i.jsx)("div",{className:"c-col-2 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Date discussion started"})}),Object(i.jsx)("div",{className:"c-col-3 c-cols",children:Object(i.jsx)("label",{className:"font-size-14",children:"Proposal title"})}),Object(i.jsxs)("div",{className:"c-col-custom c-cols",style:{width:"calc(".concat(55,"% / ").concat(o+1,")")},onClick:function(){return e.clickHeader("total_vote")},children:[Object(i.jsx)("label",{className:"font-size-14",children:"Total votes"}),this.renderTriangle("total_vote")]}),Array(o).fill(1).map((function(t,n){return Object(i.jsxs)("div",{className:"c-col-custom c-cols",style:{width:"calc(".concat(55,"% / ").concat(o+1,")")},onClick:function(){return e.clickHeader("".concat(n+1,"_place"))},children:[Object(i.jsxs)("label",{className:"font-size-14",children:[g.a.ordinalSuffixOf(n+1)," place"]}),e.renderTriangle("".concat(n+1,"_place"))]},n)}))]})}),Object(i.jsx)("div",{className:"infinite-body",id:"current-votes-scroll-track",children:n?Object(i.jsx)(b.k,{}):this.renderResult()})]})})]})}}]),n}(m.Component);t.a=Object(f.b)((function(e){return{authUser:e.global.authUser}}))(Object(j.g)(y))},fDsS:function(e,t,n){"use strict";var i=n("nKUr"),s=n("KQm4"),r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),l=n("md7G"),d=n("foSv"),u=n("rePB"),p=n("q1tI"),h=n("/MKj"),m=n("ahwF"),f=n("I6fM"),b=n("Fn3X"),j=n("LADp"),v=n("Ty5D"),O=n("IwCS"),_=n("e+cM");n("CSQo");function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var x=n("wd/R"),y=function(e){Object(c.a)(n,e);var t=g(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(a.a)(i),"showForm",(function(e){e.preventDefault();var t=i.props.onShow;t&&t()})),i.state={changes:[]},i}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getProposalChanges()}},{key:"getProposalChanges",value:function(){var e=this,t=this.props,n=t.proposal;t.isPublic?this.props.dispatch(Object(j.Ub)(n.id,(function(){}),(function(t){var n=t.changes||[],i=n.find((function(e){return"general_discussion"===e.what_section}));i&&(n=n.filter((function(e){return"general_discussion"!==e.what_section})),n=[i].concat(Object(s.a)(n))),e.setState({changes:n})}))):this.props.dispatch(Object(j.Nb)(n.id,(function(){}),(function(t){var n=t.changes||[],i=n.find((function(e){return"general_discussion"===e.what_section}));i&&(n=n.filter((function(e){return"general_discussion"!==e.what_section})),n=[i].concat(Object(s.a)(n))),e.setState({changes:n})})))}},{key:"clickChanges",value:function(e){var t=this.props,n=t.proposal,i=t.history;n&&n.id&&i.push("/app/proposal/".concat(n.id,"/change/").concat(e.id))}},{key:"renderType",value:function(e){if(e.what_section){var t=e.what_section;if("short_description"==t)return"Proposal Description";if("total_grant"==t)return"Grant Total";if("previous_work"==t)return"OP's Previous Work";if("other_work"==t)return"Other Previous Work";if("remove_membership"==t)return"Remove Membership";if("milestone"==t)return"Milestone";if("citation"==t)return"Citation"}return""}},{key:"renderSupport",value:function(e){var t=e.up_count||0;t=parseInt(t);var n=e.down_count||0,s=t+(n=parseInt(n));if(s){var r=parseInt(100*t/s);return Object(i.jsxs)("div",{className:"app-proposal-changes-item__support",children:[Object(i.jsxs)("span",{children:[r,"%"]})," | ",Object(i.jsxs)("span",{children:[100-r,"%"]})]})}return Object(i.jsxs)("div",{className:"app-proposal-changes-item__support",children:[Object(i.jsx)("span",{children:"0%"})," | ",Object(i.jsx)("span",{children:"0%"})]})}},{key:"renderActiveTitle",value:function(e){var t="";return e&&e.user&&e.user.profile&&(t=e.user.profile.forum_name||""),e&&"general_discussion"===e.what_section?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{style:{marginLeft:-10,marginTop:-7},children:Object(i.jsx)("img",{src:"/pin.png",alt:"pin"})}),Object(i.jsx)("b",{children:"General Discussion Thread"})," -"," "]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("span",{className:"active-pc"}),"Change to ",Object(i.jsx)("b",{children:this.renderType(e)})," by ",Object(i.jsx)("b",{children:t})," -"," "]})}},{key:"renderInactiveTitle",value:function(e){var t="";return e&&e.user&&e.user.profile&&(t=e.user.profile.forum_name||""),Object(i.jsxs)(p.Fragment,{children:[Object(i.jsx)("span",{className:"inactive-pc"}),"Change to ",Object(i.jsx)("b",{children:this.renderType(e)})," by ",Object(i.jsx)("b",{children:t})," -"," "]})}},{key:"renderTitle",value:function(e){if("pending"!=e.status){if("approved"==e.status)return Object(i.jsxs)("label",{className:"font-size-14",children:[this.renderInactiveTitle(e),Object(i.jsx)("b",{className:"color-success",children:"THE OP APPROVED THIS CHANGE"})," -"," ",x(e.updated_at).fromNow()]});if("denied"==e.status)return Object(i.jsxs)("label",{className:"font-size-14",children:[this.renderInactiveTitle(e),Object(i.jsx)("b",{className:"color-danger",children:"THE OP DENIED THIS CHANGE"})," -"," ",x(e.updated_at).fromNow()]});if("withdrawn"==e.status)return Object(i.jsxs)("label",{className:"font-size-14",children:[this.renderInactiveTitle(e),Object(i.jsx)("b",{className:"color-primary",children:"THE OC WITHDREW THIS CHANGE"})," -"," ",x(e.updated_at).fromNow()]})}return Object(i.jsxs)("label",{className:"font-size-14",children:[this.renderActiveTitle(e),x(e.created_at).fromNow()]})}},{key:"renderBadge",value:function(e){return Object(i.jsx)("div",{className:"custom-badge",children:"pending"==e.status?Object(i.jsx)("a",{className:"btn btn-warning extra-small btn-fluid-small",children:"Needs Action"}):null})}},{key:"renderOPChanges",value:function(e){var t=e.what_section.split("_"),n=t.pop(),s=t.join("_"),r=["team_member","milestone","citation"].includes(s);return Object(i.jsxs)("p",{children:["OP ",O.j[n]," ",r?"a":""," ",Object(i.jsx)("b",{children:O.k[s]})," -"," ",x(e.created_at).fromNow()]})}},{key:"renderItems",value:function(){var e=this,t=this.state.changes,n=[];return t&&t.forEach((function(t,s){n.push(Object(i.jsxs)("div",{className:"app-proposal-changes-item",onClick:function(){return e.clickChanges(t)},children:[!O.l.includes(t.what_section)&&Object(i.jsxs)(i.Fragment,{children:[e.renderTitle(t),t&&"general_discussion"!==t.what_section&&e.renderBadge(t),t&&"general_discussion"!==t.what_section&&Object(i.jsxs)("div",{className:"app-proposal-changes-item__comments",children:[Object(i.jsx)(m.a,{size:20}),Object(i.jsx)("span",{className:"font-size-12",children:t.comments})]}),t&&"general_discussion"!==t.what_section&&e.renderSupport(t)]}),O.l.includes(t.what_section)&&Object(i.jsx)(i.Fragment,{children:e.renderOPChanges(t)})]},"changes_".concat(s)))})),n}},{key:"render",value:function(){var e,t,n=this.props,s=n.proposal,r=n.authUser,o=n.isPublic,a=n.isAutoExpand;return o||s&&s.id&&r&&r.id?Object(i.jsxs)("section",{id:"app-proposal-changes-list-section",children:[s.user_id==r.id||s.votes&&s.votes.length||!r.is_member?null:Object(i.jsx)("div",{id:"proposal-change-btn-wrap",children:Object(i.jsx)("a",{className:"btn btn-primary-outline less-small",onClick:this.showForm,children:"Propose a change"})}),Object(i.jsx)("div",{id:"app-proposal-changes-list",children:Object(i.jsxs)(_.b,{isAutoExpand:a,children:[Object(i.jsxs)(_.d,{children:[Object(i.jsx)("label",{className:"pr-2",children:"Proposed Changes & Discussions"}),Object(i.jsx)(f.a,{size:16})]}),Object(i.jsx)(_.e,{children:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsxs)("div",{className:"pr-4",children:[Object(i.jsx)("p",{className:"pb-2",children:"Comments"}),Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)(m.a,{size:16}),Object(i.jsx)("p",{className:"pl-2",children:null===(e=this.state.changes)||void 0===e?void 0:e.reduce((function(e,t){return e+t.comments}),0)})]})]}),Object(i.jsxs)("div",{className:"pr-4",children:[Object(i.jsx)("p",{className:"pb-2",children:"Changes"}),Object(i.jsxs)("div",{className:"d-flex align-items-center",children:[Object(i.jsx)(b.a,{size:16}),Object(i.jsx)("p",{className:"pl-2",children:null===(t=this.state.changes)||void 0===t?void 0:t.length})]})]})]})}),Object(i.jsx)(_.c,{children:Object(i.jsx)("div",{className:"app-simple-section__body",children:this.renderItems()})})]})})]}):null}}]),n}(p.Component);t.a=Object(h.b)((function(e){return{authUser:e.global.authUser}}))(Object(v.g)(y))},fNis:function(e,t,n){},hDtt:function(e,t,n){},"hKI/":function(e,t,n){(function(t){var n="Expected a function",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),u=Object.prototype.toString,p=Math.max,h=Math.min,m=function(){return d.Date.now()};function f(e,t,i){var s,r,o,a,c,l,d=0,u=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError(n);function O(t){var n=s,i=r;return s=r=void 0,d=t,a=e.apply(i,n)}function _(e){return d=e,c=setTimeout(x,t),u?O(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-d>=o}function x(){var e=m();if(g(e))return y(e);c=setTimeout(x,function(e){var n=t-(e-l);return f?h(n,o-(e-d)):n}(e))}function y(e){return c=void 0,v&&s?O(e):(s=r=void 0,a)}function k(){var e=m(),n=g(e);if(s=arguments,r=this,l=e,n){if(void 0===c)return _(l);if(f)return c=setTimeout(x,t),O(l)}return void 0===c&&(c=setTimeout(x,t)),a}return t=j(t)||0,b(i)&&(u=!!i.leading,o=(f="maxWait"in i)?p(j(i.maxWait)||0,t):o,v="trailing"in i?!!i.trailing:v),k.cancel=function(){void 0!==c&&clearTimeout(c),d=0,s=l=r=c=void 0},k.flush=function(){return void 0===c?a:y(m())},k}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=r.test(e);return n||o.test(e)?a(e.slice(2),n?2:8):s.test(e)?NaN:+e}e.exports=function(e,t,i){var s=!0,r=!0;if("function"!=typeof e)throw new TypeError(n);return b(i)&&(s="leading"in i?!!i.leading:s,r="trailing"in i?!!i.trailing:r),f(e,t,{leading:s,maxWait:t,trailing:r})}}).call(this,n("yLpj"))},oqc9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Helpers=t.ScrollElement=t.ScrollLink=t.animateScroll=t.scrollSpy=t.Events=t.scroller=t.Element=t.Button=t.Link=void 0;var i=h(n("PGca")),s=h(n("7wkA")),r=h(n("Y30y")),o=h(n("zPnG")),a=h(n("QQPg")),c=h(n("wT0s")),l=h(n("NEP4")),d=h(n("pUFB")),u=h(n("w2Tm")),p=h(n("7FV1"));function h(e){return e&&e.__esModule?e:{default:e}}t.Link=i.default,t.Button=s.default,t.Element=r.default,t.scroller=o.default,t.Events=a.default,t.scrollSpy=c.default,t.animateScroll=l.default,t.ScrollLink=d.default,t.ScrollElement=u.default,t.Helpers=p.default,t.default={Link:i.default,Button:s.default,Element:r.default,scroller:o.default,Events:a.default,scrollSpy:c.default,animateScroll:l.default,ScrollLink:d.default,ScrollElement:u.default,Helpers:p.default}},pNW6:function(e,t,n){},pUFB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n("q1tI")),o=d(n("wT0s")),a=d(n("zPnG")),c=d(n("17x9")),l=d(n("Dy/p"));function d(e){return e&&e.__esModule?e:{default:e}}var u={to:c.default.string.isRequired,containerId:c.default.string,container:c.default.object,activeClass:c.default.string,spy:c.default.bool,horizontal:c.default.bool,smooth:c.default.oneOfType([c.default.bool,c.default.string]),offset:c.default.number,delay:c.default.number,isDynamic:c.default.bool,onClick:c.default.func,duration:c.default.oneOfType([c.default.number,c.default.func]),absolute:c.default.bool,onSetActive:c.default.func,onSetInactive:c.default.func,ignoreCancelEvents:c.default.bool,hashSpy:c.default.bool,saveHashHistory:c.default.bool};t.default=function(e,t){var n=t||a.default,c=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return d.call(t),t.state={active:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),s(a,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e),this.props.hashSpy&&(l.default.isMounted()||l.default.mount(n),l.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=i({},this.props);for(var s in u)n.hasOwnProperty(s)&&delete n[s];return n.className=t,n.onClick=this.handleClick,r.default.createElement(e,n)}}]),a}(r.default.PureComponent),d=function(){var e=this;this.scrollTo=function(t,s){n.scrollTo(t,i({},e.state,s))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,i){var s=e.getScrollSpyContainer();if(!l.default.isMounted()||l.default.isInitialized()){var r=e.props.horizontal,o=e.props.to,a=null,c=void 0,d=void 0;if(r){var u=0,p=0,h=0;if(s.getBoundingClientRect)h=s.getBoundingClientRect().left;if(!a||e.props.isDynamic){if(!(a=n.get(o)))return;var m=a.getBoundingClientRect();p=(u=m.left-h+t)+m.width}var f=t-e.props.offset;c=f>=Math.floor(u)&&f<Math.floor(p),d=f<Math.floor(u)||f>=Math.floor(p)}else{var b=0,j=0,v=0;if(s.getBoundingClientRect)v=s.getBoundingClientRect().top;if(!a||e.props.isDynamic){if(!(a=n.get(o)))return;var O=a.getBoundingClientRect();j=(b=O.top-v+i)+O.height}var _=i-e.props.offset;c=_>=Math.floor(b)&&_<Math.floor(j),d=_<Math.floor(b)||_>=Math.floor(j)}var g=n.getActiveLink();if(d){if(o===g&&n.setActiveLink(void 0),e.props.hashSpy&&l.default.getHash()===o){var x=e.props.saveHashHistory,y=void 0!==x&&x;l.default.changeHash("",y)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,a))}if(c&&(g!==o||!1===e.state.active)){n.setActiveLink(o);var k=e.props.saveHashHistory,N=void 0!==k&&k;e.props.hashSpy&&l.default.changeHash(o,N),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,a))}}}};return c.propTypes=u,c.defaultProps={offset:0},c}},w2Tm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n("q1tI")),o=(c(n("i8i4")),c(n("zPnG"))),a=c(n("17x9"));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),s(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){o.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return r.default.createElement(e,i({},this.props,{parentBindings:this.childBindings}))}}]),n}(r.default.Component);return t.propTypes={name:a.default.string,id:a.default.string},t}},wT0s:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=n("hKI/"),r=(i=s)&&i.__esModule?i:{default:i},o=n("QLqi");var a={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e){if(e){var t=function(e){return(0,r.default)(e,66)}((function(t){a.scrollHandler(e)}));a.scrollSpyContainers.push(e),(0,o.addPassiveEventListener)(e,"scroll",t)}},isMounted:function(e){return-1!==a.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e===document){var t=void 0!==window.pageYOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft}return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}return e.scrollTop},scrollHandler:function(e){(a.scrollSpyContainers[a.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach((function(t){return t(a.currentPositionX(e),a.currentPositionY(e))}))},addStateHandler:function(e){a.spySetState.push(e)},addSpyHandler:function(e,t){var n=a.scrollSpyContainers[a.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(a.currentPositionX(t),a.currentPositionY(t))},updateStates:function(){a.spySetState.forEach((function(e){return e()}))},unmount:function(e,t){a.scrollSpyContainers.forEach((function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)})),a.spySetState&&a.spySetState.length&&a.spySetState.splice(a.spySetState.indexOf(e),1),document.removeEventListener("scroll",a.scrollHandler)},update:function(){return a.scrollSpyContainers.forEach((function(e){return a.scrollHandler(e)}))}};t.default=a},xDwY:function(e,t,n){"use strict";var i=n("Ff2n"),s=n("nKUr"),r=n("1OyB"),o=n("vuIU"),a=n("JX7q"),c=n("Ji7U"),l=n("md7G"),d=n("foSv"),u=n("rePB"),p=n("q1tI"),h=n("/MKj"),m=n("Ty5D"),f=n("wHH0"),b=n("I6fM"),j=n("jbLr"),v=n("6rn4"),O=n("/Gi5"),_=n("ZRVi"),g=n("uGH+"),x=n("yzbm"),y=n("s/m+"),k=n("IwCS"),N=n("iRNo"),w=n("YW6W");n("hDtt");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var D=function(e){Object(c.a)(n,e);var t=P(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"toggle",value:function(e){var t=this.props,n=t.grants,i=t.onUpdate,s="grant_".concat(e);n[s]&&n[s].checked?n[s]=C(C({},n[s]),{},{checked:!1}):(n[s]||(n[s]={}),n[s]=C(C({},n[s]),{},{type:e,checked:!0})),i&&i(n)}},{key:"inputOther",value:function(e,t){var n=this.props,i=n.grants,s=n.onUpdate,r="grant_".concat(t);i[r]||(i[r]={}),i[r]=C(C({},i[r]),{},{type:t,type_other:e.target.value}),s&&s(i)}},{key:"inputPercentage",value:function(e,t){var n=this.props,i=n.grants,s=n.onUpdate,r="grant_".concat(t),o=e.target.value;(o=w.a.unformatPercentage(o))&&isNaN(o)&&(o=""),o&&(o=parseInt(o).toString()),o&&parseInt(o)<0&&(o=""),o&&parseInt(o)>100&&(o=""),i[r]||(i[r]={}),i[r]=C(C({},i[r]),{},{type:t,percentage:o}),s&&s(i)}},{key:"inputAmount",value:function(e,t){var n=this.props,i=n.grants,s=n.onUpdate,r="grant_".concat(t),o=e.target.value;o=w.a.unformatPriceNumber(o),isNaN(o)&&(o=""),o=w.a.adjustNumericString(o,2),i[r]||(i[r]={}),i[r]=C(C({},i[r]),{},{type:t,grant:o}),i[r]=C(C({},i[r]),{},o?{checked:!0}:{checked:!1}),s&&s(i)}},{key:"renderGrants",value:function(){var e=this,t=this.props.grants,n=[];return k.f.forEach((function(i,r){var o="grant_".concat(r),a=!(!t[o]||!t[o].checked),c=t[o]&&t[o].grant?t[o].grant:"",l=t[o]&&t[o].type_other?t[o].type_other:"",d=t[o]&&t[o].percentage?t[o].percentage:"";r!=k.f.length-1?n.push(Object(s.jsxs)("div",{className:"c-checkbox-item normal",children:[Object(s.jsx)("div",{className:"c-checkbox-itemSymbol",onClick:function(){return e.toggle(r)},children:a?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsxs)("div",{className:"c-checkbox-itemContent",children:[Object(s.jsx)("label",{className:"d-block",onClick:function(){return e.toggle(r)},children:i}),Object(s.jsxs)("div",{className:"c-checkbox-itemContentInner",children:[Object(s.jsx)("input",{type:"text",placeholder:"Amount for this item in Euros",onChange:function(t){return e.inputAmount(t,r)},value:c?w.a.formatPriceNumber(c.toString()):""}),Object(s.jsx)("input",{type:"text",value:w.a.formatPercentage(d),placeholder:"",className:"grant-percentage",onChange:function(t){return e.inputPercentage(t,r)}}),Object(s.jsx)("label",{children:"Percentage kept by OP"})]})]})]},"grant_".concat(r))):n.push(Object(s.jsxs)("div",{className:"c-checkbox-item other",children:[Object(s.jsx)("div",{className:"c-checkbox-itemSymbol",onClick:function(){return e.toggle(r)},style:{marginTop:"12px"},children:a?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsxs)("div",{className:"c-checkbox-itemContent",children:[Object(s.jsxs)("div",{className:"c-checkbox-itemOther",children:[Object(s.jsx)("label",{onClick:function(){return e.toggle(r)},children:i}),Object(s.jsx)("input",{type:"text",placeholder:"Enter use of funds",value:l,onChange:function(t){return e.inputOther(t,r)}})]}),Object(s.jsxs)("div",{className:"c-checkbox-itemContentInner",children:[Object(s.jsx)("input",{type:"text",placeholder:"Amount for this item in Euros",onChange:function(t){return e.inputAmount(t,r)},value:c?w.a.formatPriceNumber(c.toString()):""}),Object(s.jsx)("input",{type:"text",value:w.a.formatPercentage(d),className:"grant-percentage",onChange:function(t){return e.inputPercentage(t,r)}}),Object(s.jsx)("label",{children:"Percentage kept by OP"})]})]})]},"grant_".concat(r)))})),n}},{key:"renderAlert",value:function(){var e=this.props,t=e.total_grant,n=e.grants,i=!1,r=0;if(n)for(var o in n)n[o].grant&&n[o].checked&&(i=!0,r+=parseFloat(w.a.unformatNumber(n[o].grant)));if(r=parseFloat(w.a.adjustNumericString(r.toString(),2)),t&&(i=!0),!i)return null;var a=t?parseFloat(w.a.unformatNumber(t)):0,c=Math.abs(a-r);return(c=parseFloat(w.a.adjustNumericString(c.toString(),2)))?Object(s.jsx)("div",{className:"c-form-row",children:Object(s.jsx)("p",{className:"color-danger",children:"Please review this section. The total of your milestone is ".concat(w.a.formatPriceNumber(r.toString())," while your requested grant total is ").concat(w.a.formatPriceNumber(a.toString()),". This is a different of ").concat(w.a.formatPriceNumber(c.toString()),". Please adjust your numbers to remove this difference.")})}):null}},{key:"render",value:function(){return Object(s.jsxs)("section",{id:"proposal-grant-section",children:[Object(s.jsx)("div",{className:"c-form-row mt-5",children:Object(s.jsx)("label",{children:"Please select all planned uses for your grant funds. Select all that apply and enter the estimated portion of grant funds allocated for each. All totals must equal the upper amount"})}),Object(s.jsx)("div",{className:"c-form-row",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-10",children:this.renderGrants()})})}),this.renderAlert()]})}}]),n}(p.Component),E=Object(h.b)((function(){return{}}))(D),T=n("J/zA");n("a5z9");function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e){Object(c.a)(n,e);var t=I(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"toggle",value:function(e){var t=this.props,n=t.relationship,i=t.onUpdate;if(n.includes(e)){var s=n.indexOf(e);n.splice(s,1)}else{if(e==k.o.length-1)n=[];else if(n.includes(k.o.length-1)){var r=n.indexOf(k.o.length-1);n.splice(r,1)}n.push(e)}i&&i(n)}},{key:"renderRelations",value:function(){var e=this,t=this.props.relationship,n=[];return k.o.forEach((function(i,r){var o=!!t.includes(r);n.push(Object(s.jsxs)("div",{className:"c-checkbox-item",children:[Object(s.jsx)("div",{className:"c-checkbox-itemSymbol",onClick:function(){return e.toggle(r)},children:o?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){return e.toggle(r)},children:i})]},"relation_".concat(r)))})),n}},{key:"render",value:function(){return Object(s.jsxs)("section",{id:"proposal-relation-section",children:[Object(s.jsx)("div",{className:"c-form-row",children:Object(s.jsx)("label",{children:"Please outline your relationship with ETA and Contributors of ETA:"})}),Object(s.jsx)("div",{className:"c-form-row",children:this.renderRelations()})]})}}]),n}(p.Component),M=Object(h.b)((function(){return{}}))(R),A=n("20Bz"),z=n("ZpDd"),F=n("e+cM"),Y=(n("fNis"),n("LADp"));function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(l.a)(this,n)}}var V=n("oqc9"),L=function(e){Object(c.a)(n,e);var t=H(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(a.a)(i),"saveDraft",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i.state,s=n.title,r=n.short_description,o=n.explanation_benefit,a=n.license,c=n.license_other,l=n.resume,d=n.extra_notes,u=n.memberRequired,p=n.members,h=n.total_grant,m=n.grants,f=n.bank_name,b=n.iban_number,j=n.swift_number,v=n.holder_name,O=n.account_number,_=n.bank_address,g=n.bank_city,x=n.bank_country,y=n.bank_zip,k=n.holder_address,N=n.holder_city,S=n.holder_country,C=n.holder_zip,P=n.crypto_type,D=n.crypto_address,E=n.milestones,T=n.citations,I=n.relationship,R=n.received_grant_before,M=n.grant_id,A=n.has_fulfilled,F=n.require_membership,B=n.member_reason,H=n.member_benefit,V=n.linkedin,L=n.github,q=n.codeObject,G=n.is_company_or_organization,W=n.name_entity,K=n.entity_country,$=n.have_mentor,Q=n.name_mentor,J=n.total_hours_mentor,X=n.agree1,Z=n.agree2,ee=n.agree3,te=n.tags,ne=n.files,ie=n.ids_to_remove,se=[];for(var re in m)if(m[re]&&m[re].checked){var oe=U(U({},m[re]),{},{grant:w.a.unformatNumber(m[re].grant)});se.push(oe)}var ae={title:t?"".concat(s," ").concat(t).trim():s.trim(),short_description:r.trim(),explanation_benefit:o.trim(),license:a,license_other:c.trim(),total_grant:parseFloat(w.a.unformatNumber(h)),memberRequired:u,members:u?p:[],grants:se,bank_name:f.trim(),iban_number:b.trim(),swift_number:j.trim(),holder_name:v.trim(),account_number:O.trim(),bank_address:_.trim(),bank_city:g.trim(),bank_country:x.trim(),bank_zip:y.trim(),holder_address:k.trim(),holder_city:N.trim(),holder_country:S.trim(),holder_zip:C.trim(),crypto_type:P.trim(),crypto_address:D.trim(),milestones:E,citations:T,relationship:I.join(","),received_grant_before:R,grant_id:M.trim(),has_fulfilled:A,previous_work:"",other_work:"",include_membership:F,member_reason:B.trim(),member_benefit:H.trim(),linkedin:V.trim(),github:L.trim(),sponsor_code_id:q&&q.id?q.id:0,is_company_or_organization:G,name_entity:W.trim(),entity_country:K,have_mentor:$,name_mentor:Q.trim(),total_hours_mentor:J,agree1:X,agree2:Z,agree3:ee,tags:te,resume:l,extra_notes:d};if(!s)return i.setState({isSaving:!1,isSaved:!1}),void(e?i.doAutoSave():i.props.dispatch(Object(z.Bb)("Cannot save! Title should be not empty!","warning")));i.props.dispatch(Object(Y.z)(ae,(function(){i.props.dispatch(Object(z.Cb)())}),(function(t){if(i.props.dispatch(Object(z.U)()),t.success&&(i.props.dispatch(Object(z.Bb)("Save successfully!","success")),null!==ne&&void 0!==ne&&ne.length||null!==ie&&void 0!==ie&&ie.length)){var n=new FormData;null!==ie&&void 0!==ie&&ie.length&&n.append("ids_to_remove",ie.join(",")),ne.forEach((function(e){e.id||(n.append("files[]",e),n.append("names[]",e.name))})),n.append("proposal_draft_id",t.proposal_draft.id),i.props.dispatch(Object(Y.td)(n,(function(){}),(function(){})))}i.props.onSaved(),i.setState({isSaving:!1,isSaved:!0}),setTimeout((function(){i.setState({isSaved:!1})}),3e3),e&&i.doAutoSave()})))})),Object(u.a)(Object(a.a)(i),"submit",(function(){var e=i.state,t=e.title,n=e.short_description,s=e.explanation_benefit,r=e.license,o=e.license_other,a=e.resume,c=e.extra_notes,l=e.memberRequired,d=e.members,u=e.total_grant,p=e.grants,h=e.bank_name,m=e.iban_number,f=e.swift_number,b=e.holder_name,j=e.account_number,v=e.bank_address,O=e.bank_city,_=e.bank_country,g=e.bank_zip,x=e.holder_address,y=e.holder_city,N=e.holder_country,S=e.holder_zip,C=e.crypto_type,P=e.crypto_address,D=e.milestones,E=e.citations,T=e.relationship,I=e.received_grant_before,R=e.grant_id,M=e.has_fulfilled,A=e.files,F=e.require_membership,Y=e.member_reason,B=e.member_benefit,H=e.linkedin,V=e.github,L=e.checked,q=e.codeObject,G=e.checked0,W=e.checked1,K=e.checked2,$=e.checked3,Q=e.checked4,J=e.checked5,X=e.checked6,Z=e.checked7,ee=e.is_company_or_organization,te=e.name_entity,ne=e.entity_country,ie=e.have_mentor,se=e.name_mentor,re=e.total_hours_mentor,oe=e.checkedDeveloper1,ae=e.checkedDeveloper2,ce=e.checkedDeveloper3,le=e.agree1,de=e.agree2,ue=e.agree3,pe=e.tags;if(t.trim())if(n.trim())if(s.trim())if(""===r||r<0)i.props.dispatch(Object(z.Bb)("Please select license"));else if(5!=+r||o.trim())if(a.trim()){var he=!1;if(l)for(var me=0;me<d.length;me++){var fe=d[me];if(!fe.full_name.trim()||!fe.bio.trim()){he=!0;break}}if(he)i.props.dispatch(Object(z.Bb)("Please input all the team Voting Associate fields"));else if(!u||parseFloat(w.a.unformatNumber(u))<=0)i.props.dispatch(Object(z.Bb)("Please input total amount you are requesting as a grant"));else{var be=0,je=0,ve=!1,Oe=!1;for(var _e in p)p[_e]&&p[_e].checked&&(be++,!p[_e].grant||parseFloat(w.a.unformatNumber(p[_e].grant))<=0?ve=!0:(je+=parseFloat(w.a.unformatNumber(p[_e].grant)),p[_e].type!=k.f.length-1||p[_e].type_other||(Oe=!0)));je=parseFloat(w.a.adjustNumericString(je.toString(),2));var ge=Math.abs(parseFloat(w.a.unformatNumber(u))-je);if(ge=parseFloat(w.a.adjustNumericString(ge.toString(),2)),be)if(ve)i.props.dispatch(Object(z.Bb)("Please input correct grant amount for the selected planned uses"));else if(Oe)i.props.dispatch(Object(z.Bb)("Please input use of funds for the other grant type"));else if(ge)i.props.dispatch(Object(z.Bb)("The total of your milestone is ".concat(w.a.formatPriceNumber(je.toString())," while your requested grant total is ").concat(w.a.formatPriceNumber(u.toString()),". This is a different of ").concat(w.a.formatPriceNumber(ge.toString()),". Please adjust your numbers to remove this difference.")));else{for(var xe=!1,ye=!1,ke=0,Ne=0;Ne<D.length;Ne++){var we=D[Ne];we.title.trim()&&we.details.trim()&&we.criteria.trim()&&we.deadline.trim()&&we.level_difficulty.trim()&&we.checked?!we.grant||parseFloat(w.a.unformatNumber(we.grant))<=0?ye=!0:ke+=parseFloat(w.a.unformatNumber(we.grant)):xe=!0}if(ke=parseFloat(w.a.adjustNumericString(ke.toString(),2)),xe)i.props.dispatch(Object(z.Bb)("Please input all the milestone fields"));else if(ye)i.props.dispatch(Object(z.Bb)("Please input the correct grant amount for milestones"));else if(ge=Math.abs(parseFloat(w.a.unformatNumber(u))-ke),ge=parseFloat(w.a.adjustNumericString(ge.toString(),2)))i.props.dispatch(Object(z.Bb)("The total of your milestone is ".concat(w.a.formatPriceNumber(ke.toString())," while your requested grant total is ").concat(w.a.formatPriceNumber(u.toString()),". This is a different of ").concat(w.a.formatPriceNumber(ge.toString()),". Please adjust your numbers to remove this difference.")));else if(T&&T.length)if(!I||R.trim()){var Se=!1,Ce=!1,Pe=!1,De=0;if(E&&E.length&&E.forEach((function(e){e.proposalId&&e.explanation&&""!=e.percentage?e.checked?e.validProposal&&e.proposal&&e.proposal.id?De+=parseInt(e.percentage):Pe=!0:Ce=!0:Se=!0})),Se)i.props.dispatch(Object(z.Bb)("Please input all the citation fields"));else if(Ce)i.props.dispatch(Object(z.Bb)("Please check the proposal for your citation"));else if(Pe)i.props.dispatch(Object(z.Bb)("Invalid proposal for your citation"));else if(De>100)i.props.dispatch(Object(z.Bb)("Sum of the percentage can not be higher than 100%"));else{if(F){if(!Y.trim())return void i.props.dispatch(Object(z.Bb)("Please input Why do you want to become a Voting Associate"));if(!B.trim())return void i.props.dispatch(Object(z.Bb)("Please input As a Voting Associate, what will you bring to the ".concat(k.a,"?")));if(!L)return void i.props.dispatch(Object(z.Bb)("Please confirm you will be required to spend 4 hours on a weekly bases deliberating and voting on proposals"))}if(G&&W&&K&&$&&Q&&J&&X&&Z&&oe&&ae&&ce){var Ee=[];for(var Te in p)if(p[Te]&&p[Te].checked){var Ie=U(U({},p[Te]),{},{grant:w.a.unformatNumber(p[Te].grant)});Ee.push(Ie)}var Re={title:t.trim(),short_description:n.trim(),explanation_benefit:s.trim(),license:r,license_other:o.trim(),total_grant:parseFloat(w.a.unformatNumber(u)),memberRequired:l,members:l?d:[],grants:Ee,bank_name:h.trim(),iban_number:m.trim(),swift_number:f.trim(),holder_name:b.trim(),account_number:j.trim(),bank_address:v.trim(),bank_city:O.trim(),bank_country:_.trim(),bank_zip:g.trim(),holder_address:x.trim(),holder_city:y.trim(),holder_country:N.trim(),holder_zip:S.trim(),crypto_type:C.trim(),crypto_address:P.trim(),milestones:D,citations:E,relationship:T.join(","),received_grant_before:I,grant_id:R.trim(),has_fulfilled:M,previous_work:"",other_work:"",include_membership:F,member_reason:Y.trim(),member_benefit:B.trim(),linkedin:H.trim(),github:V.trim(),sponsor_code_id:q&&q.id?q.id:0,is_company_or_organization:ee,name_entity:te.trim(),entity_country:ne,have_mentor:ie,name_mentor:se.trim(),total_hours_mentor:re,agree1:le,agree2:de,agree3:ue,tags:pe,resume:a,extra_notes:c};i.props.onChange(Re,A,i.state.ids_to_remove)}}}else i.props.dispatch(Object(z.Bb)("Please input grant ID"));else i.props.dispatch(Object(z.Bb)("Please outline your relationship with ETA and Contributors of ETA"))}else i.props.dispatch(Object(z.Bb)("Please select planned uses for your grant funds"))}}else i.props.dispatch(Object(z.Bb)("Please input your resume or git"));else i.props.dispatch(Object(z.Bb)("Please input other license"));else i.props.dispatch(Object(z.Bb)("Please input explanation as to how your proposed project would benefit the DEVxDAO ecosystem if applicable"));else i.props.dispatch(Object(z.Bb)("Please input short description"));else i.props.dispatch(Object(z.Bb)("Please input proposal title"))})),Object(u.a)(Object(a.a)(i),"toggleRequire",(function(){var e=i.state.require_membership;i.setState({require_membership:!e})})),Object(u.a)(Object(a.a)(i),"checkMember",(function(){i.setState({memberRequired:!0},(function(){i.checkSectionError()}))})),Object(u.a)(Object(a.a)(i),"checkMentorProposal",(function(){i.props.dispatch(Object(Y.u)({name_mentor:i.state.name_mentor},(function(){i.props.dispatch(Object(z.Cb)())}),(function(e){i.props.dispatch(Object(z.U)()),i.setState({check_mentor:!!e.success},(function(){i.checkSectionError()}))})))})),Object(u.a)(Object(a.a)(i),"uncheckMember",(function(){i.setState({memberRequired:!1},(function(){i.checkSectionError()}))})),i.state={ids_to_remove:[],isSaving:!1,isSaved:!1,autoSaveTimeout:null,title:"",short_description:"",explanation_benefit:"",license:-1,license_other:"",resume:"",extra_notes:"",memberRequired:!0,members:[{full_name:"",bio:""}],total_grant:"",grants:{},citations:[],bank_name:"",iban_number:"",swift_number:"",holder_name:"",account_number:"",bank_address:"",bank_city:"",bank_country:"",bank_zip:"",holder_address:"",holder_city:"",holder_country:"",holder_zip:"",crypto_address:"",crypto_type:"",milestones:[{title:"",details:"",criteria:"",grant:"",deadline:"",level_difficulty:"",checked:!1}],relationship:[],received_grant_before:0,grant_id:"",has_fulfilled:0,files:[],sectionError:{general:!0,team:!0,grant:!0,milestone:!0,relationship:!0},require_membership:!1,member_reason:"",member_benefit:"",linkedin:"",github:"",checked:!1,code:"",codeObject:{},codeChecked:!1,checked0:!1,checked1:!1,checked2:!1,checked3:!1,checked4:!1,checked5:!1,checked6:!1,checked7:!1,checkedDeveloper1:!1,checkedDeveloper2:!1,checkedDeveloper3:!1,is_company_or_organization:0,name_entity:"",entity_country:"",have_mentor:0,name_mentor:"",check_mentor:!1,total_hours_mentor:"",agree1:!1,agree2:!1,agree3:!1,tags:[],memberChecked:!1},i}return Object(o.a)(n,[{key:"initValues",value:function(e){var t,n,i=this,s=e.title||"",r=e.short_description||"",o=e.explanation_goal||"",a=e.explanation_benefit||"",c=-1;e.hasOwnProperty("license")&&(c=+e.license);var l=e.license_other||"",d=e.resume||"",u=e.extra_notes||"",p="";e&&e.hasOwnProperty("total_grant")&&(p=null===(t=e.total_grant)||void 0===t?void 0:t.toString());var h=[];e.citations&&e.citations.length&&e.citations.forEach((function(e){h.push({proposalId:e.rep_proposal_id,explanation:e.explanation,percentage:e.percentage,validProposal:!0,checked:!0,proposal:e.rep_proposal||e.proposal})}));var m="",f="",b="",j="",v="",O="",_="",g="",x="",y="",k="",N="",w="",S="",C="";if(e.bank&&e.bank.id){var P=e.bank;m=P.bank_name||"",f=P.iban_number||"",b=P.swift_number||"",j=P.holder_name||"",v=P.account_number||"",O=P.bank_address||"",_=P.bank_city||"",g=P.bank_country||"",x=P.bank_zip||"",y=P.address||"",k=P.city||"",N=P.country||"",w=P.zip||""}if(e.crypto&&e.crypto.id){var D=e.crypto;S=D.public_address||"",C=D.type||""}var E=[{full_name:"",bio:"",address:"",city:"",zip:"",country:""}],T=!1;e.members&&e.members.length&&(E=e.members,T=!0);var I=e.grants||[],R={};I.forEach((function(e){var t,n="grant_".concat(e.type);R[n]=U(U({},e),{},{grant:null===(t=e.grant)||void 0===t?void 0:t.toString(),checked:!0})}));var M=[];(null===(n=e.milestones)||void 0===n?void 0:n.length)>0&&(M=e.milestones.map((function(e){return U(U({},e),{},{checked:!0})})));var A=(e.relationship||"").split(","),z=[];A&&A.length&&A.forEach((function(e){z.push(parseInt(e))}));var F=e.received_grant_before,Y=e.grant_id||"",B=e.has_fulfilled||"",H=e.received_grant,V=e.foundational_work||"",L=e.files||[],q=e.include_membership,G=e.member_reason||"",W=e.member_benefit||"",K=e.linkedin||"",$=e.github||"",Q=e.is_company_or_organization||0,J=e.name_entity||"",X=e.entity_country||"",Z=e.have_mentor||0,ee=e.name_mentor||"",te=e.total_hours_mentor||"";this.setState({title:s,short_description:r,explanation_benefit:a,explanation_goal:o,license:c,license_other:l,resume:d,extra_notes:u,memberRequired:!!e.member_required,members:E,memberChecked:T,total_grant:p,grants:R,bank_name:m,iban_number:f,swift_number:b,holder_name:j,account_number:v,bank_address:O,bank_city:_,bank_country:g,bank_zip:x,holder_address:y,holder_city:k,holder_country:N,holder_zip:w,crypto_address:S,crypto_type:C,milestones:M,relationship:z,received_grant_before:F,grant_id:Y,has_fulfilled:B,received_grant:H,foundational_work:V,files:L,require_membership:q,member_reason:G,member_benefit:W,linkedin:K,github:$,citations:h,tags:e.tags?e.tags.split(","):[],is_company_or_organization:Q,name_entity:J,entity_country:X,have_mentor:Z,name_mentor:ee,total_hours_mentor:te,yesNo1:e.yesNo1,yesNo2:e.yesNo2,yesNo3:e.yesNo3,yesNo4:e.yesNo4,yesNo1Exp:e.yesNo1Exp||"",yesNo2Exp:e.yesNo2Exp||"",yesNo3Exp:e.yesNo3Exp||"",yesNo4Exp:e.yesNo4Exp||"",formField1:e.formField1||"",formField2:e.formField2||"",purpose:e.purpose||"",purposeOther:e.purposeOther||"",agree1:!!e.agree1,agree2:!!e.agree2,agree3:!!e.agree3,checkedDeveloper1:!!e.checkedDeveloper1,checkedDeveloper2:!!e.checkedDeveloper2,checkedDeveloper3:!!e.checkedDeveloper3},(function(){i.checkSectionError()}))}},{key:"componentDidMount",value:function(){var e=this.props.proposal;e&&Object.keys(e).length>0&&this.initValues(e),this.checkSectionError(),this.props.allowAutoSave&&this.doAutoSave(),this.saveDraft()}},{key:"componentDidUpdate",value:function(e){this.props.saveDraft&&this.props.saveDraft!==e.saveDraft&&(this.props.dispatch(Object(z.X)(!1)),this.saveDraft(void 0,"Autosave"))}},{key:"componentWillUnmount",value:function(){var e=this.state.autoSaveTimeout;clearTimeout(e)}},{key:"doAutoSave",value:function(){var e=this,t=this.state.autoSaveTimeout;clearTimeout(t);var n=setTimeout((function(){e.setState({isSaving:!0}),e.saveDraft()}),3e5);this.setState({autoSaveTimeout:n})}},{key:"checkSectionError",value:function(){var e=this.state.sectionError,t=this.checkGeneralSection(),n=this.checkTeamSection(),i=this.checkGrantSection(),s=this.checkMilestoneSection(),r=this.checkRelationSection(),o=this.checkCompilationSection();e=U(U({},e),{},{general:t,team:n,grant:i,milestone:s,relationship:r,compliance:o}),this.setState({sectionError:e})}},{key:"checkRelationSection",value:function(){var e=this.state,t=e.relationship,n=e.received_grant_before,i=e.grant_id,s=e.citations,r=!1;t&&t.length?n&&!"".concat(i).trim()&&(r=!0):r=!0;var o=0;return s&&s.length&&s.forEach((function(e){e.proposalId&&e.explanation&&""!=e.percentage&&e.checked&&e.validProposal&&e.proposal&&e.proposal.id?o+=parseInt(e.percentage):r=!0})),!r&&o>100&&(r=!0),r}},{key:"checkCompilationSection",value:function(){var e=this.state,t=e.checked0,n=e.checked1,i=e.checked2,s=e.checked3,r=e.checked4,o=e.checked5,a=e.checked6,c=e.checked7,l=e.checkedDeveloper1,d=e.checkedDeveloper2,u=e.checkedDeveloper3,p=e.agree1,h=e.agree2,m=e.agree3;return!(t&&n&&i&&s&&r&&o&&a&&c&&l&&d&&u&&p&&h&&m)}},{key:"checkMilestoneSection",value:function(){var e=this.state,t=e.total_grant,n=e.milestones,i=!1;if(!t||parseFloat(w.a.unformatNumber(t))<=0)i=!0;else{for(var s=!1,r=!1,o=0,a=0;a<n.length;a++){var c,l,d,u,p,h=n[a];null!==(c=h.title)&&void 0!==c&&c.trim()&&null!==(l=h.details)&&void 0!==l&&l.trim()&&null!==(d=h.criteria)&&void 0!==d&&d.trim()&&null!==(u=h.deadline)&&void 0!==u&&u.trim()&&null!==(p=h.level_difficulty)&&void 0!==p&&p.trim()&&h.checked?!h.grant||parseFloat(w.a.unformatNumber(h.grant))<=0?r=!0:o+=parseFloat(w.a.unformatNumber(h.grant)):s=!0}if(o=parseFloat(w.a.adjustNumericString(o.toString(),2)),s||r)i=!0;else{var m=Math.abs(parseFloat(w.a.unformatNumber(t))-o);(m=parseFloat(w.a.adjustNumericString(m.toString(),2)))&&(i=!0)}}return i}},{key:"checkGrantSection",value:function(){var e=this.state,t=e.total_grant,n=e.grants,i=e.is_company_or_organization,s=e.name_entity,r=e.entity_country,o=e.have_mentor,a=e.name_mentor,c=e.total_hours_mentor,l=e.check_mentor,d=!1;if(!t||parseFloat(w.a.unformatNumber(t))<=0)d=!0;else{var u=0,p=0,h=!1,m=!1;for(var f in n)n[f]&&n[f].checked&&(u++,!n[f].grant||parseFloat(w.a.unformatNumber(n[f].grant))<=0?h=!0:(p+=parseFloat(w.a.unformatNumber(n[f].grant)),n[f].type!=k.f.length-1||n[f].type_other||(m=!0)));p=parseFloat(w.a.adjustNumericString(p.toString(),2));var b=Math.abs(parseFloat(w.a.unformatNumber(t))-p);b=parseFloat(w.a.adjustNumericString(b.toString(),2)),(!u||h||m||b)&&(d=!0)}return i&&(s&&r||(d=!0)),o&&(a&&c&&l||(d=!0)),d}},{key:"checkGeneralSection",value:function(){var e=this.state,t=e.title,n=e.short_description,i=e.explanation_benefit,s=e.license,r=e.license_other,o=e.resume,a=!1;return t.trim()&&n.trim()&&i.trim()&&o.trim()?s<0?a=!0:5!==+s||r.trim()||(a=!0):a=!0,a}},{key:"checkTeamSection",value:function(){var e=this.state,t=e.members,n=e.memberChecked;if(!e.memberRequired)return!1;var i=!1;if(!n)return!0;for(var s=0;s<t.length;s++){var r=t[s],o=r.full_name,a=r.bio;if(null===o||void 0===o||!o.trim()||null===a||void 0===a||!a.trim()){i=!0;break}}return i}},{key:"inputField",value:function(e,t){var n=this;this.setState(Object(u.a)({},t,e.target.value),(function(){n.checkSectionError()}))}},{key:"inputEuroField",value:function(e,t){var n=this,i=e.target.value;i=w.a.unformatPriceNumber(i),isNaN(i)&&(i=""),i=w.a.adjustNumericString(i,2),this.setState(Object(u.a)({},t,i),(function(){n.checkSectionError()}))}},{key:"renderLicenseDropdown",value:function(){var e=this,t=this.state.license,n=[];return k.h.forEach((function(e,t){n.push(Object(s.jsx)("option",{value:e.key,children:e.title},"option_".concat(t)))})),Object(s.jsxs)(p.Fragment,{children:[Object(s.jsxs)("select",{required:!0,value:t,onChange:function(t){return e.inputField(t,"license")},children:[Object(s.jsx)("option",{value:"",children:"Select..."}),n]}),-1==t?Object(s.jsx)("p",{className:"text-danger font-size-14 mt-2",children:"You must select a license type"}):null]})}},{key:"appendFiles",value:function(e){var t=this.state.files;t=t.concat(e),this.setState({files:t})}},{key:"removeFile",value:function(e){var t=this.state,n=t.files,i=t.ids_to_remove,s=n[e];s&&s.id&&!i.includes(s.id)&&i.push(s.id),n.splice(e,1),this.setState({files:n,ids_to_remove:i})}},{key:"renderFiles",value:function(){var e=this,t=this.state.files;if(!t||!t.length)return null;var n=[];return t.forEach((function(t,i){n.push(Object(s.jsxs)("li",{children:[Object(s.jsx)("p",{children:t.name}),Object(s.jsx)(f.a,{onClick:function(){return e.removeFile(i)}})]},"file_".concat(i)))})),Object(s.jsxs)("div",{id:"files-wrap",children:[Object(s.jsx)("label",{children:Object(s.jsx)("b",{children:"Files:"})}),Object(s.jsx)("ul",{children:n})]})}},{key:"toggleCheck",value:function(){var e=this.state.checked;this.setState({checked:!e})}},{key:"toggleCheckByKey",value:function(e){var t=this,n=this.state[e];this.setState(Object(u.a)({},e,!n),(function(){t.checkSectionError()}))}},{key:"toggleCheckboxByKey",value:function(e,t){var n=this;this.setState(Object(u.a)({},e,t),(function(){n.checkSectionError()}))}},{key:"clickTag",value:function(e){var t=this.state.tags;t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.setState({tags:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,i=t.short_description,r=t.explanation_benefit,o=t.license,a=t.license_other,c=t.resume,l=t.extra_notes,d=t.memberRequired,u=t.members,p=t.total_grant,h=t.grants,m=t.milestones,f=t.citations,S=t.relationship,C=t.received_grant_before,P=t.grant_id,D=t.has_fulfilled,I=t.sectionError,R=t.checked0,Y=t.checked1,B=t.checked2,H=t.checked3,L=t.checked4,q=t.checked5,G=t.checked6,W=t.checked7,K=t.checkedDeveloper1,$=t.checkedDeveloper2,Q=t.checkedDeveloper3,J=t.is_company_or_organization,X=t.name_entity,Z=t.entity_country,ee=t.have_mentor,te=t.name_mentor,ne=t.total_hours_mentor,ie=t.agree1,se=t.agree2,re=t.agree3,oe=t.check_mentor,ae=t.tags,ce=t.memberChecked,le=!1;for(var de in I)if(I[de]){le=!0;break}return Object(s.jsxs)("div",{id:"proposal-final-form",className:"proposal-final-form",children:[Object(s.jsxs)("form",{className:"main-box",children:[Object(s.jsx)("div",{id:"c-status-general"}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:500,children:Object(s.jsxs)("div",{className:"app-page-header",style:{marginTop:"40px"},children:[Object(s.jsx)("label",{children:"General Project Details"}),Object(s.jsx)(b.a,{size:16}),I.general?Object(s.jsx)(j.a,{color:"#EA5454",className:"app-page-headerIcon"}):Object(s.jsx)(v.a,{color:"#33C333",className:"app-page-headerIcon"})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:500,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Title of Proposed Project (limit 10 words)"}),Object(s.jsx)("input",{value:n,type:"text",onChange:function(t){return e.inputField(t,"title")},required:!0})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:500,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Describe your project in detail. Please include what it does and what problem it solves. (limit 1500 words)"}),Object(s.jsx)("textarea",{value:i,onChange:function(t){return e.inputField(t,"short_description")},required:!0})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:500,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Explanation as to how your proposed project would benefit the DEVxDAO ecosystem AND/OR support transparent and open source scientific research and/ or development if applicable."}),Object(s.jsx)("textarea",{value:r,onChange:function(t){return e.inputField(t,"explanation_benefit")},required:!0})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Under which open source license(s) will you publish any research and development associated with your proposed Project? All research papers or the like should be Creative Commons."}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-4",children:this.renderLicenseDropdown()}),5===+o?Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("input",{value:a,type:"text",placeholder:"Enter License",onChange:function(t){return e.inputField(t,"license_other")}})}):null]})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Please link your resume (Linkedin) or Git (For developers)"}),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-4",children:Object(s.jsx)("input",{value:c,type:"text",onChange:function(t){return e.inputField(t,"resume")},required:!0})})})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"Please add any notes or reference about the project, such as similar projects or web pages about APIs to be integrated with your build"}),Object(s.jsx)("textarea",{value:l,onChange:function(t){return e.inputField(t,"extra_notes")}})]})}),Object(s.jsx)("div",{id:"c-status-team"}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"app-page-headerModern",children:[Object(s.jsxs)("div",{className:"app-page-headerModern__inner",children:[Object(s.jsx)("label",{children:"Team Details"}),Object(s.jsx)(b.a,{size:16}),I.team?Object(s.jsx)(j.a,{color:"#EA5454",className:"app-page-headerIcon"}):Object(s.jsx)(v.a,{color:"#33C333",className:"app-page-headerIcon"})]}),Object(s.jsxs)("div",{className:"c-checkbox-item",children:[Object(s.jsx)("div",{className:"c-checkbox-itemSymbol",onClick:this.uncheckMember,children:d?Object(s.jsx)(_.a,{color:"#9B64E6"}):Object(s.jsx)(O.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{className:"font-size-14",onClick:this.uncheckMember,children:"I am working on this project alone."})]}),Object(s.jsxs)("div",{className:"c-checkbox-item",children:[Object(s.jsx)("div",{className:"c-checkbox-itemSymbol",onClick:this.checkMember,children:d?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{className:"font-size-14",onClick:this.checkMember,children:"I have a team of at least one of person (you will need to provide information for team members)."})]})]})}),d?Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsx)(N.a,{members:u,memberChecked:ce,onUpdate:function(t){e.setState({members:t},(function(){e.checkSectionError()}))},onUpdateChecked:function(t){e.setState({memberChecked:t},(function(){e.checkSectionError()}))}})}):null,Object(s.jsx)("div",{id:"c-status-grant"}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"app-page-header",children:[Object(s.jsx)("label",{children:"Grant Details"}),Object(s.jsx)(b.a,{size:16}),I.grant?Object(s.jsx)(j.a,{color:"#EA5454",className:"app-page-headerIcon"}):Object(s.jsx)(v.a,{color:"#33C333",className:"app-page-headerIcon"})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsx)("div",{className:"c-form-row",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md-8",children:[Object(s.jsx)("label",{children:"Please enter the total amount you are requesting as a grant:"}),Object(s.jsx)("input",{type:"text",value:p?w.a.formatPriceNumber(p):"",placeholder:"Total in Euros",onChange:function(t){return e.inputEuroField(t,"total_grant")},required:!0})]})})})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"c-form-row mt-5",children:[Object(s.jsx)("label",{children:"Will payments for this work be made to a entity such as your company or organization instead of to you personally?"}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item-group",children:[Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({is_company_or_organization:0},(function(){e.checkSectionError()}))},children:J?Object(s.jsx)(_.a,{color:"#9B64E6"}):Object(s.jsx)(O.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({is_company_or_organization:0},(function(){e.checkSectionError()}))},children:"No"})]}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({is_company_or_organization:1},(function(){e.checkSectionError()}))},children:J?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({is_company_or_organization:1},(function(){e.checkSectionError()}))},children:"Yes"})]})]})]})}),!!J&&Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"row mt-5",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"What is the name of the entity?"}),Object(s.jsx)("input",{value:X,type:"text",placeholder:"Enter name of entity",onChange:function(t){return e.inputField(t,"name_entity")},required:!0})]})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"c-form-row c-select",children:[Object(s.jsx)("label",{children:"Please select the entity country of registration."}),Object(s.jsx)(F.i,{required:!0,placeholder:"Please select a country",options:k.b,value:Z,onChange:function(t){return e.inputField(t,"entity_country")}})]})})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsx)(E,{total_grant:p,grants:h,onUpdate:function(t){e.setState({grants:t},(function(){e.checkSectionError()}))}})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"c-form-row mt-5",children:[Object(s.jsx)("label",{children:"Did a Voting Associate of the DEVxDAO assist you during the grant application process as a mentor?"}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item-group",children:[Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({have_mentor:0},(function(){e.checkSectionError()}))},children:ee?Object(s.jsx)(_.a,{color:"#9B64E6"}):Object(s.jsx)(O.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({have_mentor:0},(function(){e.checkSectionError()}))},children:"No"})]}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({have_mentor:1},(function(){e.checkSectionError()}))},children:ee?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({have_mentor:1},(function(){e.checkSectionError()}))},children:"Yes"})]})]})]})}),!!ee&&Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"row mt-5",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsxs)("label",{children:["Please enter the email or handle of the member",Object(s.jsxs)("span",{className:"pl-1",children:[oe&&Object(s.jsx)(v.a,{color:"#33C333"}),!oe&&Object(s.jsx)(j.a,{color:"#EA5454"})]})]}),Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("input",{value:te,type:"text",onChange:function(t){return e.inputField(t,"name_mentor")},required:!0}),Object(s.jsx)("button",{type:"button",className:"btn-submit btn btn-primary ml-2",onClick:this.checkMentorProposal,children:"Submit"})]})]})}),Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"How many hours did the mentor help you (approximately)?"}),Object(s.jsx)("input",{value:ne,type:"number",onChange:function(t){return e.inputField(t,"total_hours_mentor")},required:!0})]})})]})}),Object(s.jsx)("div",{id:"c-status-milestone"}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsxs)("div",{className:"app-page-header",children:[Object(s.jsx)("label",{children:"Milestone Details"}),Object(s.jsx)(b.a,{size:16}),I.milestone?Object(s.jsx)(j.a,{color:"#EA5454",className:"app-page-headerIcon"}):Object(s.jsx)(v.a,{color:"#33C333",className:"app-page-headerIcon"})]})}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsx)(T.a,{showAction:!0,total_grant:p,milestones:m,onUpdate:function(t){e.setState({milestones:t},(function(){e.checkSectionError()}))}})}),Object(s.jsx)("div",{id:"c-status-relationship"}),Object(s.jsxs)("div",{className:"app-page-header",children:[Object(s.jsx)("label",{children:"Relationships and previous work"}),Object(s.jsx)(b.a,{size:16}),I.relationship?Object(s.jsx)(j.a,{color:"#EA5454",className:"app-page-headerIcon"}):Object(s.jsx)(v.a,{color:"#33C333",className:"app-page-headerIcon"})]}),Object(s.jsx)(M,{relationship:S,onUpdate:function(t){e.setState({relationship:t},(function(){e.checkSectionError()}))}}),Object(s.jsxs)("div",{className:"c-form-row mt-5",children:[Object(s.jsx)("label",{children:"Have you ever received a Grant under this program before?"}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item-group",children:[Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({received_grant_before:0},(function(){e.checkSectionError()}))},children:C?Object(s.jsx)(_.a,{color:"#9B64E6"}):Object(s.jsx)(O.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({received_grant_before:0},(function(){e.checkSectionError()}))},children:"No"})]}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){e.setState({received_grant_before:1},(function(){e.checkSectionError()}))},children:C?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){e.setState({received_grant_before:1},(function(){e.checkSectionError()}))},children:"Yes"}),Object(s.jsx)("input",{value:P,type:"text",placeholder:"Enter Proposal Number",onChange:function(t){return e.inputField(t,"grant_id")}})]})]})]}),Object(s.jsxs)("div",{className:"c-form-row",children:[Object(s.jsx)("label",{children:"If the answer to the previous question is YES, have you entirely fulfilled your contractual obligations?"}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item-group",children:[Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){return e.setState({has_fulfilled:0})},children:D?Object(s.jsx)(_.a,{color:"#9B64E6"}):Object(s.jsx)(O.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){return e.setState({has_fulfilled:0})},children:"No"})]}),Object(s.jsxs)("div",{className:"c-simple-checkbox-item",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-itemSymbol",onClick:function(){return e.setState({has_fulfilled:1})},children:D?Object(s.jsx)(O.a,{color:"#9B64E6"}):Object(s.jsx)(_.a,{color:"#9B64E6"})}),Object(s.jsx)("label",{onClick:function(){return e.setState({has_fulfilled:1})},children:"Yes"})]})]})]}),Object(s.jsx)(y.Fade,{distance:"20px",bottom:!0,duration:100,delay:600,children:Object(s.jsx)(A.a,{showAction:!0,citations:f,onUpdate:function(t){e.setState({citations:t},(function(){e.checkSectionError()}))}})}),Object(s.jsxs)("div",{className:"c-form-row mt-5",children:[Object(s.jsxs)("label",{children:["Drag and drop a file into this box to upload pitch deck, project architecture, charts, etc.",Object(s.jsx)("br",{}),"( Only PDF files will be accepted )"]}),Object(s.jsx)(x.a,{accept:"application/pdf",onDrop:function(t){return e.appendFiles(t)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(s.jsx)("section",{id:"c-dropzone",children:Object(s.jsxs)("div",U(U({},t()),{},{children:[Object(s.jsx)("input",U({},n())),Object(s.jsx)(g.a,{color:"#9B64E6"}),Object(s.jsx)("p",{className:"color-primary",children:"Add Files"})]}))})}}),this.renderFiles()]}),Object(s.jsxs)("div",{id:"c-proposal-tags",className:"c-form-row mt-5",children:[Object(s.jsx)("label",{children:"Add tags your project:"}),Object(s.jsx)("ul",{children:k.v.map((function(t,n){return Object(s.jsx)("li",{children:Object(s.jsx)("a",{onClick:function(){return e.clickTag(t)},className:ae.includes(t)?"btn btn-round btn-primary extra-small btn-fluid-small":"btn btn-round btn-primary-outline extra-small btn-fluid-small",children:t})},"tag_".concat(n))}))})]}),Object(s.jsxs)("div",{id:"c-additional-check-wrap",children:[Object(s.jsxs)("div",{className:"c-simple-checkbox-item-group mt-4",children:[Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:Y,text:"I hereby declare that all results, work product, etc. associated with these grant deliverable(s) will be made available under an open-source license. I acknowledge that I am legally responsible to ensure that all parts of this project are open-source.",onChange:function(t){return e.toggleCheckboxByKey("checked1",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:B,text:"I hereby declare that this grant will benefit decentralization and open-source projects generally, pursuant to the mission statement of the ETA, which is to support open source and transparent scientific research of emerging technologies for community building by way of submitting grants to developers and scientists in Switzerland and abroad.",onChange:function(t){return e.toggleCheckboxByKey("checked2",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:H,text:"I hereby declare that this proposed project increases the level of decentralization of various blockchain layer 1 platforms; will produce high-quality open source and transparent scientific research and/or developments that further the decentralization of platforms and organizations; delivers research and development initiatives that are globally applicable; and/or delivers reference implementations of the research and development.",onChange:function(t){return e.toggleCheckboxByKey("checked3",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:L,text:"I hereby declare that my proposed project is in line with international transparency standards; my team has sufficient qualifications, experience and capacity to actually finish the proposed project.",onChange:function(t){return e.toggleCheckboxByKey("checked4",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:q,text:"I hereby declare that I have not built tools and do not intend to build tools to attack a blockchain network.",onChange:function(t){return e.toggleCheckboxByKey("checked5",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:G,text:"I hereby declare that I do not intend to use the Developer Grants for illegal market manipulation.",onChange:function(t){return e.toggleCheckboxByKey("checked6",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:W,text:"I hereby declare that I have not previously failed to fulfill my contractual obligations under an earlier grant agreement between myself and the ETA and/or the DEVxDAO.",onChange:function(t){return e.toggleCheckboxByKey("checked7",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:K,text:"I hereby declare that my proposed project will not violate intellectual property rights of any of the DEVxDAO Grant Program Sponsor(s).",onChange:function(t){return e.toggleCheckboxByKey("checkedDeveloper1",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:$,text:"I hereby declare that my proposed project will not be used to the detriment of these DEVxDAO Grant Program Sponsor(s).",onChange:function(t){return e.toggleCheckboxByKey("checkedDeveloper2",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:Q,text:"I hereby declare that I do not intend to use the Developer Grants to seriously harm any these DEVxDAO Grant Program Sponsor(s) and/or the blockchain network (it being understood that legitimate forms of technical or other competition do not constitute such harm).",onChange:function(t){return e.toggleCheckboxByKey("checkedDeveloper3",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:ie,text:"I hereby declare that my team complies with the Modern Slavery Act.",onChange:function(t){return e.toggleCheckboxByKey("agree1",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:se,text:"I hereby declare that I have not committed and do not plan to commit fraud, corruption, money laundering, or be involved in a criminal organization.",onChange:function(t){return e.toggleCheckboxByKey("agree2",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:re,text:"I agree that while submitting the final milestone for my project, I will add my project code and/or a summary README file to the Casper and DEVxDAO GitHub repositories (for all development projects) and announce my project completion on at least 1 of my social media channels and mention Casper and the DEVxDAO in my post.",onChange:function(t){return e.toggleCheckboxByKey("agree3",t)}})}),Object(s.jsx)("div",{className:"c-simple-checkbox-item",children:Object(s.jsx)(F.f,{value:R,text:"I understand that I may be denied grant approval and/or any payments without further justification if I am a citizen or resident of any country/region for which the U.S. Dept. of the Treasury's Office of Foreign Assets Control (OFAC) administers a sanctions program or that is on the Swiss State Secretariat for Economic Affairs (SECO) Sanctions List.",onChange:function(t){return e.toggleCheckboxByKey("checked0",t)}})})]}),Object(s.jsx)("div",{id:"c-submit-status",className:"mobile-submit-status",children:Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[I.general?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-general",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"General Project Details"})})]}),Object(s.jsxs)("li",{children:[I.team?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-team",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"Team Details"})})]}),Object(s.jsxs)("li",{children:[I.grant?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-grant",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"Grant Details"})})]}),Object(s.jsxs)("li",{children:[I.milestone?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-milestone",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"Milestone Details"})})]}),Object(s.jsxs)("li",{children:[I.relationship?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-relationship",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"Relationships and previous work"})})]}),Object(s.jsxs)("li",{children:[I.compliance?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-relationship",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"app-content-body",children:Object(s.jsx)("label",{children:"Compliance Checkboxes"})})]})]})})]}),Object(s.jsxs)("div",{id:"c-button-wrap",className:"d-flex",children:[Object(s.jsxs)("div",{className:"position-relative",children:[Object(s.jsx)("button",{type:"button",className:"mr-2 btn btn-primary-outline large",onClick:function(){return e.saveDraft(!1)},children:"Save and finish later"}),this.state.isSaved&&Object(s.jsx)("p",{className:"save-successful",children:"save successful!"})]}),Object(s.jsx)("button",{disabled:le,type:"button",className:"btn btn-primary large",onClick:function(){e.props.dispatch(Object(z.gb)({"confirm-submit-proposal":{render:!0,title:"Are you sure you want to submit this proposal?",onConfirm:function(){e.submit()}}})),e.props.dispatch(Object(z.Z)("custom-global-modal"))},children:"Submit Grant Proposal"})]})]}),Object(s.jsx)("div",{id:"c-submit-status",className:"pc-submit-status",children:Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[I.general?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-general",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"General Project Details"})})]}),Object(s.jsxs)("li",{children:[I.team?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-team",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"Team Details"})})]}),Object(s.jsxs)("li",{children:[I.grant?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-grant",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"Grant Details"})})]}),Object(s.jsxs)("li",{children:[I.milestone?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-milestone",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"Milestone Details"})})]}),Object(s.jsxs)("li",{children:[I.relationship?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-relationship",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"Relationships and previous work"})})]}),Object(s.jsxs)("li",{children:[I.compliance?Object(s.jsx)(j.a,{color:"#EA5454"}):Object(s.jsx)(v.a,{color:"#33C333"}),Object(s.jsx)(V.Link,{to:"c-status-relationship",spy:!1,smooth:!0,offset:-70,duration:500,containerId:"proposal-final-form",children:Object(s.jsx)("label",{children:"Compliance Checkboxes"})})]})]})})]})}}]),n}(p.Component);t.a=Object(h.b)((function(e){return{authUser:e.global.authUser,saveDraft:e.user.saveDraft}}),void 0,void 0,{forwardRef:!0})(function(e){var t=Object(m.g)((function(t){var n=t.forwardedRef,r=Object(i.a)(t,["forwardedRef"]);return Object(s.jsx)(e,U({ref:n},r))}));return Object(p.forwardRef)((function(e,n){return Object(s.jsx)(t,U(U({},e),{},{forwardedRef:n}))}))}(L))},xFC4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,i=n?"#"+n:"",s=window&&window.location,r=i?s.pathname+s.search+i:s.pathname+s.search;t?history.pushState(null,"",r):history.replaceState(null,"",r)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,n){return n?e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft:e===document?t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset):"static"!==getComputedStyle(e).position?t.offsetTop:t.offsetTop-e.offsetTop}}},zPnG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=a(n("xFC4")),r=a(n("NEP4")),o=a(n("QQPg"));function a(e){return e&&e.__esModule?e:{default:e}}var c={},l=void 0;t.default={unmount:function(){c={}},register:function(e,t){c[e]=t},unregister:function(e){delete c[e]},get:function(e){return c[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return l=e},getActiveLink:function(){return l},scrollTo:function(e,t){var n=this.get(e);if(n){var a=(t=i({},t,{absolute:!1})).containerId,c=t.container,l=void 0;l=a?document.getElementById(a):c&&c.nodeType?c:document,t.absolute=!0;var d=t.horizontal,u=s.default.scrollOffset(l,n,d)+(t.offset||0);if(!t.smooth)return o.default.registered.begin&&o.default.registered.begin(e,n),l===document?t.horizontal?window.scrollTo(u,0):window.scrollTo(0,u):l.scrollTop=u,void(o.default.registered.end&&o.default.registered.end(e,n));r.default.animateTopScroll(u,t,e,n)}else console.warn("target Element not found")}}}}]);