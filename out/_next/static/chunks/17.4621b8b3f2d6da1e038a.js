(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"0jNN":function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)"undefined"!==typeof e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],a=n.obj[n.prop],i=Object.keys(a),c=0;c<i.length;++c){var s=i[c],l=a[s];"object"===typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:s}),r.push(l))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)"undefined"!==typeof t[n]&&o.push(t[n]);r.obj[r.prop]=o}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",o=0;o<t.length;++o){var a=t.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(o):a<128?r+=n[a]:a<2048?r+=n[192|a>>6]+n[128|63&a]:a<55296||a>=57344?r+=n[224|a>>12]+n[128|a>>6&63]+n[128|63&a]:(o+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(o)),r+=n[240|a>>18]+n[128|a>>12&63]+n[128|a>>6&63]+n[128|63&a])}return r},isBuffer:function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,n){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if("object"!==typeof t)return[t,r];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!==typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=a(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,a){o.call(t,a)?t[a]&&"object"===typeof t[a]?t[a]=e(t[a],r,n):t.push(r):t[a]=r})),t):Object.keys(r).reduce((function(t,a){var i=r[a];return o.call(t,a)?t[a]=e(t[a],i,n):t[a]=i,t}),i)}}},Lph7:function(e,t,r){"use strict";r.r(t);var o=r("nKUr"),n=r("1OyB"),a=r("vuIU"),i=r("JX7q"),c=r("Ji7U"),s=r("md7G"),l=r("foSv"),p=r("rePB"),u=r("q1tI"),f=r.n(u),d=r("/MKj"),y=r("Ty5D"),b=(r("fVC1"),r("xDwY")),h=r("e+cM"),j=r("ZpDd"),m=r("LADp"),O=r("Qyje"),v=r.n(O);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=Object(l.a)(e);if(t){var n=Object(l.a)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Object(s.a)(this,r)}}var w=function(e){Object(c.a)(r,e);var t=g(r);function r(e){var o;return Object(n.a)(this,r),o=t.call(this,e),Object(p.a)(Object(i.a)(o),"create",(function(e,t){o.props.dispatch(Object(m.xc)(e,(function(){o.props.dispatch(Object(j.wb)())}),(function(e){var r=o.props.history;if(e.success&&e.proposal&&e.proposal.id)if(t&&t.length){var n=new FormData;t.forEach((function(e){n.append("files[]",e),n.append("names[]",e.name)})),n.append("proposal",e.proposal.id),o.props.dispatch(Object(m.Uc)(n,(function(){o.props.dispatch(Object(j.wb)())}),(function(e){e.success&&(r.push("/app/proposals"),o.props.dispatch(Object(j.vb)("You have successfully submitted your proposal. We will review it and keep you posted.","success")),o.props.dispatch(Object(j.P)()))})))}else r.push("/app/proposals"),o.props.dispatch(Object(j.vb)("You have successfully submitted your proposal. We will review it and keep you posted.","success")),o.props.dispatch(Object(j.P)());else o.props.dispatch(Object(j.P)())})))})),Object(p.a)(Object(i.a)(o),"saveDraft",(function(){o.proposalForm.current.saveDraft(!1)})),Object(p.a)(Object(i.a)(o),"getDraft",(function(e){o.props.dispatch(Object(m.Fb)(e,(function(){o.props.dispatch(Object(j.wb)())}),(function(e){if(o.props.dispatch(Object(j.P)()),e.success){var t,r,n=e.proposal;n.milestones=JSON.parse(n.milestones),n.members=JSON.parse(n.members),n.grants=JSON.parse(n.grants),n.member_required=(null===(t=n.members)||void 0===t?void 0:t.length)>0,n.tags=null===(r=JSON.parse(n.tags))||void 0===r?void 0:r.join(","),n.citations=JSON.parse(n.citations),n.include_membership=+n.include_membership,console.log(n),o.setState({proposal:n,checkedDraft:!0})}})))})),Object(p.a)(Object(i.a)(o),"saveDone",(function(){o.setState({isSaved:!0}),setTimeout((function(){o.setState({isSaved:!1})}),3e3)})),o.state={proposal:null,checkedDraft:!1,isSaved:!1},o.proposalForm=f.a.createRef(),o}return Object(a.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.location.search,t=v.a.parse(e,{ignoreQueryPrefix:!0});t.draft?this.getDraft(t.draft):this.setState({checkedDraft:!0})}},{key:"render",value:function(){var e=this.props.authUser;return e&&e.id?e.is_admin?Object(o.jsx)(y.a,{to:"/"}):Object(o.jsxs)("div",{id:"app-new-proposal-page",children:[Object(o.jsxs)("div",{className:"d-flex",style:{marginTop:"50px"},children:[Object(o.jsx)(h.h,{title:"New Proposal",link:"/app/proposals"}),Object(o.jsxs)("div",{className:"ml-3 d-flex align-items-center",style:{marginBottom:"20px"},children:[Object(o.jsx)("button",{className:"mr-2 btn btn-primary less-small",onClick:this.saveDraft,children:"Save and finish later"}),this.state.isSaved&&Object(o.jsx)("span",{children:"save successful!"})]})]}),Object(o.jsxs)("p",{children:["Please read"," ",Object(o.jsx)("a",{href:"https://portal.devxdao.com/guide.pdf",target:"_blank",rel:"noreferrer",className:"dynamic-color",children:Object(o.jsx)("u",{children:"the guide"})})," ","first to understand this form."]}),this.state.checkedDraft&&Object(o.jsx)(b.a,{allowAutoSave:!0,ref:this.proposalForm,proposal:this.state.proposal,onChange:this.create,onSaved:this.saveDone})]}):null}}]),r}(u.Component);t.default=Object(d.b)((function(e){return{authUser:e.global.authUser}}))(Object(y.g)(w))},QSc6:function(e,t,r){"use strict";var o=r("0jNN"),n=r("sxOR"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,r,n,a,i,s,l,p,u,f,d,y){var b=t;if("function"===typeof l)b=l(r,b);else if(b instanceof Date)b=f(b);else if(null===b){if(a)return s&&!y?s(r,c.encoder):r;b=""}if("string"===typeof b||"number"===typeof b||"boolean"===typeof b||o.isBuffer(b))return s?[d(y?r:s(r,c.encoder))+"="+d(s(b,c.encoder))]:[d(r)+"="+d(String(b))];var h,j=[];if("undefined"===typeof b)return j;if(Array.isArray(l))h=l;else{var m=Object.keys(b);h=p?m.sort(p):m}for(var O=0;O<h.length;++O){var v=h[O];i&&null===b[v]||(j=Array.isArray(b)?j.concat(e(b[v],n(r,v),n,a,i,s,l,p,u,f,d,y)):j.concat(e(b[v],r+(u?"."+v:"["+v+"]"),n,a,i,s,l,p,u,f,d,y)))}return j};e.exports=function(e,t){var r=e,i=t?o.assign({},t):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!==typeof i.encoder)throw new TypeError("Encoder has to be a function.");var l="undefined"===typeof i.delimiter?c.delimiter:i.delimiter,p="boolean"===typeof i.strictNullHandling?i.strictNullHandling:c.strictNullHandling,u="boolean"===typeof i.skipNulls?i.skipNulls:c.skipNulls,f="boolean"===typeof i.encode?i.encode:c.encode,d="function"===typeof i.encoder?i.encoder:c.encoder,y="function"===typeof i.sort?i.sort:null,b="undefined"!==typeof i.allowDots&&i.allowDots,h="function"===typeof i.serializeDate?i.serializeDate:c.serializeDate,j="boolean"===typeof i.encodeValuesOnly?i.encodeValuesOnly:c.encodeValuesOnly;if("undefined"===typeof i.format)i.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,i.format))throw new TypeError("Unknown format option provided.");var m,O,v=n.formatters[i.format];"function"===typeof i.filter?r=(O=i.filter)("",r):Array.isArray(i.filter)&&(m=O=i.filter);var g,w=[];if("object"!==typeof r||null===r)return"";g=i.arrayFormat in a?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var x=a[g];m||(m=Object.keys(r)),y&&m.sort(y);for(var D=0;D<m.length;++D){var N=m[D];u&&null===r[N]||(w=w.concat(s(r[N],N,x,p,u,f?d:null,O,y,b,h,v,j)))}var A=w.join(l),S=!0===i.addQueryPrefix?"?":"";return A.length>0?S+A:""}},Qyje:function(e,t,r){"use strict";var o=r("QSc6"),n=r("nmq7"),a=r("sxOR");e.exports={formats:a,parse:n,stringify:o}},nmq7:function(e,t,r){"use strict";var o=r("0jNN"),n=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(o),c=i?o.slice(0,i.index):o,s=[];if(c){if(!r.plainObjects&&n.call(Object.prototype,c)&&!r.allowPrototypes)return;s.push(c)}for(var l=0;null!==(i=a.exec(o))&&l<r.depth;){if(l+=1,!r.plainObjects&&n.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(i[1])}return i&&s.push("["+o.slice(i.index)+"]"),function(e,t,r){for(var o=t,n=e.length-1;n>=0;--n){var a,i=e[n];if("[]"===i)a=(a=[]).concat(o);else{a=r.plainObjects?Object.create(null):{};var c="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,s=parseInt(c,10);!isNaN(s)&&i!==c&&String(s)===c&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[])[s]=o:a[c]=o}o=a}return o}(s,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"===typeof r.depth?r.depth:a.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var c="string"===typeof e?function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,c=o.split(t.delimiter,i),s=0;s<c.length;++s){var l,p,u=c[s],f=u.indexOf("]="),d=-1===f?u.indexOf("="):f+1;-1===d?(l=t.decoder(u,a.decoder),p=t.strictNullHandling?null:""):(l=t.decoder(u.slice(0,d),a.decoder),p=t.decoder(u.slice(d+1),a.decoder)),n.call(r,l)?r[l]=[].concat(r[l]).concat(p):r[l]=p}return r}(e,r):e,s=r.plainObjects?Object.create(null):{},l=Object.keys(c),p=0;p<l.length;++p){var u=l[p],f=i(u,c[u],r);s=o.merge(s,f,r)}return o.compact(s)}},sxOR:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}}]);