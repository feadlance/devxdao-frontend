(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{"8L3F":function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function c(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:a(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),u=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?u:d||u}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function h(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,c=document.createRange();c.setStart(r,0),c.setEnd(i,0);var o=c.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(o)?o:p(o);var s=m(e);return s.host?h(s.host,t):h(e,m(t).host)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,c=e.ownerDocument.scrollingElement||i;return c[n]}return e[n]}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=b(t,"top"),i=b(t,"left"),c=n?-1:1;return e.top+=r*c,e.bottom+=r*c,e.left+=i*c,e.right+=i*c,e}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function O(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:O("Height",t,n,r),width:O("Width",t,n,r)}}var x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function w(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=b(e,"top"),r=b(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},c="HTML"===e.nodeName?g(e.ownerDocument):{},s=c.width||e.clientWidth||i.width,a=c.height||e.clientHeight||i.height,l=e.offsetWidth-s,d=e.offsetHeight-a;if(l||d){var u=o(e);l-=v(u,"x"),d-=v(u,"y"),i.width-=l,i.height-=d}return _(i)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,c=w(e),s=w(t),l=a(e),d=o(t),u=parseFloat(d.borderTopWidth),p=parseFloat(d.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var m=_({top:c.top-s.top-u,left:c.left-s.left-p,width:c.width,height:c.height});if(m.marginTop=0,m.marginLeft=0,!r&&i){var h=parseFloat(d.marginTop),b=parseFloat(d.marginLeft);m.top-=u-h,m.bottom-=u-h,m.left-=p-b,m.right-=p-b,m.marginTop=h,m.marginLeft=b}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(m=j(m,t)),m}function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=T(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),c=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:b(n),s=t?0:b(n,"left"),a={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:c};return _(a)}function E(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&E(n)}function S(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function C(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c={top:0,left:0},o=i?S(e):h(e,l(t));if("viewport"===r)c=z(o,i);else{var d=void 0;"scrollParent"===r?"BODY"===(d=a(s(t))).nodeName&&(d=e.ownerDocument.documentElement):d="window"===r?e.ownerDocument.documentElement:r;var u=T(d,o,i);if("HTML"!==d.nodeName||E(o))c=u;else{var f=g(e.ownerDocument),p=f.height,m=f.width;c.top+=u.top-u.marginTop,c.bottom=p+u.top,c.left+=u.left-u.marginLeft,c.right=m+u.left}}var b="number"===typeof(n=n||0);return c.left+=b?n:n.left||0,c.top+=b?n:n.top||0,c.right-=b?n:n.right||0,c.bottom-=b?n:n.bottom||0,c}function R(e){return e.width*e.height}function M(e,t,n,r,i){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=C(n,r,c,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},a=Object.keys(s).map((function(e){return k({key:e},s[e],{area:R(s[e])})})).sort((function(e,t){return t.area-e.area})),l=a.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),d=l.length>0?l[0].key:a[0].key,u=e.split("-")[1];return d+(u?"-"+u:"")}function H(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?S(t):h(t,l(n));return T(n,i,r)}function D(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var r=D(e),i={width:r.width,height:r.height},c=-1!==["right","left"].indexOf(n),o=c?"top":"left",s=c?"left":"top",a=c?"height":"width",l=c?"width":"height";return i[o]=t[o]+t[a]/2-r[a]/2,i[s]=n===s?t[s]-r[l]:t[L(s)],i}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=I(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&c(n)&&(t.offsets.popper=_(t.offsets.popper),t.offsets.reference=_(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=H(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function V(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],c=i?""+i+n:e;if("undefined"!==typeof document.body.style[c])return c}return null}function A(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){var i="BODY"===e.nodeName,c=i?e.ownerDocument.defaultView:e;c.addEventListener(t,n,{passive:!0}),i||W(a(c.parentNode),t,n,r),r.push(c)}function $(e,t,n,r){n.updateBound=r,Y(e).addEventListener("resize",n.updateBound,{passive:!0});var i=a(e);return W(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function q(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}function Q(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Y(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function G(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&G(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var J=n&&/Firefox/i.test(navigator.userAgent);function K(e,t,n){var r=I(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var c="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+c+" modifier in order to work, be sure to include it before "+c+"!")}return i}var Z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=Z.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",ie="counterclockwise";function ce(e,t,n,r){var i=[0,0],c=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(I(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,l=-1!==s?[o.slice(0,s).concat([o[s].split(a)[0]]),[o[s].split(a)[1]].concat(o.slice(s+1))]:[o];return(l=l.map((function(e,r){var i=(1===r?!c:c)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),c=+i[1],o=i[2];if(!c)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return _(s)[t]/100*c}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*c;return c}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){G(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,c=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),a=s?"left":"top",l=s?"width":"height",d={start:N({},a,c[a]),end:N({},a,c[a]+c[l]-o[l])};e.offsets.popper=k({},o,d[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,c=i.popper,o=i.reference,s=r.split("-")[0],a=void 0;return a=G(+n)?[+n,0]:ce(n,c,o,s),"left"===s?(c.top+=a[0],c.left-=a[1]):"right"===s?(c.top+=a[0],c.left+=a[1]):"top"===s?(c.left+=a[0],c.top-=a[1]):"bottom"===s&&(c.left+=a[0],c.top+=a[1]),e.popper=c,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=U("transform"),i=e.instance.popper.style,c=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var a=C(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=c,i.left=o,i[r]=s,t.boundaries=a;var l=t.priority,d=e.offsets.popper,u={primary:function(e){var n=d[e];return d[e]<a[e]&&!t.escapeWithReference&&(n=Math.max(d[e],a[e])),N({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=d[n];return d[e]>a[e]&&!t.escapeWithReference&&(r=Math.min(d[n],a[e]-("right"===e?d.width:d.height))),N({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=k({},d,u[t](e))})),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],c=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",a=o?"left":"top",l=o?"width":"height";return n[s]<c(r[a])&&(e.offsets.popper[a]=c(r[a])-n[l]),n[a]>c(r[s])&&(e.offsets.popper[a]=c(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!K(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],c=e.offsets,s=c.popper,a=c.reference,l=-1!==["left","right"].indexOf(i),d=l?"height":"width",u=l?"Top":"Left",f=u.toLowerCase(),p=l?"left":"top",m=l?"bottom":"right",h=D(r)[d];a[m]-h<s[f]&&(e.offsets.popper[f]-=s[f]-(a[m]-h)),a[f]+h>s[m]&&(e.offsets.popper[f]+=a[f]+h-s[m]),e.offsets.popper=_(e.offsets.popper);var b=a[f]+a[d]/2-h/2,j=o(e.instance.popper),v=parseFloat(j["margin"+u]),O=parseFloat(j["border"+u+"Width"]),g=b-e.offsets.popper[f]-v-O;return g=Math.max(Math.min(s[d]-h,g),0),e.arrowElement=r,e.offsets.arrow=(N(n={},f,Math.round(g)),N(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(V(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=L(r),c=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ne:o=[r,i];break;case re:o=te(r);break;case ie:o=te(r,!0);break;default:o=t.behavior}return o.forEach((function(s,a){if(r!==s||o.length===a+1)return e;r=e.placement.split("-")[0],i=L(r);var l=e.offsets.popper,d=e.offsets.reference,u=Math.floor,f="left"===r&&u(l.right)>u(d.left)||"right"===r&&u(l.left)<u(d.right)||"top"===r&&u(l.bottom)>u(d.top)||"bottom"===r&&u(l.top)<u(d.bottom),p=u(l.left)<u(n.left),m=u(l.right)>u(n.right),h=u(l.top)<u(n.top),b=u(l.bottom)>u(n.bottom),j="left"===r&&p||"right"===r&&m||"top"===r&&h||"bottom"===r&&b,v=-1!==["top","bottom"].indexOf(r),O=!!t.flipVariations&&(v&&"start"===c&&p||v&&"end"===c&&m||!v&&"start"===c&&h||!v&&"end"===c&&b),g=!!t.flipVariationsByContent&&(v&&"start"===c&&m||v&&"end"===c&&p||!v&&"start"===c&&b||!v&&"end"===c&&h),x=O||g;(f||j||x)&&(e.flipped=!0,(f||j)&&(r=o[a+1]),x&&(c=function(e){return"end"===e?"start":"start"===e?"end":e}(c)),e.placement=r+(c?"-"+c:""),e.offsets.popper=k({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,c=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=c[n]-(s?i[o?"width":"height"]:0),e.placement=L(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,c=I(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==c&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==c?c:t.gpuAcceleration,s=p(e.instance.popper),a=w(s),l={position:i.position},d=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,c=Math.round,o=Math.floor,s=function(e){return e},a=c(i.width),l=c(r.width),d=-1!==["left","right"].indexOf(e.placement),u=-1!==e.placement.indexOf("-"),f=t?d||u||a%2===l%2?c:o:s,p=t?c:s;return{left:f(a%2===1&&l%2===1&&!u&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!J),u="bottom"===n?"top":"bottom",f="right"===r?"left":"right",m=U("transform"),h=void 0,b=void 0;if(b="bottom"===u?"HTML"===s.nodeName?-s.clientHeight+d.bottom:-a.height+d.bottom:d.top,h="right"===f?"HTML"===s.nodeName?-s.clientWidth+d.right:-a.width+d.right:d.left,o&&m)l[m]="translate3d("+h+"px, "+b+"px, 0)",l[u]=0,l[f]=0,l.willChange="transform";else{var j="bottom"===u?-1:1,v="right"===f?-1:1;l[u]=b*j,l[f]=h*v,l.willChange=u+", "+f}var O={"x-placement":e.placement};return e.attributes=k({},O,e.attributes),e.styles=k({},l,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return X(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&X(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var c=H(i,t,e,n.positionFixed),o=M(n.placement,c,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),X(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=k({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&c(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return y(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return A.call(this)}},{key:"enableEventListeners",value:function(){return q.call(this)}},{key:"disableEventListeners",value:function(){return Q.call(this)}}]),e}();se.Utils=("undefined"!==typeof window?window:e).PopperUtils,se.placements=Z,se.Defaults=oe,t.a=se}).call(this,n("yLpj"))},XxLS:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),i=n("1OyB"),c=n("vuIU"),o=n("Ji7U"),s=n("md7G"),a=n("foSv"),l=n("q1tI"),d=n.n(l),u=n("/MKj"),f=n("Ty5D"),p=n("s/m+"),m=n("KQm4"),h=n("JX7q"),b=n("rePB"),j=n("17x9"),v=n.n(j);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var x=Object(l.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,c=void 0===i?24:i,o=g(e,["color","size"]);return d.a.createElement("svg",O({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),d.a.createElement("polyline",{points:"20 6 9 17 4 12"}))}));x.propTypes={color:v.a.string,size:v.a.oneOfType([v.a.string,v.a.number])},x.displayName="Check";var y=x,N=n("wHH0"),k=n("Cup8"),_=n("I6fM"),w=n("wx14"),T=n("ODXe"),z=n("Ff2n"),E=n("i8i4"),S=n("iuhU"),C=n("2+6g"),R=n("ye/S"),M=n("H2TA"),H=n("NqtD"),D=n("bqsI"),L=n("8L3F"),F=n("aXM8"),I=n("GIek"),P=n("bfFb");var B="undefined"!==typeof window?l.useLayoutEffect:l.useEffect;var V=l.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,c=void 0!==i&&i,o=e.onRendered,s=l.useState(null),a=s[0],d=s[1],u=Object(P.a)(l.isValidElement(n)?n.ref:null,t);return B((function(){c||d(function(e){return e="function"===typeof e?e():e,E.findDOMNode(e)}(r)||document.body)}),[r,c]),B((function(){if(a&&!c)return Object(I.a)(t,a),function(){Object(I.a)(t,null)}}),[t,a,c]),B((function(){o&&(a||c)&&o()}),[o,a,c]),c?l.isValidElement(n)?l.cloneElement(n,{ref:u}):n:a?E.createPortal(n,a):a})),U=n("x6Ns");function A(e){return"function"===typeof e?e():e}var Y="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,W={},$=l.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,i=e.container,c=e.disablePortal,o=void 0!==c&&c,s=e.keepMounted,a=void 0!==s&&s,d=e.modifiers,u=e.open,f=e.placement,p=void 0===f?"bottom":f,m=e.popperOptions,h=void 0===m?W:m,b=e.popperRef,j=e.style,v=e.transition,O=void 0!==v&&v,g=Object(z.a)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),x=l.useRef(null),y=Object(P.a)(x,t),N=l.useRef(null),k=Object(P.a)(N,b),_=l.useRef(k);Y((function(){_.current=k}),[k]),l.useImperativeHandle(b,(function(){return N.current}),[]);var T=l.useState(!0),E=T[0],S=T[1],C=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,Object(F.a)()),R=l.useState(C),M=R[0],H=R[1];l.useEffect((function(){N.current&&N.current.update()}));var D=l.useCallback((function(){if(x.current&&n&&u){N.current&&(N.current.destroy(),_.current(null));var e=function(e){H(e.placement)},t=(A(n),new L.a(A(n),x.current,Object(w.a)({placement:C},h,{modifiers:Object(w.a)({},o?{}:{preventOverflow:{boundariesElement:"window"}},d,h.modifiers),onCreate:Object(U.a)(e,h.onCreate),onUpdate:Object(U.a)(e,h.onUpdate)})));_.current(t)}}),[n,o,d,u,C,h]),B=l.useCallback((function(e){Object(I.a)(y,e),D()}),[y,D]),$=function(){N.current&&(N.current.destroy(),_.current(null))};if(l.useEffect((function(){return function(){$()}}),[]),l.useEffect((function(){u||O||$()}),[u,O]),!a&&!u&&(!O||E))return null;var q={placement:M};return O&&(q.TransitionProps={in:u,onEnter:function(){S(!1)},onExited:function(){S(!0),$()}}),l.createElement(V,{disablePortal:o,container:i},l.createElement("div",Object(w.a)({ref:B,role:"tooltip"},g,{style:Object(w.a)({position:"fixed",top:0,left:0,display:u||!a||O?null:"none"},j)}),"function"===typeof r?r(q):r))}));var q=n("G7As"),Q=n("yCxk"),G=n("tr08");function X(e){return Math.round(1e5*e)/1e5}var J=!1,K=null;var Z=l.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.children,c=e.classes,o=e.disableFocusListener,s=void 0!==o&&o,a=e.disableHoverListener,d=void 0!==a&&a,u=e.disableTouchListener,f=void 0!==u&&u,p=e.enterDelay,m=void 0===p?100:p,h=e.enterNextDelay,b=void 0===h?0:h,j=e.enterTouchDelay,v=void 0===j?700:j,O=e.id,g=e.interactive,x=void 0!==g&&g,y=e.leaveDelay,N=void 0===y?0:y,k=e.leaveTouchDelay,_=void 0===k?1500:k,R=e.onClose,M=e.onOpen,L=e.open,F=e.placement,B=void 0===F?"bottom":F,V=e.PopperComponent,U=void 0===V?$:V,A=e.PopperProps,Y=e.title,W=e.TransitionComponent,X=void 0===W?D.a:W,Z=e.TransitionProps,ee=Object(z.a)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),te=Object(G.a)(),ne=l.useState(),re=ne[0],ie=ne[1],ce=l.useState(null),oe=ce[0],se=ce[1],ae=l.useRef(!1),le=l.useRef(),de=l.useRef(),ue=l.useRef(),fe=l.useRef(),pe=Object(Q.a)({controlled:L,default:!1,name:"Tooltip",state:"open"}),me=Object(T.a)(pe,2),he=me[0],be=me[1],je=he,ve=function(e){var t=l.useState(e),n=t[0],r=t[1],i=e||n;return l.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}(O);l.useEffect((function(){return function(){clearTimeout(le.current),clearTimeout(de.current),clearTimeout(ue.current),clearTimeout(fe.current)}}),[]);var Oe=function(e){clearTimeout(K),J=!0,be(!0),M&&M(e)},ge=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=i.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),ae.current&&"touchstart"!==t.type||(re&&re.removeAttribute("title"),clearTimeout(de.current),clearTimeout(ue.current),m||J&&b?(t.persist(),de.current=setTimeout((function(){Oe(t)}),J?b:m)):Oe(t))}},xe=Object(q.a)(),ye=xe.isFocusVisible,Ne=xe.onBlurVisible,ke=xe.ref,_e=l.useState(!1),we=_e[0],Te=_e[1],ze=function(){we&&(Te(!1),Ne())},Ee=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){re||ie(t.currentTarget),ye(t)&&(Te(!0),ge()(t));var n=i.props;n.onFocus&&e&&n.onFocus(t)}},Se=function(e){clearTimeout(K),K=setTimeout((function(){J=!1}),800+N),be(!1),R&&R(e),clearTimeout(le.current),le.current=setTimeout((function(){ae.current=!1}),te.transitions.duration.shortest)},Ce=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=i.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),ze()),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===re&&n.onMouseLeave(t),clearTimeout(de.current),clearTimeout(ue.current),t.persist(),ue.current=setTimeout((function(){Se(t)}),N)}},Re=function(e){ae.current=!0;var t=i.props;t.onTouchStart&&t.onTouchStart(e)},Me=Object(P.a)(ie,t),He=Object(P.a)(ke,Me),De=l.useCallback((function(e){Object(I.a)(He,E.findDOMNode(e))}),[He]),Le=Object(P.a)(i.ref,De);""===Y&&(je=!1);var Fe=!je&&!d,Ie=Object(w.a)({"aria-describedby":je?ve:null,title:Fe&&"string"===typeof Y?Y:null},ee,i.props,{className:Object(S.a)(ee.className,i.props.className),onTouchStart:Re,ref:Le}),Pe={};f||(Ie.onTouchStart=function(e){Re(e),clearTimeout(ue.current),clearTimeout(le.current),clearTimeout(fe.current),e.persist(),fe.current=setTimeout((function(){ge()(e)}),v)},Ie.onTouchEnd=function(e){i.props.onTouchEnd&&i.props.onTouchEnd(e),clearTimeout(fe.current),clearTimeout(ue.current),e.persist(),ue.current=setTimeout((function(){Se(e)}),_)}),d||(Ie.onMouseOver=ge(),Ie.onMouseLeave=Ce(),x&&(Pe.onMouseOver=ge(!1),Pe.onMouseLeave=Ce(!1))),s||(Ie.onFocus=Ee(),Ie.onBlur=Ce(),x&&(Pe.onFocus=Ee(!1),Pe.onBlur=Ce(!1)));var Be=l.useMemo((function(){return Object(C.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(oe),element:oe}}}},A)}),[oe,A]);return l.createElement(l.Fragment,null,l.cloneElement(i,Ie),l.createElement(U,Object(w.a)({className:Object(S.a)(c.popper,x&&c.popperInteractive,r&&c.popperArrow),placement:B,anchorEl:re,open:!!re&&je,id:Ie["aria-describedby"],transition:!0},Pe,Be),(function(e){var t=e.placement,n=e.TransitionProps;return l.createElement(X,Object(w.a)({timeout:te.transitions.duration.shorter},n,Z),l.createElement("div",{className:Object(S.a)(c.tooltip,c["tooltipPlacement".concat(Object(H.a)(t.split("-")[0]))],ae.current&&c.touch,r&&c.tooltipArrow)},Y,r?l.createElement("span",{className:c.arrow,ref:se}):null))})))})),ee=Object(M.a)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:Object(R.c)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(X(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Object(R.c)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(X(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:Object(b.a)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(b.a)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(b.a)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(b.a)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(Z),te=n("e+cM"),ne=n("LADp"),re=n("ZpDd"),ie=(n("O1Ha"),n("YW6W"));function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(a.a)(e);if(t){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var oe=n("wd/R"),se=function(e){Object(o.a)(n,e);var t=ce(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,e),Object(b.a)(Object(h.a)(r),"trackScroll",(function(){r.$elem&&r.$elem.scrollTop+r.$elem.clientHeight>=r.$elem.scrollHeight&&r.runNextPage()})),Object(b.a)(Object(h.a)(r),"handleSearch",(function(e){r.setState({search:e.target.value},(function(){r.timer&&(clearTimeout(r.timer),r.timer=null),r.timer=setTimeout((function(){r.reloadTable()}),500)}))})),r.state={loading:!1,votes:[],sort_key:"vote.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1},r.$elem=null,r.timer=null,r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.informalBallotTableStatus;!e.informalBallotTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(re.fb)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-active-informal-votes-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,r=t.loading,i=t.finished,c=t.page_id;n||r||i||this.setState({page_id:c+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,r=n.calling,i=n.loading,c=n.finished,o=n.sort_key,s=n.sort_direction,a=n.search,l=n.page_id,d=n.votes;if(!(i||r||c)){var u={sort_key:o,sort_direction:s,search:a,page_id:l};this.props.dispatch(Object(ne.P)(u,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.votes||[],r=t.finished||!1;e.setState({loading:!1,calling:!1,finished:r,votes:[].concat(Object(m.a)(d),Object(m.a)(n))})})))}}},{key:"clickRow",value:function(e){var t=this.props,n=t.authUser,r=t.history;n.is_guest?(this.props.dispatch(Object(re.Y)({"voting-access-alert":{render:!0,title:"Sorry, you can't access a live vote."}})),this.props.dispatch(Object(re.R)("custom-global-modal"))):r.push("/app/proposal/".concat(e.proposal_id))}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,i=t.sort_direction;return n!=e?Object(r.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==i?Object(r.jsx)("span",{children:"\u25b2"}):Object(r.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,r=n.sort_key,i=n.sort_direction;r==e?i="asc"==i?"desc":"asc":(r=e,i="desc"),this.setState({sort_key:r,sort_direction:i},(function(){t.reloadTable()}))}},{key:"renderQuorum",value:function(e){var t=this.props,n=t.authUser,i=t.settings,c=0;if("simple"===e.content_type?c=+i.quorum_rate_simple:"grant"===e.content_type?c=+i.quorum_rate:"milestone"===e.content_type&&(c=+i.quorum_rate_milestone),c){var o=+e.result_count/+n.totalMembers>=+c/100;return Object(r.jsxs)("div",{className:"font-size-14",children:[Object(r.jsx)("label",{children:e.result_count})," /"," ",Object(r.jsx)("label",{className:"pr-2",children:n.totalMembers}),o?Object(r.jsx)(y,{size:"14"}):Object(r.jsx)(N.a,{size:"14"})]})}}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,n=null;return n=t&&t.is_member?Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(r.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("vote.created_at")]}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}):Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsxs)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("vote.created_at")]}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}),Object(r.jsx)("div",{className:"infinite-header",children:Object(r.jsx)("div",{className:"infinite-headerInner",children:n})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(r.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(r.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(r.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderTitle",value:function(e){return e.title}},{key:"renderTooltip",value:function(){return Object(r.jsx)(l.Fragment,{children:Object(r.jsx)("p",{className:"font-size-13",children:"This area displays informal votes currently in progress. If you are a Voting Associate, you should review and vote."})})}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,n=this.props,i=n.authUser,c=n.settings,o=[];return t&&t.length?(t.forEach((function(t,n){var s=0;"grant"==t.content_type?c.time_unit_informal&&c.time_informal&&("min"==c.time_unit_informal?s=parseInt(c.time_informal):"hour"==c.time_unit_informal?s=60*parseInt(c.time_informal):"day"==c.time_unit_informal&&(s=24*parseInt(c.time_informal)*60)):"simple"==t.content_type?c.time_unit_simple&&c.time_simple&&("min"==c.time_unit_simple?s=parseInt(c.time_simple):"hour"==c.time_unit_simple?s=60*parseInt(c.time_simple):"day"==c.time_unit_simple&&(s=24*parseInt(c.time_simple)*60)):"milestone"==t.content_type&&c.time_unit_milestone&&c.time_milestone&&("min"==c.time_unit_milestone?s=parseInt(c.time_milestone):"hour"==c.time_unit_milestone?s=60*parseInt(c.time_milestone):"day"==c.time_unit_milestone&&(s=24*parseInt(c.time_milestone)*60));var a=0,l=0,d=0,u=oe(t.created_at).add(s,"minutes").diff(oe(),"minutes");u>0&&(a=u%60,l=parseInt(u/60),d=parseInt(l/24),l%=24),i&&i.is_member?o.push(Object(r.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:e.renderMyVote(t)}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:e.renderRep(t)}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsxs)("div",{className:"vote-clock-wrap",children:[Object(r.jsx)(k.a,{size:14,color:"#ffffff"}),Object(r.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(l,"H:").concat(a,"MIN")})]})}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderQuorum(t)})}),Object(r.jsx)("div",{className:"c-col-8 c-cols",children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[oe(t.created_at).local().format("M/D/YYYY")," ",oe(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(n))):o.push(Object(r.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsxs)("div",{className:"vote-clock-wrap",children:[Object(r.jsx)(k.a,{size:14,color:"#ffffff"}),Object(r.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(l,"H:").concat(a,"MIN")})]})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderQuorum(t)})}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[oe(t.created_at).local().format("M/D/YYYY")," ",oe(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(n)))})),Object(r.jsx)("ul",{children:o})):Object(r.jsx)("div",{id:"infinite-no-result",children:Object(r.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,n=t.loading,i=t.search,c=e&&e.is_member?"member":"";return c+=" app-infinite-box",Object(r.jsx)(p.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(r.jsxs)("section",{id:"app-active-informal-votes-section",className:c,children:[Object(r.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(r.jsx)("label",{children:"Active Informal Votes"}):Object(r.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(r.jsx)("label",{children:"Active Informal Votes"}),Object(r.jsx)(ee,{title:this.renderTooltip(),placement:"right-end",children:Object(r.jsx)(_.a,{size:16})})]}),Object(r.jsx)("input",{type:"text",value:i,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(r.jsx)("div",{className:"infinite-content",children:Object(r.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(r.jsx)("div",{className:"infinite-body",id:"app-active-informal-votes-sectionBody",children:n?Object(r.jsx)(te.e,{}):this.renderVotes()})]})})]})})}}]),n}(l.Component),ae=Object(u.b)((function(e){return{authUser:e.global.authUser,informalBallotTableStatus:e.admin.informalBallotTableStatus,settings:e.global.settings}}))(Object(f.g)(se));n("DZqd");function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(a.a)(e);if(t){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var de=n("wd/R"),ue=function(e){Object(o.a)(n,e);var t=le(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,e),Object(b.a)(Object(h.a)(r),"trackScroll",(function(){r.$elem&&r.$elem.scrollTop+r.$elem.clientHeight>=r.$elem.scrollHeight&&r.runNextPage()})),Object(b.a)(Object(h.a)(r),"handleSearch",(function(e){r.setState({search:e.target.value},(function(){r.timer&&(clearTimeout(r.timer),r.timer=null),r.timer=setTimeout((function(){r.reloadTable()}),500)}))})),r.state={loading:!1,votes:[],sort_key:"vote.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1},r.$elem=null,r.timer=null,r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"componentDidUpdate",value:function(e){var t=this.props.formalBallotTableStatus;!e.formalBallotTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(re.cb)(!1)))}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-active-formal-votes-sectionBody"),this.$elem&&this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,r=t.loading,i=t.finished,c=t.page_id;n||r||i||this.setState({page_id:c+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,r=n.calling,i=n.loading,c=n.finished,o=n.sort_key,s=n.sort_direction,a=n.search,l=n.page_id,d=n.votes;if(!(i||r||c)){var u={sort_key:o,sort_direction:s,search:a,page_id:l};this.props.dispatch(Object(ne.O)(u,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.votes||[],r=t.finished||!1;e.setState({loading:!1,calling:!1,finished:r,votes:[].concat(Object(m.a)(d),Object(m.a)(n))})})))}}},{key:"clickRow",value:function(e){var t=this.props,n=t.authUser,r=t.history;n.is_guest?(this.props.dispatch(Object(re.Y)({"voting-access-alert":{render:!0,title:"Sorry, you can't access a live vote."}})),this.props.dispatch(Object(re.R)("custom-global-modal"))):r.push("/app/proposal/".concat(e.proposal_id))}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,i=t.sort_direction;return n!=e?Object(r.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==i?Object(r.jsx)("span",{children:"\u25b2"}):Object(r.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,r=n.sort_key,i=n.sort_direction;r==e?i="asc"==i?"desc":"asc":(r=e,i="desc"),this.setState({sort_key:r,sort_direction:i},(function(){t.reloadTable()}))}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,n=null;return n=t&&t.is_member?Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(r.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("vote.created_at")]}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}):Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsxs)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Time Left"}),this.renderTriangle("vote.created_at")]}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickHeader("vote.created_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Submitted"}),this.renderTriangle("vote.created_at")]})]}),Object(r.jsx)("div",{className:"infinite-header",children:Object(r.jsx)("div",{className:"infinite-headerInner",children:n})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(r.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(r.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(r.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderTitle",value:function(e){return e.title}},{key:"renderTooltip",value:function(){return Object(r.jsx)(l.Fragment,{children:Object(r.jsx)("p",{className:"font-size-13",children:"This area displays formal votes currently in progress. If you are a Voting Associate, you should review and vote."})})}},{key:"renderQuorum",value:function(e){var t=this.props.settings,n=0;if("simple"===e.content_type?n=+t.quorum_rate_simple:"grant"===e.content_type?n=+t.quorum_rate:"milestone"===e.content_type&&(n=+t.quorum_rate_milestone),n){var i=+e.result_count/+e.total_member>=+n/100;return Object(r.jsxs)("div",{className:"font-size-14",children:[Object(r.jsx)("label",{children:e.result_count})," /"," ",Object(r.jsx)("label",{className:"pr-2",children:e.total_member}),i?Object(r.jsx)(y,{size:"14"}):Object(r.jsx)(N.a,{size:"14"})]})}}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,n=this.props,i=n.authUser,c=n.settings,o=[];return t&&t.length?(t.forEach((function(t,n){var s=0;"grant"==t.content_type?c.time_unit_formal&&c.time_formal&&("min"==c.time_unit_formal?s=parseInt(c.time_formal):"hour"==c.time_unit_formal?s=60*parseInt(c.time_formal):"day"==c.time_unit_formal&&(s=24*parseInt(c.time_formal)*60)):"simple"==t.content_type?c.time_unit_simple&&c.time_simple&&("min"==c.time_unit_simple?s=parseInt(c.time_simple):"hour"==c.time_unit_simple?s=60*parseInt(c.time_simple):"day"==c.time_unit_simple&&(s=24*parseInt(c.time_simple)*60)):"milestone"==t.content_type&&c.time_unit_milestone&&c.time_milestone&&("min"==c.time_unit_milestone?s=parseInt(c.time_milestone):"hour"==c.time_unit_milestone?s=60*parseInt(c.time_milestone):"day"==c.time_unit_milestone&&(s=24*parseInt(c.time_milestone)*60));var a=0,l=0,d=0,u=de(t.created_at).add(s,"minutes").diff(de(),"minutes");u>0&&(a=u%60,l=parseInt(u/60),d=parseInt(l/24),l%=24),i&&i.is_member?o.push(Object(r.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:e.renderMyVote(t)}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:e.renderRep(t)}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsxs)("div",{className:"vote-clock-wrap",children:[Object(r.jsx)(k.a,{size:14,color:"#ffffff"}),Object(r.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(l,"H:").concat(a,"MIN")})]})}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:e.renderQuorum(t)}),Object(r.jsx)("div",{className:"c-col-8 c-cols",children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[de(t.created_at).local().format("M/D/YYYY")," ",de(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(n))):o.push(Object(r.jsx)("li",{onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsxs)("div",{className:"vote-clock-wrap",children:[Object(r.jsx)(k.a,{size:14,color:"#ffffff"}),Object(r.jsx)("p",{className:"font-size-12",children:"".concat(d,"D:").concat(l,"H:").concat(a,"MIN")})]})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:e.renderQuorum(t)})}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[de(t.created_at).local().format("M/D/YYYY")," ",de(t.created_at).local().format("h:mm A")]})})]})},"vote_".concat(n)))})),Object(r.jsx)("ul",{children:o})):Object(r.jsx)("div",{id:"infinite-no-result",children:Object(r.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,n=t.loading,i=t.search,c=e&&e.is_member?"member":"";return c+=" app-infinite-box",Object(r.jsx)(p.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(r.jsxs)("section",{id:"app-active-formal-votes-section",className:c,children:[Object(r.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(r.jsx)("label",{children:"Active Formal Votes"}):Object(r.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(r.jsx)("label",{children:"Active Formal Votes"}),Object(r.jsx)(ee,{title:this.renderTooltip(),placement:"right-end",children:Object(r.jsx)(_.a,{size:16})})]}),Object(r.jsx)("input",{type:"text",value:i,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(r.jsx)("div",{className:"infinite-content",children:Object(r.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(r.jsx)("div",{className:"infinite-body",id:"app-active-formal-votes-sectionBody",children:n?Object(r.jsx)(te.e,{}):this.renderVotes()})]})})]})})}}]),n}(l.Component),fe=Object(u.b)((function(e){return{authUser:e.global.authUser,formalBallotTableStatus:e.admin.formalBallotTableStatus,settings:e.global.settings}}))(Object(f.g)(ue));n("gTb6");function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(a.a)(e);if(t){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var me=n("wd/R"),he=function(e){Object(o.a)(n,e);var t=pe(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,e),Object(b.a)(Object(h.a)(r),"trackScroll",(function(){r.$elem&&r.$elem.scrollTop+r.$elem.clientHeight>=r.$elem.scrollHeight&&r.runNextPage()})),Object(b.a)(Object(h.a)(r),"handleSearch",(function(e){r.setState({search:e.target.value},(function(){r.timer&&(clearTimeout(r.timer),r.timer=null),r.timer=setTimeout((function(){r.reloadTable()}),500)}))})),r.state={loading:!1,votes:[],sort_key:"vote.id",sort_direction:"desc",search:"",page_id:1,calling:!1,finished:!1},r.$elem=null,r.timer=null,r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.startTracking(),this.getVotes()}},{key:"componentDidUpdate",value:function(e){var t=this.props.completedVotesTableStatus;!e.completedVotesTableStatus&&t&&(this.reloadTable(),this.props.dispatch(Object(re.X)(!1)))}},{key:"componentWillUnmount",value:function(){this.$elem&&this.$elem.removeEventListener("scroll",this.trackScroll)}},{key:"startTracking",value:function(){this.$elem=document.getElementById("app-completed-votes-sectionBody"),this.$elem.addEventListener("scroll",this.trackScroll)}},{key:"reloadTable",value:function(){var e=this;this.setState({page_id:1,votes:[],finished:!1},(function(){e.getVotes()}))}},{key:"runNextPage",value:function(){var e=this,t=this.state,n=t.calling,r=t.loading,i=t.finished,c=t.page_id;n||r||i||this.setState({page_id:c+1},(function(){e.getVotes(!1)}))}},{key:"getVotes",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.state,r=n.calling,i=n.loading,c=n.finished,o=n.sort_key,s=n.sort_direction,a=n.search,l=n.page_id,d=n.votes;if(!(i||r||c)){var u={sort_key:o,sort_direction:s,search:a,page_id:l};this.props.dispatch(Object(ne.V)(u,(function(){t?e.setState({loading:!0,calling:!0}):e.setState({loading:!1,calling:!0})}),(function(t){var n=t.votes||[],r=t.finished||!1;e.setState({loading:!1,calling:!1,finished:r,votes:[].concat(Object(m.a)(d),Object(m.a)(n))})})))}}},{key:"clickRow",value:function(e){var t=this.props,n=t.authUser,r=t.history;if(n.is_member||n.is_admin||n.is_participant||n.id==e.user_id){var i="/app/proposal/".concat(e.proposal_id,"/informal-vote");"milestone"==e.content_type?i="/app/proposal/".concat(e.proposal_id,"/milestone-vote/").concat(e.id):"formal"==e.type&&(i="/app/proposal/".concat(e.proposal_id,"/formal-vote")),r.push(i)}else this.props.dispatch(Object(re.Y)({"voting-access-alert":{render:!0,title:"Sorry, only voting associates may access a live vote."}})),this.props.dispatch(Object(re.R)("custom-global-modal"))}},{key:"renderTriangle",value:function(e){var t=this.state,n=t.sort_key,i=t.sort_direction;return n!=e?Object(r.jsx)("span",{className:"inactive",children:"\u25b2"}):"asc"==i?Object(r.jsx)("span",{children:"\u25b2"}):Object(r.jsx)("span",{children:"\u25bc"})}},{key:"clickHeader",value:function(e){var t=this,n=this.state,r=n.sort_key,i=n.sort_direction;r==e?i="asc"==i?"desc":"asc":(r=e,i="desc"),this.setState({sort_key:r,sort_direction:i},(function(){t.reloadTable()}))}},{key:"clickRevote",value:function(e){this.props.dispatch(Object(re.Y)({revote:{render:!0,title:"You are restarting this vote",data:e}})),this.props.dispatch(Object(re.R)("custom-global-modal"))}},{key:"renderHeader",value:function(){var e=this,t=this.props.authUser,n=null;return n=t&&t.is_member?Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Type"}),this.renderTriangle("vote.type")]}),Object(r.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"My Vote"})}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Rep"})}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Result"})}),Object(r.jsx)("div",{className:"c-col-8 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Stake For/Against"})}),Object(r.jsx)("div",{className:"c-col-9 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-10 c-cols",onClick:function(){return e.clickHeader("vote.updated_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Completed Date"}),this.renderTriangle("vote.updated_at")]})]}):Object(r.jsxs)(l.Fragment,{children:[Object(r.jsxs)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickHeader("proposal.id")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"#"}),this.renderTriangle("proposal.id")]}),Object(r.jsxs)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickHeader("proposal.title")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Title"}),this.renderTriangle("proposal.title")]}),Object(r.jsxs)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickHeader("vote.type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Type"}),this.renderTriangle("vote.type")]}),Object(r.jsxs)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickHeader("vote.content_type")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Ballot Type"}),this.renderTriangle("vote.content_type")]}),Object(r.jsx)("div",{className:"c-col-4 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Euros"})}),Object(r.jsx)("div",{className:"c-col-5 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Result"})}),Object(r.jsx)("div",{className:"c-col-6 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Stake For/Against"})}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:Object(r.jsx)("label",{className:"font-size-14",children:"Quorum"})}),Object(r.jsxs)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickHeader("vote.updated_at")},children:[Object(r.jsx)("label",{className:"font-size-14",children:"Completed Date"}),this.renderTriangle("vote.updated_at")]})]}),Object(r.jsx)("div",{className:"infinite-header",children:Object(r.jsx)("div",{className:"infinite-headerInner",children:n})})}},{key:"renderMyVote",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):e.vote_result_type?"for"==e.vote_result_type?Object(r.jsx)("a",{className:"btn btn-success extra-small",children:"For"}):Object(r.jsx)("a",{className:"btn btn-danger extra-small",children:"Against"}):Object(r.jsx)("a",{className:"btn btn-primary extra-small",children:"None"})}},{key:"renderRep",value:function(e){return this.props.authUser.id==e.user_id?Object(r.jsx)("label",{className:"font-size-14 d-block",children:"-"}):Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.vote_result_value||0})}},{key:"renderResult",value:function(e){return e.result_count&&"success"==e.result?Object(r.jsx)("label",{className:"font-size-14 color-success d-block",children:"Pass"}):"no-quorum"==e.result?Object(r.jsx)("label",{className:"font-size-14 color-danger d-block",children:"No Quorum"}):Object(r.jsx)("label",{className:"font-size-14 color-danger d-block",children:"Fail"})}},{key:"renderStake",value:function(e){return e.result_count&&"success"==e.result?Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"font-size-14 color-success",children:e.for_value}),"\xa0","/","\xa0",Object(r.jsx)("label",{className:"font-size-14",children:e.against_value})]}):Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{className:"font-size-14",children:e.for_value}),"\xa0","/","\xa0",Object(r.jsx)("label",{className:"font-size-14 color-danger",children:e.against_value})]})}},{key:"renderQuorum",value:function(e){var t=this,n=this.props.authUser;if("no-quorum"==e.result){var i=!1;return(n.is_admin||n.id==e.user_id)&&(i=!0),Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsxs)("div",{className:"font-size-14 color-danger text-nowrap",children:[Object(r.jsx)("label",{children:e.result_count})," /"," ",Object(r.jsx)("label",{children:n.totalMembers})]}),i?Object(r.jsx)("a",{style:{marginLeft:"10px"},className:"btn btn-primary extra-small btn-fluid-small",onClick:function(){return t.clickRevote(e)},children:"Revote"}):null]})}return Object(r.jsxs)("div",{className:"font-size-14 color-success",children:[Object(r.jsx)("label",{children:e.result_count})," /"," ",Object(r.jsx)("label",{children:n.totalMembers})]})}},{key:"renderTitle",value:function(e){return e.title}},{key:"renderTooltip",value:function(){return Object(r.jsx)(l.Fragment,{children:Object(r.jsx)("p",{className:"font-size-13",children:"This area displays the votes that have already completed in the system."})})}},{key:"renderVotes",value:function(){var e=this,t=this.state.votes,n=this.props.authUser,i=[];return t&&t.length?(t.forEach((function(t,c){n&&n.is_member?i.push(Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"informal"==t.type?"Informal":"Formal"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickRow(t)},children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderMyVote(t)}),Object(r.jsx)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderRep(t)}),Object(r.jsx)("div",{className:"c-col-7 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderResult(t)}),Object(r.jsx)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderStake(t)}),Object(r.jsx)("div",{className:"c-col-9 c-cols",children:e.renderQuorum(t)}),Object(r.jsx)("div",{className:"c-col-10 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[me(t.updated_at).local().format("M/D/YYYY")," ",me(t.updated_at).local().format("h:mm A")]})})]})},"vote_".concat(c))):i.push(Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"infinite-row",children:[Object(r.jsx)("div",{className:"c-col-0 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:t.proposalId})}),Object(r.jsx)("div",{className:"c-col-1 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:e.renderTitle(t)})}),Object(r.jsx)("div",{className:"c-col-2 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"informal"==t.type?"Informal":"Formal"})}),Object(r.jsx)("div",{className:"c-col-3 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsx)("label",{className:"font-size-14 d-block",children:"grant"==t.content_type?"Grant":"simple"==t.content_type?"Simple":"Milestone"})}),Object(r.jsx)("div",{className:"c-col-4 c-cols",onClick:function(){return e.clickRow(t)},children:ie.a.formatPriceNumber(t.euros||"","\u20ac")}),Object(r.jsx)("div",{className:"c-col-5 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderResult(t)}),Object(r.jsx)("div",{className:"c-col-6 c-cols",onClick:function(){return e.clickRow(t)},children:e.renderStake(t)}),Object(r.jsx)("div",{className:"c-col-7 c-cols",children:e.renderQuorum(t)}),Object(r.jsx)("div",{className:"c-col-8 c-cols",onClick:function(){return e.clickRow(t)},children:Object(r.jsxs)("label",{className:"font-size-14 d-block",children:[me(t.updated_at).local().format("M/D/YYYY")," ",me(t.updated_at).local().format("h:mm A")]})})]})},"vote_".concat(c)))})),Object(r.jsx)("ul",{children:i})):Object(r.jsx)("div",{id:"infinite-no-result",children:Object(r.jsx)("label",{className:"font-size-14",children:"No Results Found"})})}},{key:"render",value:function(){var e=this.props.authUser,t=this.state,n=t.loading,i=t.search,c=e&&e.is_member?"member":"";return c+=" app-infinite-box",Object(r.jsx)(p.Fade,{distance:"20px",bottom:!0,duration:200,delay:700,children:Object(r.jsxs)("section",{id:"app-completed-votes-section",className:c,children:[Object(r.jsxs)("div",{className:"app-infinite-search-wrap",children:[e.is_admin?Object(r.jsx)("label",{children:"Completed Votes"}):Object(r.jsxs)("div",{className:"app-tooltip-wrap",children:[Object(r.jsx)("label",{children:"Completed Votes"}),Object(r.jsx)(ee,{title:this.renderTooltip(),placement:"right-end",children:Object(r.jsx)(_.a,{size:16})})]}),Object(r.jsx)("input",{type:"text",value:i,onChange:this.handleSearch,placeholder:"Search..."})]}),Object(r.jsx)("div",{className:"infinite-content",children:Object(r.jsxs)("div",{className:"infinite-contentInner",children:[this.renderHeader(),Object(r.jsx)("div",{className:"infinite-body",id:"app-completed-votes-sectionBody",children:n?Object(r.jsx)(te.e,{}):this.renderVotes()})]})})]})})}}]),n}(l.Component),be=Object(u.b)((function(e){return{authUser:e.global.authUser,settings:e.global.settings,completedVotesTableStatus:e.admin.completedVotesTableStatus}}))(Object(f.g)(he));n("3ase");function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(a.a)(e);if(t){var i=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var ve=function(e){Object(o.a)(n,e);var t=je(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={tab:"active"},r}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.authUser,n=this.state.tab;return t&&t.id?Object(r.jsxs)("div",{id:"app-votes-page",children:[Object(r.jsx)(p.Fade,{distance:"20px",bottom:!0,duration:400,delay:600,children:Object(r.jsxs)("ul",{id:"app-votes-pageHeader",children:[Object(r.jsx)("li",{className:"active"==n?"active":"",onClick:function(){return e.setState({tab:"active"})},children:"Active"}),Object(r.jsx)("li",{className:"completed"==n?"active":"",onClick:function(){return e.setState({tab:"completed"})},children:"Completed"})]})}),"active"==n?Object(r.jsxs)(l.Fragment,{children:[Object(r.jsx)(ae,{}),Object(r.jsx)(fe,{})]}):Object(r.jsx)(l.Fragment,{children:Object(r.jsx)(be,{})})]}):null}}]),n}(l.Component);t.default=Object(u.b)((function(e){return{authUser:e.global.authUser}}))(Object(f.g)(ve))}}]);