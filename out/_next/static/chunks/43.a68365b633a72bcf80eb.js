(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[43],{Fsso:function(t,e,o){"use strict";o.r(e);var s=o("nKUr"),p=o("1OyB"),r=o("vuIU"),a=o("JX7q"),c=o("Ji7U"),n=o("md7G"),i=o("foSv"),l=o("rePB"),u=o("q1tI"),d=o("/MKj"),h=o("Ty5D"),f=(o("LHQS"),o("xDwY")),b=o("e+cM"),j=o("LADp"),v=o("ZpDd");function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,s=Object(i.a)(t);if(e){var p=Object(i.a)(this).constructor;o=Reflect.construct(s,arguments,p)}else o=s.apply(this,arguments);return Object(n.a)(this,o)}}var y=function(t){Object(c.a)(o,t);var e=O(o);function o(t){var s;return Object(p.a)(this,o),s=e.call(this,t),Object(l.a)(Object(a.a)(s),"edit",(function(t,e,o){s.props.dispatch(Object(j.fd)({id:s.state.proposalId,type:t.type},t,(function(){s.props.dispatch(Object(v.Ab)())}),(function(t){var p=s.props.history;if(t.success&&t.proposal&&t.proposal.id)if(null!==e&&void 0!==e&&e.length||null!==o&&void 0!==o&&o.length){var r=new FormData;null!==o&&void 0!==o&&o.length&&r.append("ids_to_remove",o.join(",")),e.forEach((function(t){t.id||(r.append("files[]",t),r.append("names[]",t.name))})),r.append("proposal",t.proposal.id),s.props.dispatch(Object(j.jd)(r,(function(){}),(function(t){t.success&&(p.push("/app/proposals"),s.props.dispatch(Object(v.zb)("You have successfully re-submitted your proposal. We will review it and keep you posted.","success")),s.props.dispatch(Object(v.T)()))})))}else p.push("/app/proposals"),s.props.dispatch(Object(v.zb)("You have successfully re-submitted your proposal. We will review it and keep you posted.","success")),s.props.dispatch(Object(v.T)());else s.props.dispatch(Object(v.T)())})))})),s.state={proposal:null,proposalId:0,loading:!1},s}return Object(r.a)(o,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.proposalId;this.props.dispatch(Object(j.Sb)(e,(function(){t.setState({loading:!0}),t.props.dispatch(Object(v.Ab)())}),(function(o){t.props.dispatch(Object(v.T)());var s=o.proposal||{};t.setState({loading:!1,proposalId:e,proposal:s})})))}},{key:"render",value:function(){var t=this.props.authUser,e=this.state.proposal;return t&&t.id?Object(s.jsxs)("div",{id:"app-edit-proposal-page",children:[Object(s.jsx)("div",{style:{marginTop:"50px"},children:Object(s.jsx)(b.l,{title:"Edit Proposal: "+(e?null===e||void 0===e?void 0:e.title:""),link:"/app/proposals"})}),Object(s.jsxs)("p",{children:["Please read"," ",Object(s.jsx)("a",{href:"https://portal.devxdao.com/guide.pdf",target:"_blank",rel:"noreferrer",className:"dynamic-color",children:Object(s.jsx)("u",{children:"the guide"})})," ","first to understand this form."]}),e&&Object(s.jsx)(f.a,{proposal:e,onChange:this.edit})]}):null}}]),o}(u.Component);e.default=Object(d.b)((function(t){return{authUser:t.global.authUser}}))(Object(h.g)(y))}}]);